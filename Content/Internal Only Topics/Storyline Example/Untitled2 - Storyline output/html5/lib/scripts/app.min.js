var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function i(e,t){var i,n,r,s,o,a,l,u,c,h,p,d=t&&t.split("/"),f=m.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),o=e.length-1,m.nodeIdCompat&&b.test(e[o])&&(e[o]=e[o].replace(b,"")),e=d.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&f){for(i=e.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),d)for(h=d.length;h>0;h-=1)if(r=f[d.slice(0,h).join("/")],r&&(r=r[n])){s=r,a=c;break}if(s)break;!l&&g&&g[n]&&(l=g[n],u=c)}!s&&l&&(s=l,a=u),s&&(i.splice(0,a,s),e=i.join("/"))}return e}function n(t,i){return function(){return c.apply(e,y.call(arguments,0).concat([t,i]))}}function r(e){return function(t){return i(t,e)}}function s(e){return function(t){d[e]=t}}function o(i){if(t(f,i)){var n=f[i];delete f[i],g[i]=!0,u.apply(e,n)}if(!t(d,i)&&!t(g,i))throw new Error("No "+i);return d[i]}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var u,c,h,p,d={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;h=function(e,t){var n,s=a(e),l=s[0];return e=s[1],l&&(l=i(l,t),n=o(l)),l?e=n&&n.normalize?n.normalize(e,r(t)):i(e,t):(e=i(e,t),s=a(e),l=s[0],e=s[1],l&&(n=o(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:n}},p={require:function(e){return n(e)},exports:function(e){var t=d[e];return"undefined"!=typeof t?t:d[e]={}},module:function(e){return{id:e,uri:"",exports:d[e],config:l(e)}}},u=function(i,r,a,l){var u,c,m,v,y,b,w=[],S=typeof a;if(l=l||i,"undefined"===S||"function"===S){for(r=!r.length&&a.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(v=h(r[y],l),c=v.f,"require"===c)w[y]=p.require(i);else if("exports"===c)w[y]=p.exports(i),b=!0;else if("module"===c)u=w[y]=p.module(i);else if(t(d,c)||t(f,c)||t(g,c))w[y]=o(c);else{if(!v.p)throw new Error(i+" missing "+c);v.p.load(v.n,n(l,!0),s(c),{}),w[y]=d[c]}m=a?a.apply(d[i],w):void 0,i&&(u&&u.exports!==e&&u.exports!==d[i]?d[i]=u.exports:m===e&&b||(d[i]=m))}else i&&(d[i]=a)},requirejs=require=c=function(t,i,n,r,s){if("string"==typeof t)return p[t]?p[t](i):o(h(t,i).f);if(!t.splice){if(m=t,m.deps&&c(m.deps,m.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=r,r=s),r?u(e,t,i,n):setTimeout(function(){u(e,t,i,n)},4),c},c.config=function(e){return c(e)},requirejs._defined=d,define=function(e,i,n){i.splice||(n=i,i=[]),t(d,e)||t(f,e)||(f[e]=[e,i,n])},define.amd={jQuery:!0}}(),define("almond",function(){}),define("features/featureOverrides",[],function(){"use strict";return{}}),define("features/featuresHelper",["features/featureOverrides"],function(e){"use strict";return{initialize:function(){var t=null==window.globals.features?[]:window.globals.features.split(",");t.forEach(function(t){null!=e[t]&&requirejs.config(Object.keys(e[t]).reduce(function(i,n){var r=e[t][n];return i.map["*"][n]=r,i},{map:{"*":{}}}))})}}}),function(){function e(e,t){if(e!==t){var i=null===e,n=e===x,r=e===e,s=null===t,o=t===x,a=t===t;if(e>t&&!s||!r||i&&!o&&a||n&&a)return 1;if(t>e&&!i||!a||s&&!n&&r||o&&r)return-1}return 0}function t(e,t,i){for(var n=e.length,r=i?n:-1;i?r--:++r<n;)if(t(e[r],r,e))return r;return-1}function i(e,t,i){if(t!==t)return d(e,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function n(e){return"function"==typeof e||!1}function r(e){return null==e?"":e+""}function s(e,t){for(var i=-1,n=e.length;++i<n&&t.indexOf(e.charAt(i))>-1;);return i}function o(e,t){for(var i=e.length;i--&&t.indexOf(e.charAt(i))>-1;);return i}function a(t,i){return e(t.criteria,i.criteria)||t.index-i.index}function l(t,i,n){for(var r=-1,s=t.criteria,o=i.criteria,a=s.length,l=n.length;++r<a;){var u=e(s[r],o[r]);if(u){if(r>=l)return u;var c=n[r];return u*("asc"===c||c===!0?1:-1)}}return t.index-i.index}function u(e){return Ue[e]}function c(e){return He[e]}function h(e,t,i){return t?e=Ge[e]:i&&(e=ze[e]),"\\"+e}function p(e){return"\\"+ze[e]}function d(e,t,i){for(var n=e.length,r=t+(i?0:-1);i?r--:++r<n;){var s=e[r];if(s!==s)return r}return-1}function f(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function g(e,t){for(var i=-1,n=e.length,r=-1,s=[];++i<n;)e[i]===t&&(e[i]=U,s[++r]=i);return s}function v(e,t){for(var i,n=-1,r=e.length,s=-1,o=[];++n<r;){var a=e[n],l=t?t(a,n,e):a;n&&i===l||(i=l,o[++s]=a)}return o}function y(e){for(var t=-1,i=e.length;++t<i&&m(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function w(e){return qe[e]}function S(m){function Y(e){if(f(e)&&!Aa(e)&&!(e instanceof Ue)){if(e instanceof ee)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return dn(e)}return new ee(e)}function J(){}function ee(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}function Ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ko,this.__views__=[]}function He(){var e=new Ue(this.__wrapped__);return e.__actions__=it(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=it(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=it(this.__views__),e}function qe(){if(this.__filtered__){var e=new Ue(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function We(){var e=this.__wrapped__.value(),t=this.__dir__,i=Aa(e),n=0>t,r=i?e.length:0,s=Gi(0,r,this.__views__),o=s.start,a=s.end,l=a-o,u=n?a:o-1,c=this.__iteratees__,h=c.length,p=0,d=To(l,this.__takeCount__);if(!i||V>r||r==l&&d==l)return ii(e,this.__actions__);var f=[];e:for(;l--&&d>p;){u+=t;for(var m=-1,g=e[u];++m<h;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(b==B)g=w;else if(!w){if(b==j)continue e;break e}}f[p++]=g}return f}function Ge(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function Xe(e){return"__proto__"==e?x:this.__data__[e]}function Ye(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Qe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ke(e){var t=e?e.length:0;for(this.data={hash:vo(null),set:new co};t--;)this.push(e[t])}function $e(e,t){var i=e.data,n="string"==typeof t||Lr(t)?i.set.has(t):i.hash[t];return n?0:-1}function Je(e){var t=this.data;"string"==typeof e||Lr(e)?t.set.add(e):t.hash[e]=!0}function tt(e,t){for(var i=-1,n=e.length,r=-1,s=t.length,o=Fs(n+s);++i<n;)o[i]=e[i];for(;++r<s;)o[i++]=t[r];return o}function it(e,t){var i=-1,n=e.length;for(t||(t=Fs(n));++i<n;)t[i]=e[i];return t}function nt(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}function rt(e,t){for(var i=e.length;i--&&t(e[i],i,e)!==!1;);return e}function st(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function ot(e,t,i,n){for(var r=-1,s=e.length,o=n,a=o;++r<s;){var l=e[r],u=+t(l);i(u,o)&&(o=u,a=l)}return a}function at(e,t){for(var i=-1,n=e.length,r=-1,s=[];++i<n;){var o=e[i];t(o,i,e)&&(s[++r]=o)}return s}function lt(e,t){for(var i=-1,n=e.length,r=Fs(n);++i<n;)r[i]=t(e[i],i,e);return r}function ut(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function ct(e,t,i,n){var r=-1,s=e.length;for(n&&s&&(i=e[++r]);++r<s;)i=t(i,e[r],r,e);return i}function ht(e,t,i,n){var r=e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i}function pt(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function dt(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}function ft(e,t){return e===x?t:e}function mt(e,t,i,n){return e!==x&&eo.call(n,i)?e:t}function gt(e,t,i){for(var n=-1,r=Fa(t),s=r.length;++n<s;){var o=r[n],a=e[o],l=i(a,t[o],o,e,t);(l===l?l===a:a!==a)&&(a!==x||o in e)||(e[o]=l)}return e}function vt(e,t){return null==t?e:bt(t,Fa(t),e)}function yt(e,t){for(var i=-1,n=null==e,r=!n&&Ki(e),s=r?e.length:0,o=t.length,a=Fs(o);++i<o;){var l=t[i];r?a[i]=$i(l,s)?e[l]:x:a[i]=n?x:e[l]}return a}function bt(e,t,i){i||(i={});for(var n=-1,r=t.length;++n<r;){var s=t[n];i[s]=e[s]}return i}function wt(e,t,i){var n=typeof e;return"function"==n?t===x?e:si(e,t,i):null==e?_s:"object"==n?Bt(e):t===x?Os(e):Ft(e,t)}function St(e,t,i,n,r,s,o){var a;if(i&&(a=r?i(e,n,r):i(e)),a!==x)return a;if(!Lr(e))return e;var l=Aa(e);if(l){if(a=zi(e),!t)return it(e,a)}else{var u=io.call(e),c=u==X;if(u!=K&&u!=H&&(!c||r))return Fe[u]?Yi(e,u,t):r?e:{};if(a=Xi(c?{}:e),!t)return vt(a,e)}s||(s=[]),o||(o=[]);for(var h=s.length;h--;)if(s[h]==e)return o[h];return s.push(e),o.push(a),(l?nt:Mt)(e,function(n,r){a[r]=St(n,t,i,r,e,s,o)}),a}function xt(e,t,i){if("function"!=typeof e)throw new Qs(F);return ho(function(){e.apply(x,i)},t)}function Tt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var s=-1,o=Hi(),a=o===i,l=a&&t.length>=V?fi(t):null,u=t.length;l&&(o=$e,a=!1,t=l);e:for(;++s<n;){var c=e[s];if(a&&c===c){for(var h=u;h--;)if(t[h]===c)continue e;r.push(c)}else o(t,c,0)<0&&r.push(c)}return r}function Ct(e,t){var i=!0;return No(e,function(e,n,r){return i=!!t(e,n,r)}),i}function Pt(e,t,i,n){var r=n,s=r;return No(e,function(e,o,a){var l=+t(e,o,a);(i(l,r)||l===n&&l===s)&&(r=l,s=e)}),s}function Et(e,t,i,n){var r=e.length;for(i=null==i?0:+i||0,0>i&&(i=-i>r?0:r+i),n=n===x||n>r?r:+n||0,0>n&&(n+=r),r=i>n?0:n>>>0,i>>>=0;r>i;)e[i++]=t;return e}function _t(e,t){var i=[];return No(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function kt(e,t,i,n){var r;return i(e,function(e,i,s){return t(e,i,s)?(r=n?i:e,!1):void 0}),r}function At(e,t,i,n){n||(n=[]);for(var r=-1,s=e.length;++r<s;){var o=e[r];f(o)&&Ki(o)&&(i||Aa(o)||Pr(o))?t?At(o,t,i,n):ut(n,o):i||(n[n.length]=o)}return n}function Rt(e,t){return jo(e,t,es)}function Mt(e,t){return jo(e,t,Fa)}function It(e,t){return Bo(e,t,Fa)}function Ot(e,t){for(var i=-1,n=t.length,r=-1,s=[];++i<n;){var o=t[i];Or(e[o])&&(s[++r]=o)}return s}function Lt(e,t,i){if(null!=e){i!==x&&i in hn(e)&&(t=[i]);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:x}}function Dt(e,t,i,n,r,s){return e===t?!0:null==e||null==t||!Lr(e)&&!f(t)?e!==e&&t!==t:Nt(e,t,Dt,i,n,r,s)}function Nt(e,t,i,n,r,s,o){var a=Aa(e),l=Aa(t),u=q,c=q;a||(u=io.call(e),u==H?u=K:u!=K&&(a=qr(e))),l||(c=io.call(t),c==H?c=K:c!=K&&(l=qr(t)));var h=u==K,p=c==K,d=u==c;if(d&&!a&&!h)return ji(e,t,u);if(!r){var f=h&&eo.call(e,"__wrapped__"),m=p&&eo.call(t,"__wrapped__");if(f||m)return i(f?e.value():e,m?t.value():t,n,r,s,o)}if(!d)return!1;s||(s=[]),o||(o=[]);for(var g=s.length;g--;)if(s[g]==e)return o[g]==t;s.push(e),o.push(t);var v=(a?Vi:Bi)(e,t,i,n,r,s,o);return s.pop(),o.pop(),v}function Vt(e,t,i){var n=t.length,r=n,s=!i;if(null==e)return!r;for(e=hn(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<r;){o=t[n];var a=o[0],l=e[a],u=o[1];if(s&&o[2]){if(l===x&&!(a in e))return!1}else{var c=i?i(l,u,a):x;if(!(c===x?Dt(u,l,i,!0):c))return!1}}return!0}function jt(e,t){var i=-1,n=Ki(e)?Fs(e.length):[];return No(e,function(e,r,s){n[++i]=t(e,r,s)}),n}function Bt(e){var t=qi(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[i]===n&&(n!==x||i in hn(e))}}return function(e){return Vt(e,t)}}function Ft(e,t){var i=Aa(e),n=Zi(e)&&nn(t),r=e+"";return e=pn(e),function(s){if(null==s)return!1;var o=r;if(s=hn(s),(i||!n)&&!(o in s)){if(s=1==e.length?s:Lt(s,Yt(e,0,-1)),null==s)return!1;o=En(e),s=hn(s)}return s[o]===t?t!==x||o in s:Dt(t,s[o],x,!0)}}function Ut(e,t,i,n,r){if(!Lr(e))return e;var s=Ki(t)&&(Aa(t)||qr(t)),o=s?x:Fa(t);return nt(o||t,function(a,l){if(o&&(l=a,a=t[l]),f(a))n||(n=[]),r||(r=[]),Ht(e,t,l,Ut,i,n,r);else{var u=e[l],c=i?i(u,a,l,e,t):x,h=c===x;h&&(c=a),c===x&&(!s||l in e)||!h&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Ht(e,t,i,n,r,s,o){for(var a=s.length,l=t[i];a--;)if(s[a]==l)return void(e[i]=o[a]);var u=e[i],c=r?r(u,l,i,e,t):x,h=c===x;h&&(c=l,Ki(l)&&(Aa(l)||qr(l))?c=Aa(u)?u:Ki(u)?it(u):[]:Fr(l)||Pr(l)?c=Pr(u)?Yr(u):Fr(u)?u:{}:h=!1),s.push(l),o.push(c),h?e[i]=n(c,l,r,s,o):(c===c?c!==u:u===u)&&(e[i]=c)}function qt(e){return function(t){return null==t?x:t[e]}}function Wt(e){var t=e+"";return e=pn(e),function(i){return Lt(i,e,t)}}function Gt(e,t){for(var i=e?t.length:0;i--;){var n=t[i];if(n!=r&&$i(n)){var r=n;po.call(e,n,1)}}return e}function zt(e,t){return e+yo(Eo()*(t-e+1))}function Xt(e,t,i,n,r){return r(e,function(e,r,s){i=n?(n=!1,e):t(i,e,r,s)}),i}function Yt(e,t,i){var n=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),i=i===x||i>r?r:+i||0,0>i&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var s=Fs(r);++n<r;)s[n]=e[n+t];return s}function Qt(e,t){var i;return No(e,function(e,n,r){return i=t(e,n,r),!i}),!!i}function Kt(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function $t(e,t,i){var n=Fi(),r=-1;t=lt(t,function(e){return n(e)});var s=jt(e,function(e){var i=lt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return Kt(s,function(e,t){return l(e,t,i)})}function Jt(e,t){var i=0;return No(e,function(e,n,r){i+=+t(e,n,r)||0}),i}function Zt(e,t){var n=-1,r=Hi(),s=e.length,o=r===i,a=o&&s>=V,l=a?fi():null,u=[];l?(r=$e,o=!1):(a=!1,l=t?[]:u);e:for(;++n<s;){var c=e[n],h=t?t(c,n,e):c;if(o&&c===c){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),u.push(c)}else r(l,h,0)<0&&((t||a)&&l.push(h),u.push(c))}return u}function ei(e,t){for(var i=-1,n=t.length,r=Fs(n);++i<n;)r[i]=e[t[i]];return r}function ti(e,t,i,n){for(var r=e.length,s=n?r:-1;(n?s--:++s<r)&&t(e[s],s,e););return i?Yt(e,n?0:s,n?s+1:r):Yt(e,n?s+1:0,n?r:s)}function ii(e,t){var i=e;i instanceof Ue&&(i=i.value());for(var n=-1,r=t.length;++n<r;){var s=t[n];i=s.func.apply(s.thisArg,ut([i],s.args))}return i}function ni(e,t,i){var n=0,r=e?e.length:n;if("number"==typeof t&&t===t&&Mo>=r){for(;r>n;){var s=n+r>>>1,o=e[s];(i?t>=o:t>o)&&null!==o?n=s+1:r=s}return r}return ri(e,t,_s,i)}function ri(e,t,i,n){t=i(t);for(var r=0,s=e?e.length:0,o=t!==t,a=null===t,l=t===x;s>r;){var u=yo((r+s)/2),c=i(e[u]),h=c!==x,p=c===c;if(o)var d=p||n;else d=a?p&&h&&(n||null!=c):l?p&&(n||h):null==c?!1:n?t>=c:t>c;d?r=u+1:s=u}return To(s,Ro)}function si(e,t,i){if("function"!=typeof e)return _s;if(t===x)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,s){return e.call(t,i,n,r,s)};case 5:return function(i,n,r,s,o){return e.call(t,i,n,r,s,o)}}return function(){return e.apply(t,arguments)}}function oi(e){var t=new so(e.byteLength),i=new fo(t);return i.set(new fo(e)),t}function ai(e,t,i){for(var n=i.length,r=-1,s=xo(e.length-n,0),o=-1,a=t.length,l=Fs(a+s);++o<a;)l[o]=t[o];for(;++r<n;)l[i[r]]=e[r];for(;s--;)l[o++]=e[r++];return l}function li(e,t,i){for(var n=-1,r=i.length,s=-1,o=xo(e.length-r,0),a=-1,l=t.length,u=Fs(o+l);++s<o;)u[s]=e[s];for(var c=s;++a<l;)u[c+a]=t[a];for(;++n<r;)u[c+i[n]]=e[s++];return u}function ui(e,t){return function(i,n,r){var s=t?t():{};if(n=Fi(n,r,3),Aa(i))for(var o=-1,a=i.length;++o<a;){var l=i[o];e(s,l,n(l,o,i),i)}else No(i,function(t,i,r){e(s,t,n(t,i,r),r)});return s}}function ci(e){return vr(function(t,i){var n=-1,r=null==t?0:i.length,s=r>2?i[r-2]:x,o=r>2?i[2]:x,a=r>1?i[r-1]:x;for("function"==typeof s?(s=si(s,a,5),r-=2):(s="function"==typeof a?a:x,r-=s?1:0),o&&Ji(i[0],i[1],o)&&(s=3>r?x:s,r=1);++n<r;){var l=i[n];l&&e(t,l,s)}return t})}function hi(e,t){return function(i,n){var r=i?Ho(i):0;if(!tn(r))return e(i,n);for(var s=t?r:-1,o=hn(i);(t?s--:++s<r)&&n(o[s],s,o)!==!1;);return i}}function pi(e){return function(t,i,n){for(var r=hn(t),s=n(t),o=s.length,a=e?o:-1;e?a--:++a<o;){var l=s[a];if(i(r[l],l,r)===!1)break}return t}}function di(e,t){function i(){var r=this&&this!==Ze&&this instanceof i?n:e;return r.apply(t,arguments)}var n=gi(e);return i}function fi(e){return vo&&co?new Ke(e):null}function mi(e){return function(t){for(var i=-1,n=Cs(cs(t)),r=n.length,s="";++i<r;)s=e(s,n[i],i);return s}}function gi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Do(e.prototype),n=e.apply(i,t);return Lr(n)?n:i}}function vi(e){function t(i,n,r){r&&Ji(i,n,r)&&(n=x);var s=Ni(i,e,x,x,x,x,x,n);return s.placeholder=t.placeholder,s}return t}function yi(e,t){return vr(function(i){var n=i[0];return null==n?n:(i.push(t),e.apply(x,i))})}function bi(e,t){return function(i,n,r){if(r&&Ji(i,n,r)&&(n=x),n=Fi(n,r,3),1==n.length){i=Aa(i)?i:cn(i);var s=ot(i,n,e,t);if(!i.length||s!==t)return s}return Pt(i,n,e,t)}}function wi(e,i){return function(n,r,s){if(r=Fi(r,s,3),Aa(n)){var o=t(n,r,i);return o>-1?n[o]:x}return kt(n,r,e)}}function Si(e){return function(i,n,r){return i&&i.length?(n=Fi(n,r,3),t(i,n,e)):-1}}function xi(e){return function(t,i,n){return i=Fi(i,n,3),kt(t,i,e,!0)}}function Ti(e){return function(){for(var t,i=arguments.length,n=e?i:-1,r=0,s=Fs(i);e?n--:++n<i;){var o=s[r++]=arguments[n];if("function"!=typeof o)throw new Qs(F);!t&&ee.prototype.thru&&"wrapper"==Ui(o)&&(t=new ee([],!0))}for(n=t?-1:i;++n<i;){o=s[n];var a=Ui(o),l="wrapper"==a?Uo(o):x;t=l&&en(l[0])&&l[1]==(M|_|A|I)&&!l[4].length&&1==l[9]?t[Ui(l[0])].apply(t,l[3]):1==o.length&&en(o)?t[a]():t.thru(o)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&Aa(n)&&n.length>=V)return t.plant(n).value();for(var r=0,o=i?s[r].apply(this,e):n;++r<i;)o=s[r].call(this,o);return o}}}function Ci(e,t){return function(i,n,r){return"function"==typeof n&&r===x&&Aa(i)?e(i,n):t(i,si(n,r,3))}}function Pi(e){return function(t,i,n){return"function"==typeof i&&n===x||(i=si(i,n,3)),e(t,i,es)}}function Ei(e){return function(t,i,n){return"function"==typeof i&&n===x||(i=si(i,n,3)),e(t,i)}}function _i(e){return function(t,i,n){var r={};return i=Fi(i,n,3),Mt(t,function(t,n,s){var o=i(t,n,s);n=e?o:n,t=e?t:o,r[n]=t}),r}}function ki(e){return function(t,i,n){return t=r(t),(e?t:"")+Ii(t,i,n)+(e?"":t)}}function Ai(e){var t=vr(function(i,n){var r=g(n,t.placeholder);return Ni(i,e,x,n,r)});return t}function Ri(e,t){return function(i,n,r,s){var o=arguments.length<3;return"function"==typeof n&&s===x&&Aa(i)?e(i,n,r,o):Xt(i,Fi(n,s,4),r,o,t)}}function Mi(e,t,i,n,r,s,o,a,l,u){function c(){for(var b=arguments.length,w=b,S=Fs(b);w--;)S[w]=arguments[w];if(n&&(S=ai(S,n,r)),s&&(S=li(S,s,o)),f||v){var T=c.placeholder,E=g(S,T);if(b-=E.length,u>b){var _=a?it(a):x,k=xo(u-b,0),M=f?E:x,I=f?x:E,O=f?S:x,L=f?x:S;t|=f?A:R,t&=~(f?R:A),m||(t&=~(C|P));var D=[e,t,i,O,M,L,I,_,l,k],N=Mi.apply(x,D);return en(e)&&qo(N,D),N.placeholder=T,N}}var V=p?i:this,j=d?V[e]:e;return a&&(S=ln(S,a)),h&&l<S.length&&(S.length=l),this&&this!==Ze&&this instanceof c&&(j=y||gi(e)),j.apply(V,S)}var h=t&M,p=t&C,d=t&P,f=t&_,m=t&E,v=t&k,y=d?x:gi(e);return c}function Ii(e,t,i){var n=e.length;if(t=+t,n>=t||!wo(t))return"";var r=t-n;return i=null==i?" ":i+"",gs(i,go(r/i.length)).slice(0,r)}function Oi(e,t,i,n){function r(){for(var t=-1,a=arguments.length,l=-1,u=n.length,c=Fs(u+a);++l<u;)c[l]=n[l];for(;a--;)c[l++]=arguments[++t];var h=this&&this!==Ze&&this instanceof r?o:e;return h.apply(s?i:this,c)}var s=t&C,o=gi(e);return r}function Li(e){var t=Ws[e];return function(e,i){return i=i===x?0:+i||0,i?(i=lo(10,i),t(e*i)/i):t(e)}}function Di(e){return function(t,i,n,r){var s=Fi(n);return null==n&&s===wt?ni(t,i,e):ri(t,i,s(n,r,1),e)}}function Ni(e,t,i,n,r,s,o,a){var l=t&P;if(!l&&"function"!=typeof e)throw new Qs(F);var u=n?n.length:0;if(u||(t&=~(A|R),n=r=x),u-=r?r.length:0,t&R){var c=n,h=r;n=r=x}var p=l?x:Uo(e),d=[e,t,i,n,r,c,h,s,o,a];if(p&&(rn(d,p),t=d[1],a=d[9]),d[9]=null==a?l?0:e.length:xo(a-u,0)||0,t==C)var f=di(d[0],d[2]);else f=t!=A&&t!=(C|A)||d[4].length?Mi.apply(x,d):Oi.apply(x,d);var m=p?Fo:qo;return m(f,d)}function Vi(e,t,i,n,r,s,o){var a=-1,l=e.length,u=t.length;if(l!=u&&!(r&&u>l))return!1;for(;++a<l;){var c=e[a],h=t[a],p=n?n(r?h:c,r?c:h,a):x;if(p!==x){if(p)continue;return!1}if(r){if(!pt(t,function(e){return c===e||i(c,e,n,r,s,o)}))return!1}else if(c!==h&&!i(c,h,n,r,s,o))return!1}return!0}function ji(e,t,i){switch(i){case W:case G:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case $:case Z:return e==t+""}return!1}function Bi(e,t,i,n,r,s,o){var a=Fa(e),l=a.length,u=Fa(t),c=u.length;if(l!=c&&!r)return!1;for(var h=l;h--;){var p=a[h];if(!(r?p in t:eo.call(t,p)))return!1}for(var d=r;++h<l;){p=a[h];var f=e[p],m=t[p],g=n?n(r?m:f,r?f:m,p):x;if(!(g===x?i(f,m,n,r,s,o):g))return!1;d||(d="constructor"==p)}if(!d){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Fi(e,t,i){var n=Y.callback||Ps;return n=n===Ps?wt:n,i?n(e,t,i):n}function Ui(e){for(var t=e.name+"",i=Lo[t],n=i?i.length:0;n--;){var r=i[n],s=r.func;if(null==s||s==e)return r.name}return t}function Hi(e,t,n){var r=Y.indexOf||Cn;return r=r===Cn?i:r,e?r(e,t,n):r}function qi(e){for(var t=ts(e),i=t.length;i--;)t[i][2]=nn(t[i][1]);return t}function Wi(e,t){var i=null==e?x:e[t];return Vr(i)?i:x}function Gi(e,t,i){for(var n=-1,r=i.length;++n<r;){var s=i[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=To(t,e+o);break;case"takeRight":e=xo(e,t-o)}}return{start:e,end:t}}function zi(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Xi(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=zs),new t}function Yi(e,t,i){var n=e.constructor;switch(t){case te:return oi(e);case W:case G:return new n(+e);case ie:case ne:case re:case se:case oe:case ae:case le:case ue:case ce:var r=e.buffer;return new n(i?oi(r):r,e.byteOffset,e.length);case Q:case Z:return new n(e);case $:var s=new n(e.source,Ae.exec(e));s.lastIndex=e.lastIndex}return s}function Qi(e,t,i){null==e||Zi(t,e)||(t=pn(t),e=1==t.length?e:Lt(e,Yt(t,0,-1)),t=En(t));var n=null==e?e:e[t];return null==n?x:n.apply(e,i)}function Ki(e){return null!=e&&tn(Ho(e))}function $i(e,t){return e="number"==typeof e||Ie.test(e)?+e:-1,t=null==t?Io:t,e>-1&&e%1==0&&t>e}function Ji(e,t,i){if(!Lr(i))return!1;var n=typeof t;if("number"==n?Ki(i)&&$i(t,i.length):"string"==n&&t in i){var r=i[t];return e===e?e===r:r!==r}return!1}function Zi(e,t){var i=typeof e;if("string"==i&&xe.test(e)||"number"==i)return!0;if(Aa(e))return!1;var n=!Se.test(e);return n||null!=t&&e in hn(t)}function en(e){var t=Ui(e),i=Y[t];if("function"!=typeof i||!(t in Ue.prototype))return!1;if(e===i)return!0;var n=Uo(i);return!!n&&e===n[0]}function tn(e){return"number"==typeof e&&e>-1&&e%1==0&&Io>=e}function nn(e){return e===e&&!Lr(e)}function rn(e,t){var i=e[1],n=t[1],r=i|n,s=M>r,o=n==M&&i==_||n==M&&i==I&&e[7].length<=t[8]||n==(M|I)&&i==_;if(!s&&!o)return e;n&C&&(e[2]=t[2],r|=i&C?0:E);var a=t[3];if(a){var l=e[3];e[3]=l?ai(l,a,t[4]):it(a),e[4]=l?g(e[3],U):it(t[4])}return a=t[5],a&&(l=e[5],e[5]=l?li(l,a,t[6]):it(a),e[6]=l?g(e[5],U):it(t[6])),a=t[7],a&&(e[7]=it(a)),n&M&&(e[8]=null==e[8]?t[8]:To(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function sn(e,t){return e===x?t:Ra(e,t,sn)}function on(e,t){e=hn(e);for(var i=-1,n=t.length,r={};++i<n;){var s=t[i];s in e&&(r[s]=e[s])}return r}function an(e,t){var i={};return Rt(e,function(e,n,r){t(e,n,r)&&(i[n]=e)}),i}function ln(e,t){for(var i=e.length,n=To(t.length,i),r=it(e);n--;){var s=t[n];e[n]=$i(s,i)?r[s]:x}return e}function un(e){for(var t=es(e),i=t.length,n=i&&e.length,r=!!n&&tn(n)&&(Aa(e)||Pr(e)),s=-1,o=[];++s<i;){var a=t[s];(r&&$i(a,n)||eo.call(e,a))&&o.push(a)}return o}function cn(e){return null==e?[]:Ki(e)?Lr(e)?e:zs(e):ss(e)}function hn(e){return Lr(e)?e:zs(e)}function pn(e){if(Aa(e))return e;var t=[];return r(e).replace(Te,function(e,i,n,r){t.push(n?r.replace(_e,"$1"):i||e)}),t}function dn(e){return e instanceof Ue?e.clone():new ee(e.__wrapped__,e.__chain__,it(e.__actions__))}function fn(e,t,i){t=(i?Ji(e,t,i):null==t)?1:xo(yo(t)||1,1);for(var n=0,r=e?e.length:0,s=-1,o=Fs(go(r/t));r>n;)o[++s]=Yt(e,n,n+=t);return o}function mn(e){for(var t=-1,i=e?e.length:0,n=-1,r=[];++t<i;){var s=e[t];s&&(r[++n]=s)}return r}function gn(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),Yt(e,0>t?0:t)):[]}function vn(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),t=n-(+t||0),Yt(e,0,0>t?0:t)):[]}function yn(e,t,i){return e&&e.length?ti(e,Fi(t,i,3),!0,!0):[]}function bn(e,t,i){return e&&e.length?ti(e,Fi(t,i,3),!0):[]}function wn(e,t,i,n){var r=e?e.length:0;return r?(i&&"number"!=typeof i&&Ji(e,t,i)&&(i=0,n=r),Et(e,t,i,n)):[]}function Sn(e){return e?e[0]:x}function xn(e,t,i){var n=e?e.length:0;return i&&Ji(e,t,i)&&(t=!1),n?At(e,t):[]}function Tn(e){var t=e?e.length:0;return t?At(e,!0):[]}function Cn(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xo(r+n,0):n;else if(n){var s=ni(e,t);return r>s&&(t===t?t===e[s]:e[s]!==e[s])?s:-1}return i(e,t,n||0)}function Pn(e){return vn(e,1)}function En(e){var t=e?e.length:0;return t?e[t-1]:x}function _n(e,t,i){var n=e?e.length:0;if(!n)return-1;var r=n;if("number"==typeof i)r=(0>i?xo(n+i,0):To(i||0,n-1))+1;else if(i){r=ni(e,t,!0)-1;var s=e[r];return(t===t?t===s:s!==s)?r:-1}if(t!==t)return d(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function kn(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var i=0,n=Hi(),r=e.length;++i<r;)for(var s=0,o=e[i];(s=n(t,o,s))>-1;)po.call(t,s,1);return t}function An(e,t,i){var n=[];if(!e||!e.length)return n;var r=-1,s=[],o=e.length;for(t=Fi(t,i,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),s.push(r))}return Gt(e,s),n}function Rn(e){return gn(e,1)}function Mn(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Ji(e,t,i)&&(t=0,i=n),Yt(e,t,i)):[]}function In(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),Yt(e,0,0>t?0:t)):[]}function On(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),t=n-(+t||0),Yt(e,0>t?0:t)):[]}function Ln(e,t,i){return e&&e.length?ti(e,Fi(t,i,3),!1,!0):[]}function Dn(e,t,i){return e&&e.length?ti(e,Fi(t,i,3)):[]}function Nn(e,t,n,r){var s=e?e.length:0;if(!s)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Ji(e,t,r)?x:t,t=!1);var o=Fi();return null==n&&o===wt||(n=o(n,r,3)),t&&Hi()===i?v(e,n):Zt(e,n)}function Vn(e){if(!e||!e.length)return[];var t=-1,i=0;e=at(e,function(e){return Ki(e)?(i=xo(e.length,i),!0):void 0});for(var n=Fs(i);++t<i;)n[t]=lt(e,qt(t));return n}function jn(e,t,i){var n=e?e.length:0;if(!n)return[];var r=Vn(e);return null==t?r:(t=si(t,i,4),lt(r,function(e){return ct(e,t,x,!0)}))}function Bn(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if(Ki(i))var n=n?ut(Tt(n,i),Tt(i,n)):i}return n?Zt(n):[]}function Fn(e,t){var i=-1,n=e?e.length:0,r={};for(!n||t||Aa(e[0])||(t=[]);++i<n;){var s=e[i];t?r[s]=t[i]:s&&(r[s[0]]=s[1])}return r}function Un(e){var t=Y(e);return t.__chain__=!0,t}function Hn(e,t,i){return t.call(i,e),e}function qn(e,t,i){return t.call(i,e)}function Wn(){return Un(this)}function Gn(){return new ee(this.value(),this.__chain__)}function zn(e){for(var t,i=this;i instanceof J;){var n=dn(i);t?r.__wrapped__=n:t=n;var r=n;i=i.__wrapped__}return r.__wrapped__=e,t}function Xn(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Ue){var i=e;return this.__actions__.length&&(i=new Ue(this)),i=i.reverse(),i.__actions__.push({func:qn,args:[t],thisArg:x}),new ee(i,this.__chain__)}return this.thru(t)}function Yn(){return this.value()+""}function Qn(){return ii(this.__wrapped__,this.__actions__)}function Kn(e,t,i){var n=Aa(e)?st:Ct;return i&&Ji(e,t,i)&&(t=x),"function"==typeof t&&i===x||(t=Fi(t,i,3)),n(e,t)}function $n(e,t,i){var n=Aa(e)?at:_t;return t=Fi(t,i,3),n(e,t)}function Jn(e,t){return ra(e,Bt(t))}function Zn(e,t,i,n){var r=e?Ho(e):0;return tn(r)||(e=ss(e),r=e.length),i="number"!=typeof i||n&&Ji(t,i,n)?0:0>i?xo(r+i,0):i||0,"string"==typeof e||!Aa(e)&&Hr(e)?r>=i&&e.indexOf(t,i)>-1:!!r&&Hi(e,t,i)>-1}function er(e,t,i){var n=Aa(e)?lt:jt;return t=Fi(t,i,3),n(e,t)}function tr(e,t){return er(e,Os(t))}function ir(e,t,i){var n=Aa(e)?at:_t;return t=Fi(t,i,3),n(e,function(e,i,n){return!t(e,i,n)})}function nr(e,t,i){if(i?Ji(e,t,i):null==t){e=cn(e);var n=e.length;return n>0?e[zt(0,n-1)]:x}var r=-1,s=Xr(e),n=s.length,o=n-1;for(t=To(0>t?0:+t||0,n);++r<t;){var a=zt(r,o),l=s[a];s[a]=s[r],s[r]=l}return s.length=t,s}function rr(e){return nr(e,ko)}function sr(e){var t=e?Ho(e):0;return tn(t)?t:Fa(e).length}function or(e,t,i){var n=Aa(e)?pt:Qt;return i&&Ji(e,t,i)&&(t=x),"function"==typeof t&&i===x||(t=Fi(t,i,3)),n(e,t)}function ar(e,t,i){if(null==e)return[];i&&Ji(e,t,i)&&(t=x);var n=-1;t=Fi(t,i,3);var r=jt(e,function(e,i,r){return{criteria:t(e,i,r),index:++n,value:e}});return Kt(r,a)}function lr(e,t,i,n){return null==e?[]:(n&&Ji(t,i,n)&&(i=x),Aa(t)||(t=null==t?[]:[t]),Aa(i)||(i=null==i?[]:[i]),$t(e,t,i))}function ur(e,t){return $n(e,Bt(t))}function cr(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Qs(F);var i=e;e=t,t=i}return e=wo(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function hr(e,t,i){return i&&Ji(e,t,i)&&(t=x),t=e&&null==t?e.length:xo(+t||0,0),Ni(e,M,x,x,x,x,t)}function pr(e,t){var i;if("function"!=typeof t){if("function"!=typeof e)throw new Qs(F);var n=e;e=t,t=n}return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=x),i}}function dr(e,t,i){function n(){d&&oo(d),u&&oo(u),m=0,u=d=f=x}function r(t,i){i&&oo(i),u=d=f=x,t&&(m=ma(),c=e.apply(p,l),d||u||(l=p=x))}function s(){var e=t-(ma()-h);0>=e||e>t?r(f,u):d=ho(s,e)}function o(){r(v,d)}function a(){if(l=arguments,h=ma(),p=this,f=v&&(d||!y),g===!1)var i=y&&!d;else{u||y||(m=h);var n=g-(h-m),r=0>=n||n>g;r?(u&&(u=oo(u)),m=h,c=e.apply(p,l)):u||(u=ho(o,n))}return r&&d?d=oo(d):d||t===g||(d=ho(s,t)),i&&(r=!0,c=e.apply(p,l)),!r||d||u||(l=p=x),c}var l,u,c,h,p,d,f,m=0,g=!1,v=!0;if("function"!=typeof e)throw new Qs(F);if(t=0>t?0:+t||0,i===!0){var y=!0;v=!1}else Lr(i)&&(y=!!i.leading,g="maxWait"in i&&xo(+i.maxWait||0,t),v="trailing"in i?!!i.trailing:v);return a.cancel=n,a}function fr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Qs(F);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=e.apply(this,n);return i.cache=s.set(r,o),o};return i.cache=new fr.Cache,i}function mr(e){if("function"!=typeof e)throw new Qs(F);return function(){return!e.apply(this,arguments)}}function gr(e){return pr(2,e)}function vr(e,t){if("function"!=typeof e)throw new Qs(F);return t=xo(t===x?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,r=xo(i.length-t,0),s=Fs(r);++n<r;)s[n]=i[t+n];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,i[0],s);case 2:return e.call(this,i[0],i[1],s)}var o=Fs(t+1);for(n=-1;++n<t;)o[n]=i[n];return o[t]=s,e.apply(this,o)}}function yr(e){if("function"!=typeof e)throw new Qs(F);return function(t){return e.apply(this,t)}}function br(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new Qs(F);return i===!1?n=!1:Lr(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),dr(e,t,{leading:n,maxWait:+t,trailing:r})}function wr(e,t){return t=null==t?_s:t,Ni(t,A,x,[e],[])}function Sr(e,t,i,n){return t&&"boolean"!=typeof t&&Ji(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?St(e,t,si(i,n,3)):St(e,t)}function xr(e,t,i){return"function"==typeof t?St(e,!0,si(t,i,3)):St(e,!0)}function Tr(e,t){return e>t}function Cr(e,t){return e>=t}function Pr(e){return f(e)&&Ki(e)&&eo.call(e,"callee")&&!uo.call(e,"callee")}function Er(e){return e===!0||e===!1||f(e)&&io.call(e)==W}function _r(e){return f(e)&&io.call(e)==G}function kr(e){return!!e&&1===e.nodeType&&f(e)&&!Fr(e)}function Ar(e){return null==e?!0:Ki(e)&&(Aa(e)||Hr(e)||Pr(e)||f(e)&&Or(e.splice))?!e.length:!Fa(e).length}function Rr(e,t,i,n){i="function"==typeof i?si(i,n,3):x;
var r=i?i(e,t):x;return r===x?Dt(e,t,i):!!r}function Mr(e){return f(e)&&"string"==typeof e.message&&io.call(e)==z}function Ir(e){return"number"==typeof e&&wo(e)}function Or(e){return Lr(e)&&io.call(e)==X}function Lr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Dr(e,t,i,n){return i="function"==typeof i?si(i,n,3):x,Vt(e,qi(t),i)}function Nr(e){return Br(e)&&e!=+e}function Vr(e){return null==e?!1:Or(e)?ro.test(Zs.call(e)):f(e)&&Me.test(e)}function jr(e){return null===e}function Br(e){return"number"==typeof e||f(e)&&io.call(e)==Q}function Fr(e){var t;if(!f(e)||io.call(e)!=K||Pr(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return Rt(e,function(e,t){i=t}),i===x||eo.call(e,i)}function Ur(e){return Lr(e)&&io.call(e)==$}function Hr(e){return"string"==typeof e||f(e)&&io.call(e)==Z}function qr(e){return f(e)&&tn(e.length)&&!!Be[io.call(e)]}function Wr(e){return e===x}function Gr(e,t){return t>e}function zr(e,t){return t>=e}function Xr(e){var t=e?Ho(e):0;return tn(t)?t?it(e):[]:ss(e)}function Yr(e){return bt(e,es(e))}function Qr(e,t,i){var n=Do(e);return i&&Ji(e,t,i)&&(t=x),t?vt(n,t):n}function Kr(e){return Ot(e,es(e))}function $r(e,t,i){var n=null==e?x:Lt(e,pn(t),t+"");return n===x?i:n}function Jr(e,t){if(null==e)return!1;var i=eo.call(e,t);if(!i&&!Zi(t)){if(t=pn(t),e=1==t.length?e:Lt(e,Yt(t,0,-1)),null==e)return!1;t=En(t),i=eo.call(e,t)}return i||tn(e.length)&&$i(t,e.length)&&(Aa(e)||Pr(e))}function Zr(e,t,i){i&&Ji(e,t,i)&&(t=x);for(var n=-1,r=Fa(e),s=r.length,o={};++n<s;){var a=r[n],l=e[a];t?eo.call(o,l)?o[l].push(a):o[l]=[a]:o[l]=a}return o}function es(e){if(null==e)return[];Lr(e)||(e=zs(e));var t=e.length;t=t&&tn(t)&&(Aa(e)||Pr(e))&&t||0;for(var i=e.constructor,n=-1,r="function"==typeof i&&i.prototype===e,s=Fs(t),o=t>0;++n<t;)s[n]=n+"";for(var a in e)o&&$i(a,t)||"constructor"==a&&(r||!eo.call(e,a))||s.push(a);return s}function ts(e){e=hn(e);for(var t=-1,i=Fa(e),n=i.length,r=Fs(n);++t<n;){var s=i[t];r[t]=[s,e[s]]}return r}function is(e,t,i){var n=null==e?x:e[t];return n===x&&(null==e||Zi(t,e)||(t=pn(t),e=1==t.length?e:Lt(e,Yt(t,0,-1)),n=null==e?x:e[En(t)]),n=n===x?i:n),Or(n)?n.call(e):n}function ns(e,t,i){if(null==e)return e;var n=t+"";t=null!=e[n]||Zi(t,e)?[n]:pn(t);for(var r=-1,s=t.length,o=s-1,a=e;null!=a&&++r<s;){var l=t[r];Lr(a)&&(r==o?a[l]=i:null==a[l]&&(a[l]=$i(t[r+1])?[]:{})),a=a[l]}return e}function rs(e,t,i,n){var r=Aa(e)||qr(e);if(t=Fi(t,n,4),null==i)if(r||Lr(e)){var s=e.constructor;i=r?Aa(e)?new s:[]:Do(Or(s)?s.prototype:x)}else i={};return(r?nt:Mt)(e,function(e,n,r){return t(i,e,n,r)}),i}function ss(e){return ei(e,Fa(e))}function os(e){return ei(e,es(e))}function as(e,t,i){return t=+t||0,i===x?(i=t,t=0):i=+i||0,e>=To(t,i)&&e<xo(t,i)}function ls(e,t,i){i&&Ji(e,t,i)&&(t=i=x);var n=null==e,r=null==t;if(null==i&&(r&&"boolean"==typeof e?(i=e,e=1):"boolean"==typeof t&&(i=t,r=!0)),n&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,i||e%1||t%1){var s=Eo();return To(e+s*(t-e+ao("1e-"+((s+"").length-1))),t)}return zt(e,t)}function us(e){return e=r(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function cs(e){return e=r(e),e&&e.replace(Oe,u).replace(Ee,"")}function hs(e,t,i){e=r(e),t+="";var n=e.length;return i=i===x?n:To(0>i?0:+i||0,n),i-=t.length,i>=0&&e.indexOf(t,i)==i}function ps(e){return e=r(e),e&&ve.test(e)?e.replace(me,c):e}function ds(e){return e=r(e),e&&Pe.test(e)?e.replace(Ce,h):e||"(?:)"}function fs(e,t,i){e=r(e),t=+t;var n=e.length;if(n>=t||!wo(t))return e;var s=(t-n)/2,o=yo(s),a=go(s);return i=Ii("",a,i),i.slice(0,o)+e+i}function ms(e,t,i){return(i?Ji(e,t,i):null==t)?t=0:t&&(t=+t),e=bs(e),Po(e,t||(Re.test(e)?16:10))}function gs(e,t){var i="";if(e=r(e),t=+t,1>t||!e||!wo(t))return i;do t%2&&(i+=e),t=yo(t/2),e+=e;while(t);return i}function vs(e,t,i){return e=r(e),i=null==i?0:To(0>i?0:+i||0,e.length),e.lastIndexOf(t,i)==i}function ys(e,t,i){var n=Y.templateSettings;i&&Ji(e,t,i)&&(t=i=x),e=r(e),t=gt(vt({},i||t),n,mt);var s,o,a=gt(vt({},t.imports),n.imports,mt),l=Fa(a),u=ei(a,l),c=0,h=t.interpolate||Le,d="__p += '",f=Xs((t.escape||Le).source+"|"+h.source+"|"+(h===we?ke:Le).source+"|"+(t.evaluate||Le).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++je+"]")+"\n";e.replace(f,function(t,i,n,r,a,l){return n||(n=r),d+=e.slice(c,l).replace(De,p),i&&(s=!0,d+="' +\n__e("+i+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(he,""):d).replace(pe,"$1").replace(de,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=$a(function(){return qs(l,m+"return "+d).apply(x,u)});if(v.source=d,Mr(v))throw v;return v}function bs(e,t,i){var n=e;return(e=r(e))?(i?Ji(n,t,i):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(s(e,t),o(e,t)+1)):e}function ws(e,t,i){var n=e;return e=r(e),e?(i?Ji(n,t,i):null==t)?e.slice(y(e)):e.slice(s(e,t+"")):e}function Ss(e,t,i){var n=e;return e=r(e),e?(i?Ji(n,t,i):null==t)?e.slice(0,b(e)+1):e.slice(0,o(e,t+"")+1):e}function xs(e,t,i){i&&Ji(e,t,i)&&(t=x);var n=O,s=L;if(null!=t)if(Lr(t)){var o="separator"in t?t.separator:o;n="length"in t?+t.length||0:n,s="omission"in t?r(t.omission):s}else n=+t||0;if(e=r(e),n>=e.length)return e;var a=n-s.length;if(1>a)return s;var l=e.slice(0,a);if(null==o)return l+s;if(Ur(o)){if(e.slice(a).search(o)){var u,c,h=e.slice(0,a);for(o.global||(o=Xs(o.source,(Ae.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)c=u.index;l=l.slice(0,null==c?a:c)}}else if(e.indexOf(o,a)!=a){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+s}function Ts(e){return e=r(e),e&&ge.test(e)?e.replace(fe,w):e}function Cs(e,t,i){return i&&Ji(e,t,i)&&(t=x),e=r(e),e.match(t||Ne)||[]}function Ps(e,t,i){return i&&Ji(e,t,i)&&(t=x),f(e)?ks(e):wt(e,t)}function Es(e){return function(){return e}}function _s(e){return e}function ks(e){return Bt(St(e,!0))}function As(e,t){return Ft(e,St(t,!0))}function Rs(e,t,i){if(null==i){var n=Lr(t),r=n?Fa(t):x,s=r&&r.length?Ot(t,r):x;(s?s.length:n)||(s=!1,i=t,t=e,e=this)}s||(s=Ot(t,Fa(t)));var o=!0,a=-1,l=Or(e),u=s.length;i===!1?o=!1:Lr(i)&&"chain"in i&&(o=i.chain);for(;++a<u;){var c=s[a],h=t[c];e[c]=h,l&&(e.prototype[c]=function(t){return function(){var i=this.__chain__;if(o||i){var n=e(this.__wrapped__),r=n.__actions__=it(this.__actions__);return r.push({func:t,args:arguments,thisArg:e}),n.__chain__=i,n}return t.apply(e,ut([this.value()],arguments))}}(h))}return e}function Ms(){return Ze._=no,this}function Is(){}function Os(e){return Zi(e)?qt(e):Wt(e)}function Ls(e){return function(t){return Lt(e,pn(t),t+"")}}function Ds(e,t,i){i&&Ji(e,t,i)&&(t=i=x),e=+e||0,i=null==i?1:+i||0,null==t?(t=e,e=0):t=+t||0;for(var n=-1,r=xo(go((t-e)/(i||1)),0),s=Fs(r);++n<r;)s[n]=e,e+=i;return s}function Ns(e,t,i){if(e=yo(e),1>e||!wo(e))return[];var n=-1,r=Fs(To(e,Ao));for(t=si(t,i,1);++n<e;)Ao>n?r[n]=t(n):t(n);return r}function Vs(e){var t=++to;return r(e)+t}function js(e,t){return(+e||0)+(+t||0)}function Bs(e,t,i){return i&&Ji(e,t,i)&&(t=x),t=Fi(t,i,3),1==t.length?dt(Aa(e)?e:cn(e),t):Jt(e,t)}m=m?et.defaults(Ze.Object(),m,et.pick(Ze,Ve)):Ze;var Fs=m.Array,Us=m.Date,Hs=m.Error,qs=m.Function,Ws=m.Math,Gs=m.Number,zs=m.Object,Xs=m.RegExp,Ys=m.String,Qs=m.TypeError,Ks=Fs.prototype,$s=zs.prototype,Js=Ys.prototype,Zs=qs.prototype.toString,eo=$s.hasOwnProperty,to=0,io=$s.toString,no=Ze._,ro=Xs("^"+Zs.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=m.ArrayBuffer,oo=m.clearTimeout,ao=m.parseFloat,lo=Ws.pow,uo=$s.propertyIsEnumerable,co=Wi(m,"Set"),ho=m.setTimeout,po=Ks.splice,fo=m.Uint8Array,mo=Wi(m,"WeakMap"),go=Ws.ceil,vo=Wi(zs,"create"),yo=Ws.floor,bo=Wi(Fs,"isArray"),wo=m.isFinite,So=Wi(zs,"keys"),xo=Ws.max,To=Ws.min,Co=Wi(Us,"now"),Po=m.parseInt,Eo=Ws.random,_o=Gs.NEGATIVE_INFINITY,ko=Gs.POSITIVE_INFINITY,Ao=4294967295,Ro=Ao-1,Mo=Ao>>>1,Io=9007199254740991,Oo=mo&&new mo,Lo={};Y.support={};Y.templateSettings={escape:ye,evaluate:be,interpolate:we,variable:"",imports:{_:Y}};var Do=function(){function e(){}return function(t){if(Lr(t)){e.prototype=t;var i=new e;e.prototype=x}return i||{}}}(),No=hi(Mt),Vo=hi(It,!0),jo=pi(),Bo=pi(!0),Fo=Oo?function(e,t){return Oo.set(e,t),e}:_s,Uo=Oo?function(e){return Oo.get(e)}:Is,Ho=qt("length"),qo=function(){var e=0,t=0;return function(i,n){var r=ma(),s=N-(r-t);if(t=r,s>0){if(++e>=D)return i}else e=0;return Fo(i,n)}}(),Wo=vr(function(e,t){return f(e)&&Ki(e)?Tt(e,At(t,!1,!0)):[]}),Go=Si(),zo=Si(!0),Xo=vr(function(e){for(var t=e.length,n=t,r=Fs(h),s=Hi(),o=s===i,a=[];n--;){var l=e[n]=Ki(l=e[n])?l:[];r[n]=o&&l.length>=120?fi(n&&l):null}var u=e[0],c=-1,h=u?u.length:0,p=r[0];e:for(;++c<h;)if(l=u[c],(p?$e(p,l):s(a,l,0))<0){for(var n=t;--n;){var d=r[n];if((d?$e(d,l):s(e[n],l,0))<0)continue e}p&&p.push(l),a.push(l)}return a}),Yo=vr(function(t,i){i=At(i);var n=yt(t,i);return Gt(t,i.sort(e)),n}),Qo=Di(),Ko=Di(!0),$o=vr(function(e){return Zt(At(e,!1,!0))}),Jo=vr(function(e,t){return Ki(e)?Tt(e,t):[]}),Zo=vr(Vn),ea=vr(function(e){var t=e.length,i=t>2?e[t-2]:x,n=t>1?e[t-1]:x;return t>2&&"function"==typeof i?t-=2:(i=t>1&&"function"==typeof n?(--t,n):x,n=x),e.length=t,jn(e,i,n)}),ta=vr(function(e){return e=At(e),this.thru(function(t){return tt(Aa(t)?t:[hn(t)],e)})}),ia=vr(function(e,t){return yt(e,At(t))}),na=ui(function(e,t,i){eo.call(e,i)?++e[i]:e[i]=1}),ra=wi(No),sa=wi(Vo,!0),oa=Ci(nt,No),aa=Ci(rt,Vo),la=ui(function(e,t,i){eo.call(e,i)?e[i].push(t):e[i]=[t]}),ua=ui(function(e,t,i){e[i]=t}),ca=vr(function(e,t,i){var n=-1,r="function"==typeof t,s=Zi(t),o=Ki(e)?Fs(e.length):[];return No(e,function(e){var a=r?t:s&&null!=e?e[t]:x;o[++n]=a?a.apply(e,i):Qi(e,t,i)}),o}),ha=ui(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),pa=Ri(ct,No),da=Ri(ht,Vo),fa=vr(function(e,t){if(null==e)return[];var i=t[2];return i&&Ji(t[0],t[1],i)&&(t.length=1),$t(e,At(t),[])}),ma=Co||function(){return(new Us).getTime()},ga=vr(function(e,t,i){var n=C;if(i.length){var r=g(i,ga.placeholder);n|=A}return Ni(e,n,t,i,r)}),va=vr(function(e,t){t=t.length?At(t):Kr(e);for(var i=-1,n=t.length;++i<n;){var r=t[i];e[r]=Ni(e[r],C,e)}return e}),ya=vr(function(e,t,i){var n=C|P;if(i.length){var r=g(i,ya.placeholder);n|=A}return Ni(t,n,e,i,r)}),ba=vi(_),wa=vi(k),Sa=vr(function(e,t){return xt(e,1,t)}),xa=vr(function(e,t,i){return xt(e,t,i)}),Ta=Ti(),Ca=Ti(!0),Pa=vr(function(e,t){if(t=At(t),"function"!=typeof e||!st(t,n))throw new Qs(F);var i=t.length;return vr(function(n){for(var r=To(n.length,i);r--;)n[r]=t[r](n[r]);return e.apply(this,n)})}),Ea=Ai(A),_a=Ai(R),ka=vr(function(e,t){return Ni(e,I,x,x,x,At(t))}),Aa=bo||function(e){return f(e)&&tn(e.length)&&io.call(e)==q},Ra=ci(Ut),Ma=ci(function(e,t,i){return i?gt(e,t,i):vt(e,t)}),Ia=yi(Ma,ft),Oa=yi(Ra,sn),La=xi(Mt),Da=xi(It),Na=Pi(jo),Va=Pi(Bo),ja=Ei(Mt),Ba=Ei(It),Fa=So?function(e){var t=null==e?x:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Ki(e)?un(e):Lr(e)?So(e):[]}:un,Ua=_i(!0),Ha=_i(),qa=vr(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(At(t),Ys);return on(e,Tt(es(e),t))}var i=si(t[0],t[1],3);return an(e,function(e,t,n){return!i(e,t,n)})}),Wa=vr(function(e,t){return null==e?{}:"function"==typeof t[0]?an(e,si(t[0],t[1],3)):on(e,At(t))}),Ga=mi(function(e,t,i){return t=t.toLowerCase(),e+(i?t.charAt(0).toUpperCase()+t.slice(1):t)}),za=mi(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Xa=ki(),Ya=ki(!0),Qa=mi(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Ka=mi(function(e,t,i){return e+(i?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),$a=vr(function(e,t){try{return e.apply(x,t)}catch(i){return Mr(i)?i:new Hs(i)}}),Ja=vr(function(e,t){return function(i){return Qi(i,e,t)}}),Za=vr(function(e,t){return function(i){return Qi(e,i,t)}}),el=Li("ceil"),tl=Li("floor"),il=bi(Tr,_o),nl=bi(Gr,ko),rl=Li("round");return Y.prototype=J.prototype,ee.prototype=Do(J.prototype),ee.prototype.constructor=ee,Ue.prototype=Do(J.prototype),Ue.prototype.constructor=Ue,Ge.prototype["delete"]=ze,Ge.prototype.get=Xe,Ge.prototype.has=Ye,Ge.prototype.set=Qe,Ke.prototype.push=Je,fr.Cache=Ge,Y.after=cr,Y.ary=hr,Y.assign=Ma,Y.at=ia,Y.before=pr,Y.bind=ga,Y.bindAll=va,Y.bindKey=ya,Y.callback=Ps,Y.chain=Un,Y.chunk=fn,Y.compact=mn,Y.constant=Es,Y.countBy=na,Y.create=Qr,Y.curry=ba,Y.curryRight=wa,Y.debounce=dr,Y.defaults=Ia,Y.defaultsDeep=Oa,Y.defer=Sa,Y.delay=xa,Y.difference=Wo,Y.drop=gn,Y.dropRight=vn,Y.dropRightWhile=yn,Y.dropWhile=bn,Y.fill=wn,Y.filter=$n,Y.flatten=xn,Y.flattenDeep=Tn,Y.flow=Ta,Y.flowRight=Ca,Y.forEach=oa,Y.forEachRight=aa,Y.forIn=Na,Y.forInRight=Va,Y.forOwn=ja,Y.forOwnRight=Ba,Y.functions=Kr,Y.groupBy=la,Y.indexBy=ua,Y.initial=Pn,Y.intersection=Xo,Y.invert=Zr,Y.invoke=ca,Y.keys=Fa,Y.keysIn=es,Y.map=er,Y.mapKeys=Ua,Y.mapValues=Ha,Y.matches=ks,Y.matchesProperty=As,Y.memoize=fr,Y.merge=Ra,Y.method=Ja,Y.methodOf=Za,Y.mixin=Rs,Y.modArgs=Pa,Y.negate=mr,Y.omit=qa,Y.once=gr,Y.pairs=ts,Y.partial=Ea,Y.partialRight=_a,Y.partition=ha,Y.pick=Wa,Y.pluck=tr,Y.property=Os,Y.propertyOf=Ls,Y.pull=kn,Y.pullAt=Yo,Y.range=Ds,Y.rearg=ka,Y.reject=ir,Y.remove=An,Y.rest=Rn,Y.restParam=vr,Y.set=ns,Y.shuffle=rr,Y.slice=Mn,Y.sortBy=ar,Y.sortByAll=fa,Y.sortByOrder=lr,Y.spread=yr,Y.take=In,Y.takeRight=On,Y.takeRightWhile=Ln,Y.takeWhile=Dn,Y.tap=Hn,Y.throttle=br,Y.thru=qn,Y.times=Ns,Y.toArray=Xr,Y.toPlainObject=Yr,Y.transform=rs,Y.union=$o,Y.uniq=Nn,Y.unzip=Vn,Y.unzipWith=jn,Y.values=ss,Y.valuesIn=os,Y.where=ur,Y.without=Jo,Y.wrap=wr,Y.xor=Bn,Y.zip=Zo,Y.zipObject=Fn,Y.zipWith=ea,Y.backflow=Ca,Y.collect=er,Y.compose=Ca,Y.each=oa,Y.eachRight=aa,Y.extend=Ma,Y.iteratee=Ps,Y.methods=Kr,Y.object=Fn,Y.select=$n,Y.tail=Rn,Y.unique=Nn,Rs(Y,Y),Y.add=js,Y.attempt=$a,Y.camelCase=Ga,Y.capitalize=us,Y.ceil=el,Y.clone=Sr,Y.cloneDeep=xr,Y.deburr=cs,Y.endsWith=hs,Y.escape=ps,Y.escapeRegExp=ds,Y.every=Kn,Y.find=ra,Y.findIndex=Go,Y.findKey=La,Y.findLast=sa,Y.findLastIndex=zo,Y.findLastKey=Da,Y.findWhere=Jn,Y.first=Sn,Y.floor=tl,Y.get=$r,Y.gt=Tr,Y.gte=Cr,Y.has=Jr,Y.identity=_s,Y.includes=Zn,Y.indexOf=Cn,Y.inRange=as,Y.isArguments=Pr,Y.isArray=Aa,Y.isBoolean=Er,Y.isDate=_r,Y.isElement=kr,Y.isEmpty=Ar,Y.isEqual=Rr,Y.isError=Mr,Y.isFinite=Ir,Y.isFunction=Or,Y.isMatch=Dr,Y.isNaN=Nr,Y.isNative=Vr,Y.isNull=jr,Y.isNumber=Br,Y.isObject=Lr,Y.isPlainObject=Fr,Y.isRegExp=Ur,Y.isString=Hr,Y.isTypedArray=qr,Y.isUndefined=Wr,Y.kebabCase=za,Y.last=En,Y.lastIndexOf=_n,Y.lt=Gr,Y.lte=zr,Y.max=il,Y.min=nl,Y.noConflict=Ms,Y.noop=Is,Y.now=ma,Y.pad=fs,Y.padLeft=Xa,Y.padRight=Ya,Y.parseInt=ms,Y.random=ls,Y.reduce=pa,Y.reduceRight=da,Y.repeat=gs,Y.result=is,Y.round=rl,Y.runInContext=S,Y.size=sr,Y.snakeCase=Qa,Y.some=or,Y.sortedIndex=Qo,Y.sortedLastIndex=Ko,Y.startCase=Ka,Y.startsWith=vs,Y.sum=Bs,Y.template=ys,Y.trim=bs,Y.trimLeft=ws,Y.trimRight=Ss,Y.trunc=xs,Y.unescape=Ts,Y.uniqueId=Vs,Y.words=Cs,Y.all=Kn,Y.any=or,Y.contains=Zn,Y.eq=Rr,Y.detect=ra,Y.foldl=pa,Y.foldr=da,Y.head=Sn,Y.include=Zn,Y.inject=pa,Rs(Y,function(){var e={};return Mt(Y,function(t,i){Y.prototype[i]||(e[i]=t)}),e}(),!1),Y.sample=nr,Y.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return nr(t,e)}):nr(this.value())},Y.VERSION=T,nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Y[e].placeholder=Y}),nt(["drop","take"],function(e,t){Ue.prototype[e]=function(i){var n=this.__filtered__;if(n&&!t)return new Ue(this);i=null==i?1:xo(yo(i)||0,0);var r=this.clone();return n?r.__takeCount__=To(r.__takeCount__,i):r.__views__.push({size:i,type:e+(r.__dir__<0?"Right":"")}),r},Ue.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),nt(["filter","map","takeWhile"],function(e,t){var i=t+1,n=i!=B;Ue.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:Fi(e,t,1),type:i}),r.__filtered__=r.__filtered__||n,r}}),nt(["first","last"],function(e,t){var i="take"+(t?"Right":"");Ue.prototype[e]=function(){return this[i](1).value()[0]}}),nt(["initial","rest"],function(e,t){var i="drop"+(t?"":"Right");Ue.prototype[e]=function(){return this.__filtered__?new Ue(this):this[i](1)}}),nt(["pluck","where"],function(e,t){var i=t?"filter":"map",n=t?Bt:Os;Ue.prototype[e]=function(e){return this[i](n(e))}}),Ue.prototype.compact=function(){return this.filter(_s)},Ue.prototype.reject=function(e,t){return e=Fi(e,t,1),this.filter(function(t){return!e(t)})},Ue.prototype.slice=function(e,t){e=null==e?0:+e||0;var i=this;return i.__filtered__&&(e>0||0>t)?new Ue(i):(0>e?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==x&&(t=+t||0,i=0>t?i.dropRight(-t):i.take(t-e)),i)},Ue.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Ue.prototype.toArray=function(){return this.take(ko)},Mt(Ue.prototype,function(e,t){var i=/^(?:filter|map|reject)|While$/.test(t),n=/^(?:first|last)$/.test(t),r=Y[n?"take"+("last"==t?"Right":""):t];r&&(Y.prototype[t]=function(){var t=n?[1]:arguments,s=this.__chain__,o=this.__wrapped__,a=!!this.__actions__.length,l=o instanceof Ue,u=t[0],c=l||Aa(o);c&&i&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=function(e){return n&&s?r(e,1)[0]:r.apply(x,ut([e],t))},p={func:qn,args:[h],thisArg:x},d=l&&!a;if(n&&!s)return d?(o=o.clone(),o.__actions__.push(p),e.call(o)):r.call(x,this.value())[0];if(!n&&c){o=d?o:new Ue(this);var f=e.apply(o,t);return f.__actions__.push(p),new ee(f,s)}return this.thru(h)})}),nt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Js:Ks)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:join|pop|replace|shift)$/.test(e);Y.prototype[e]=function(){var e=arguments;return n&&!this.__chain__?t.apply(this.value(),e):this[i](function(i){return t.apply(i,e)})}}),Mt(Ue.prototype,function(e,t){var i=Y[t];if(i){var n=i.name+"",r=Lo[n]||(Lo[n]=[]);r.push({name:t,func:i})}}),Lo[Mi(x,P).name]=[{name:"wrapper",func:x}],Ue.prototype.clone=He,Ue.prototype.reverse=qe,Ue.prototype.value=We,Y.prototype.chain=Wn,Y.prototype.commit=Gn,Y.prototype.concat=ta,Y.prototype.plant=zn,Y.prototype.reverse=Xn,Y.prototype.toString=Yn,Y.prototype.run=Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=Qn,Y.prototype.collect=Y.prototype.map,Y.prototype.head=Y.prototype.first,Y.prototype.select=Y.prototype.filter,Y.prototype.tail=Y.prototype.rest,Y}var x,T="3.10.1",C=1,P=2,E=4,_=8,k=16,A=32,R=64,M=128,I=256,O=30,L="...",D=150,N=16,V=200,j=1,B=2,F="Expected a function",U="__lodash_placeholder__",H="[object Arguments]",q="[object Array]",W="[object Boolean]",G="[object Date]",z="[object Error]",X="[object Function]",Y="[object Map]",Q="[object Number]",K="[object Object]",$="[object RegExp]",J="[object Set]",Z="[object String]",ee="[object WeakMap]",te="[object ArrayBuffer]",ie="[object Float32Array]",ne="[object Float64Array]",re="[object Int8Array]",se="[object Int16Array]",oe="[object Int32Array]",ae="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",ce="[object Uint32Array]",he=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fe=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,ge=RegExp(fe.source),ve=RegExp(me.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xe=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ce=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Pe=RegExp(Ce.source),Ee=/[\u0300-\u036f\ufe20-\ufe23]/g,_e=/\\(\\)?/g,ke=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,Re=/^0[xX]/,Me=/^\[object .+?Constructor\]$/,Ie=/^\d+$/,Oe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,De=/['\n\r\u2028\u2029\\]/g,Ne=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],je=-1,Be={};Be[ie]=Be[ne]=Be[re]=Be[se]=Be[oe]=Be[ae]=Be[le]=Be[ue]=Be[ce]=!0,Be[H]=Be[q]=Be[te]=Be[W]=Be[G]=Be[z]=Be[X]=Be[Y]=Be[Q]=Be[K]=Be[$]=Be[J]=Be[Z]=Be[ee]=!1;var Fe={};Fe[H]=Fe[q]=Fe[te]=Fe[W]=Fe[G]=Fe[ie]=Fe[ne]=Fe[re]=Fe[se]=Fe[oe]=Fe[Q]=Fe[K]=Fe[$]=Fe[Z]=Fe[ae]=Fe[le]=Fe[ue]=Fe[ce]=!0,Fe[z]=Fe[X]=Fe[Y]=Fe[J]=Fe[ee]=!1;var Ue={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},We={"function":!0,object:!0},Ge={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xe=We[typeof exports]&&exports&&!exports.nodeType&&exports,Ye=We[typeof module]&&module&&!module.nodeType&&module,Qe=Xe&&Ye&&"object"==typeof global&&global&&global.Object&&global,Ke=We[typeof self]&&self&&self.Object&&self,$e=We[typeof window]&&window&&window.Object&&window,Je=Ye&&Ye.exports===Xe&&Xe,Ze=Qe||$e!==(this&&this.window)&&$e||Ke||this,et=S();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ze._=et,define("lodash",[],function(){return et})):Xe&&Ye?Je?(Ye.exports=et)._=et:Xe._=et:Ze._=et}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";var n=e(22),r=e(26),s=e(37),o=e(29),a=e(64),l=e(94),u=e(96),c=e(118),h=e(140),p=e(143),d=e(173),f=!1;r.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:s,TransitionGroup:l,batchedUpdates:function(){return d(f,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),f=!0,u.batchedUpdates.apply(this,arguments)},cloneWithProps:c,createFragment:a.create,shallowCompare:h,update:p},r.addons.Perf=e(55),r.addons.TestUtils=e(91),t.exports=r},{118:118,140:140,143:143,173:173,22:22,26:26,29:29,37:37,55:55,64:64,91:91,94:94,96:96}],2:[function(e,t,i){"use strict";var n=e(72),r=e(122),s=e(155),o={componentDidMount:function(){this.props.autoFocus&&s(r(this))}},a={Mixin:o,focusDOMComponent:function(){s(n.getNode(this._rootNodeID))}};t.exports=a},{122:122,155:155,72:72}],3:[function(e,t,i){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function s(e){switch(e){case k.topCompositionStart:return A.compositionStart;case k.topCompositionEnd:return A.compositionEnd;case k.topCompositionUpdate:return A.compositionUpdate}}function o(e,t){return e===k.topKeyDown&&t.keyCode===S}function a(e,t){switch(e){case k.topKeyUp:return-1!==w.indexOf(t.keyCode);case k.topKeyDown:return t.keyCode!==S;case k.topKeyPress:case k.topMouseDown:case k.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,i,n,r){var u,c;if(x?u=s(e):M?a(e,n)&&(u=A.compositionEnd):o(e,n)&&(u=A.compositionStart),!u)return null;P&&(M||u!==A.compositionStart?u===A.compositionEnd&&M&&(c=M.getData()):M=g.getPooled(t));var h=v.getPooled(u,i,n,r);if(c)h.data=c;else{var p=l(n);null!==p&&(h.data=p)}return f.accumulateTwoPhaseDispatches(h),h}function c(e,t){switch(e){case k.topCompositionEnd:return l(t);case k.topKeyPress:var i=t.which;return i!==E?null:(R=!0,_);case k.topTextInput:var n=t.data;return n===_&&R?null:n;default:return null}}function h(e,t){if(M){if(e===k.topCompositionEnd||a(e,t)){var i=M.getData();return g.release(M),M=null,i}return null}switch(e){case k.topPaste:return null;case k.topKeyPress:return t.which&&!r(t)?String.fromCharCode(t.which):null;case k.topCompositionEnd:return P?null:t.data;default:return null}}function p(e,t,i,n,r){var s;if(s=C?c(e,n):h(e,n),!s)return null;var o=y.getPooled(A.beforeInput,i,n,r);return o.data=s,f.accumulateTwoPhaseDispatches(o),o}var d=e(15),f=e(19),m=e(147),g=e(20),v=e(103),y=e(107),b=e(166),w=[9,13,27,32],S=229,x=m.canUseDOM&&"CompositionEvent"in window,T=null;m.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var C=m.canUseDOM&&"TextEvent"in window&&!T&&!n(),P=m.canUseDOM&&(!x||T&&T>8&&11>=T),E=32,_=String.fromCharCode(E),k=d.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[k.topCompositionEnd,k.topKeyPress,k.topTextInput,k.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[k.topBlur,k.topCompositionEnd,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[k.topBlur,k.topCompositionStart,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[k.topBlur,k.topCompositionUpdate,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]}},R=!1,M=null,I={eventTypes:A,extractEvents:function(e,t,i,n,r){return[u(e,t,i,n,r),p(e,t,i,n,r)]}};t.exports=I},{103:103,107:107,147:147,15:15,166:166,19:19,20:20}],4:[function(e,t,i){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},s=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){s.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};t.exports=a},{}],5:[function(e,t,i){"use strict";var n=e(4),r=e(147),s=e(78),o=e(149),a=e(119),l=e(160),u=e(168),c=e(173),h=u(function(e){return l(e)}),p=!1,d="cssFloat";if(r.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(m){p=!0}void 0===document.documentElement.style.cssFloat&&(d="styleFloat")}var g=/^(?:webkit|moz|o)[A-Z]/,v=/;\s*$/,y={},b={},w=function(e){y.hasOwnProperty(e)&&y[e]||(y[e]=!0,c(!1,"Unsupported style property %s. Did you mean %s?",e,o(e)))},S=function(e){y.hasOwnProperty(e)&&y[e]||(y[e]=!0,c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},x=function(e,t){b.hasOwnProperty(t)&&b[t]||(b[t]=!0,c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(v,"")))},T=function(e,t){e.indexOf("-")>-1?w(e):g.test(e)?S(e):v.test(t)&&x(e,t)},C={createMarkupForStyles:function(e){var t="";for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];T(i,n),null!=n&&(t+=h(i)+":",t+=a(i,n)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var r in t)if(t.hasOwnProperty(r)){T(r,t[r]);var s=a(r,t[r]);if("float"===r&&(r=d),s)i[r]=s;else{var o=p&&n.shorthandPropertyExpansions[r];if(o)for(var l in o)i[l]="";else i[r]=""}}}};s.measureMethods(C,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=C},{119:119,147:147,149:149,160:160,168:168,173:173,4:4,78:78}],6:[function(e,t,i){"use strict";function n(){this._callbacks=null,this._contexts=null}var r=e(25),s=e(24),o=e(161);s(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(n),t.exports=n},{161:161,24:24,25:25}],7:[function(e,t,i){"use strict";function n(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=T.getPooled(A.change,M,e,C(e));w.accumulateTwoPhaseDispatches(t),x.batchedUpdates(s,t)}function s(e){b.enqueueEvents(e),b.processEventQueue(!1)}function o(e,t){R=e,M=t,R.attachEvent("onchange",r)}function a(){R&&(R.detachEvent("onchange",r),R=null,M=null)}function l(e,t,i){return e===k.topChange?i:void 0}function u(e,t,i){e===k.topFocus?(a(),o(t,i)):e===k.topBlur&&a()}function c(e,t){R=e,M=t,I=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",N),R.attachEvent("onpropertychange",p)}function h(){R&&(delete R.value,R.detachEvent("onpropertychange",p),R=null,M=null,I=null,O=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,r(e))}}function d(e,t,i){return e===k.topInput?i:void 0}function f(e,t,i){e===k.topFocus?(h(),c(t,i)):e===k.topBlur&&h()}function m(e,t,i){return e!==k.topSelectionChange&&e!==k.topKeyUp&&e!==k.topKeyDown||!R||R.value===I?void 0:(I=R.value,M)}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,i){return e===k.topClick?i:void 0}var y=e(15),b=e(16),w=e(19),S=e(147),x=e(96),T=e(105),C=e(128),P=e(133),E=e(134),_=e(166),k=y.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:_({onChange:null}),captured:_({onChangeCapture:null})},dependencies:[k.topBlur,k.topChange,k.topClick,k.topFocus,k.topInput,k.topKeyDown,k.topKeyUp,k.topSelectionChange]}},R=null,M=null,I=null,O=null,L=!1;S.canUseDOM&&(L=P("change")&&(!("documentMode"in document)||document.documentMode>8));
var D=!1;S.canUseDOM&&(D=P("input")&&(!("documentMode"in document)||document.documentMode>9));var N={get:function(){return O.get.call(this)},set:function(e){I=""+e,O.set.call(this,e)}},V={eventTypes:A,extractEvents:function(e,t,i,r,s){var o,a;if(n(t)?L?o=l:a=u:E(t)?D?o=d:(o=m,a=f):g(t)&&(o=v),o){var c=o(e,t,i);if(c){var h=T.getPooled(A.change,c,r,s);return h.type="change",w.accumulateTwoPhaseDispatches(h),h}}a&&a(e,t,i)}};t.exports=V},{105:105,128:128,133:133,134:134,147:147,15:15,16:16,166:166,19:19,96:96}],8:[function(e,t,i){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},{}],9:[function(e,t,i){"use strict";function n(e,t,i){var n=i>=e.childNodes.length?null:e.childNodes.item(i);e.insertBefore(t,n)}var r=e(12),s=e(74),o=e(78),a=e(138),l=e(139),u=e(161),c={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(e,t){for(var i,o=null,c=null,h=0;h<e.length;h++)if(i=e[h],i.type===s.MOVE_EXISTING||i.type===s.REMOVE_NODE){var p=i.fromIndex,d=i.parentNode.childNodes[p],f=i.parentID;d?void 0:u(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,f),o=o||{},o[f]=o[f]||[],o[f][p]=d,c=c||[],c.push(d)}var m;if(m=t.length&&"string"==typeof t[0]?r.dangerouslyRenderMarkup(t):t,c)for(var g=0;g<c.length;g++)c[g].parentNode.removeChild(c[g]);for(var v=0;v<e.length;v++)switch(i=e[v],i.type){case s.INSERT_MARKUP:n(i.parentNode,m[i.markupIndex],i.toIndex);break;case s.MOVE_EXISTING:n(i.parentNode,o[i.parentID][i.fromIndex],i.toIndex);break;case s.SET_MARKUP:a(i.parentNode,i.content);break;case s.TEXT_CONTENT:l(i.parentNode,i.content);break;case s.REMOVE_NODE:}}};o.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},{12:12,138:138,139:139,161:161,74:74,78:78}],10:[function(e,t,i){"use strict";function n(e,t){return(e&t)===t}var r=e(161),s={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=s,i=e.Properties||{},o=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var h in i){a.properties.hasOwnProperty(h)?r(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",h):void 0;var p=h.toLowerCase(),d=i[h],f={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:n(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:n(d,t.MUST_USE_PROPERTY),hasSideEffects:n(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:n(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:n(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?r(!1,"DOMProperty: Cannot require using both attribute and property: %s",h):void 0,!f.mustUseProperty&&f.hasSideEffects?r(!1,"DOMProperty: Properties that have side effects must use property: %s",h):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",h),a.getPossibleStandardName[p]=h,l.hasOwnProperty(h)){var m=l[h];f.attributeName=m,a.getPossibleStandardName[m]=h}o.hasOwnProperty(h)&&(f.attributeNamespace=o[h]),u.hasOwnProperty(h)&&(f.propertyName=u[h]),c.hasOwnProperty(h)&&(f.mutationMethod=c[h]),a.properties[h]=f}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var i=a._isCustomAttributeFunctions[t];if(i(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var i,n=o[e];return n||(o[e]=n={}),t in n||(i=document.createElement(e),n[t]=i[t]),n[t]},injection:s};t.exports=a},{161:161}],11:[function(e,t,i){"use strict";function n(e){return h.hasOwnProperty(e)?!0:c.hasOwnProperty(e)?!1:u.test(e)?(h[e]=!0,!0):(c[e]=!0,l(!1,"Invalid attribute name: `%s`",e),!1)}function r(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var s=e(10),o=e(78),a=e(136),l=e(173),u=/^[a-zA-Z_][\w\.\-]*$/,c={},h={},p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},d={},f=function(e){if(!(p.hasOwnProperty(e)&&p[e]||d.hasOwnProperty(e)&&d[e])){d[e]=!0;var t=e.toLowerCase(),i=s.isCustomAttribute(t)?t:s.getPossibleStandardName.hasOwnProperty(t)?s.getPossibleStandardName[t]:null;l(null==i,"Unknown DOM property %s. Did you mean %s?",e,i)}},m={createMarkupForID:function(e){return s.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(s.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var i=s.properties.hasOwnProperty(e)?s.properties[e]:null;if(i){if(r(i,t))return"";var n=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&t===!0?n+'=""':n+"="+a(t)}return s.isCustomAttribute(e)?null==t?"":e+"="+a(t):(f(e),null)},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,i){var n=s.properties.hasOwnProperty(t)?s.properties[t]:null;if(n){var o=n.mutationMethod;if(o)o(e,i);else if(r(n,i))this.deleteValueForProperty(e,t);else if(n.mustUseAttribute){var a=n.attributeName,l=n.attributeNamespace;l?e.setAttributeNS(l,a,""+i):n.hasBooleanValue||n.hasOverloadedBooleanValue&&i===!0?e.setAttribute(a,""):e.setAttribute(a,""+i)}else{var u=n.propertyName;n.hasSideEffects&&""+e[u]==""+i||(e[u]=i)}}else s.isCustomAttribute(t)?m.setValueForAttribute(e,t,i):f(t)},setValueForAttribute:function(e,t,i){n(t)&&(null==i?e.removeAttribute(t):e.setAttribute(t,""+i))},deleteValueForProperty:function(e,t){var i=s.properties.hasOwnProperty(t)?s.properties[t]:null;if(i){var n=i.mutationMethod;if(n)n(e,void 0);else if(i.mustUseAttribute)e.removeAttribute(i.attributeName);else{var r=i.propertyName,o=s.getDefaultValueForProperty(e.nodeName,r);i.hasSideEffects&&""+e[r]===o||(e[r]=o)}}else s.isCustomAttribute(t)?e.removeAttribute(t):f(t)}};o.measureMethods(m,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=m},{10:10,136:136,173:173,78:78}],12:[function(e,t,i){"use strict";function n(e){return e.substring(1,e.indexOf(" "))}var r=e(147),s=e(152),o=e(153),a=e(157),l=e(161),u=/^(<[^ \/>]+)/,c="data-danger-index",h={dangerouslyRenderMarkup:function(e){r.canUseDOM?void 0:l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var t,i={},h=0;h<e.length;h++)e[h]?void 0:l(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=n(e[h]),t=a(t)?t:"*",i[t]=i[t]||[],i[t][h]=e[h];var p=[],d=0;for(t in i)if(i.hasOwnProperty(t)){var f,m=i[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(u,"$1 "+c+'="'+f+'" ')}for(var v=s(m.join(""),o),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(c)?(f=+b.getAttribute(c),b.removeAttribute(c),p.hasOwnProperty(f)?l(!1,"Danger: Assigning to an already-occupied result index."):void 0,p[f]=b,d+=1):console.error("Danger: Discarding unexpected node:",b)}}return d!==p.length?l(!1,"Danger: Did not assign to every index of resultList."):void 0,p.length!==e.length?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){r.canUseDOM?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===e.tagName.toLowerCase()?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0;var i;i="string"==typeof t?s(t,o)[0]:t,e.parentNode.replaceChild(i,e)}};t.exports=h},{147:147,152:152,153:153,157:157,161:161}],13:[function(e,t,i){"use strict";var n=e(166),r=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];t.exports=r},{166:166}],14:[function(e,t,i){"use strict";var n=e(15),r=e(19),s=e(109),o=e(72),a=e(166),l=n.topLevelTypes,u=o.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},h=[null,null],p={eventTypes:c,extractEvents:function(e,t,i,n,a){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var p;if(t.window===t)p=t;else{var d=t.ownerDocument;p=d?d.defaultView||d.parentWindow:window}var f,m,g="",v="";if(e===l.topMouseOut?(f=t,g=i,m=u(n.relatedTarget||n.toElement),m?v=o.getID(m):m=p,m=m||p):(f=p,m=t,v=i),f===m)return null;var y=s.getPooled(c.mouseLeave,g,n,a);y.type="mouseleave",y.target=f,y.relatedTarget=m;var b=s.getPooled(c.mouseEnter,v,n,a);return b.type="mouseenter",b.target=m,b.relatedTarget=f,r.accumulateEnterLeaveDispatches(y,b,g,v),h[0]=y,h[1]=b,h}};t.exports=p},{109:109,15:15,166:166,19:19,72:72}],15:[function(e,t,i){"use strict";var n=e(165),r=n({bubbled:null,captured:null}),s=n({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),o={topLevelTypes:s,PropagationPhases:r};t.exports=o},{165:165}],16:[function(e,t,i){"use strict";function n(){var e=g&&g.traverseTwoPhase&&g.traverseEnterLeave;c(e,"InstanceHandle not injected before use!")}var r=e(17),s=e(18),o=e(61),a=e(115),l=e(124),u=e(161),c=e(173),h={},p=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return d(e,!0)},m=function(e){return d(e,!1)},g=null,v={injection:{injectMount:s.injection.injectMount,injectInstanceHandle:function(e){g=e,n()},getInstanceHandle:function(){return n(),g},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,i){"function"!=typeof i?u(!1,"Expected %s listener to be a function, instead got type %s",t,typeof i):void 0;var n=h[t]||(h[t]={});n[e]=i;var s=r.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,i)},getListener:function(e,t){var i=h[t];return i&&i[e]},deleteListener:function(e,t){var i=r.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t);var n=h[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in h)if(h[t][e]){var i=r.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t),delete h[t][e]}},extractEvents:function(e,t,i,n,s){for(var o,l=r.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var h=c.extractEvents(e,t,i,n,s);h&&(o=a(o,h))}}return o},enqueueEvents:function(e){e&&(p=a(p,e))},processEventQueue:function(e){var t=p;p=null,e?l(t,f):l(t,m),p?u(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,o.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};t.exports=v},{115:115,124:124,161:161,17:17,173:173,18:18,61:61}],17:[function(e,t,i){"use strict";function n(){if(a)for(var e in l){var t=l[e],i=a.indexOf(e);if(i>-1?void 0:o(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!u.plugins[i]){t.extractEvents?void 0:o(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),u.plugins[i]=t;var n=t.eventTypes;for(var s in n)r(n[s],t,s)?void 0:o(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",s,e)}}}function r(e,t,i){u.eventNameDispatchConfigs.hasOwnProperty(i)?o(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):void 0,u.eventNameDispatchConfigs[i]=e;var n=e.phasedRegistrationNames;if(n){for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];s(a,t,i)}return!0}return e.registrationName?(s(e.registrationName,t,i),!0):!1}function s(e,t,i){u.registrationNameModules[e]?o(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[i].dependencies}var o=e(161),a=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){a?o(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,a=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];l.hasOwnProperty(i)&&l[i]===r||(l[i]?o(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i):void 0,l[i]=r,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var i in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(i)){var n=u.registrationNameModules[t.phasedRegistrationNames[i]];if(n)return n}return null},_resetEventPlugins:function(){a=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var i in t)t.hasOwnProperty(i)&&delete t[i];var n=u.registrationNameModules;for(var r in n)n.hasOwnProperty(r)&&delete n[r]}};t.exports=u},{161:161}],18:[function(e,t,i){"use strict";function n(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function r(e){return e===y.topMouseMove||e===y.topTouchMove}function s(e){return e===y.topMouseDown||e===y.topTouchStart}function o(e,t,i,n){var r=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(n),t?f.invokeGuardedCallbackWithCatch(r,i,e,n):f.invokeGuardedCallback(r,i,e,n),e.currentTarget=null}function a(e,t){var i=e._dispatchListeners,n=e._dispatchIDs;if(p(e),Array.isArray(i))for(var r=0;r<i.length&&!e.isPropagationStopped();r++)o(e,t,i[r],n[r]);else i&&o(e,t,i,n);e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,i=e._dispatchIDs;if(p(e),Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,i[n]))return i[n]}else if(t&&t(e,i))return i;return null}function u(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){p(e);var t=e._dispatchListeners,i=e._dispatchIDs;Array.isArray(t)?m(!1,"executeDirectDispatch(...): Invalid `event`."):void 0;var n=t?t(e,i):null;return e._dispatchListeners=null,e._dispatchIDs=null,n}function h(e){return!!e._dispatchListeners}var p,d=e(15),f=e(61),m=e(161),g=e(173),v={Mount:null,injectMount:function(e){v.Mount=e,g(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},y=d.topLevelTypes;p=function(e){var t=e._dispatchListeners,i=e._dispatchIDs,n=Array.isArray(t),r=Array.isArray(i),s=r?i.length:i?1:0,o=n?t.length:t?1:0;g(r===n&&s===o,"EventPluginUtils: Invalid `event`.")};var b={isEndish:n,isMoveish:r,isStartish:s,executeDirectDispatch:c,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:u,hasDispatches:h,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};t.exports=b},{15:15,161:161,173:173,61:61}],19:[function(e,t,i){"use strict";function n(e,t,i){var n=t.dispatchConfig.phasedRegistrationNames[i];return b(e,n)}function r(e,t,i){m(e,"Dispatching id must not be null");var r=t?y.bubbled:y.captured,s=n(e,i,r);s&&(i._dispatchListeners=g(i._dispatchListeners,s),i._dispatchIDs=g(i._dispatchIDs,e))}function s(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,r,e)}function a(e,t,i){if(i&&i.dispatchConfig.registrationName){var n=i.dispatchConfig.registrationName,r=b(e,n);r&&(i._dispatchListeners=g(i._dispatchListeners,r),i._dispatchIDs=g(i._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function u(e){v(e,s)}function c(e){v(e,o)}function h(e,t,i,n){f.injection.getInstanceHandle().traverseEnterLeave(i,n,a,e,t)}function p(e){v(e,l)}var d=e(15),f=e(16),m=e(173),g=e(115),v=e(124),y=d.PropagationPhases,b=f.getListener,w={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:h};t.exports=w},{115:115,124:124,15:15,16:16,173:173}],20:[function(e,t,i){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=e(25),s=e(24),o=e(131);s(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,i=this._startText,n=i.length,r=this.getText(),s=r.length;for(e=0;n>e&&i[e]===r[e];e++);var o=n-e;for(t=1;o>=t&&i[n-t]===r[s-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=r.slice(e,a),this._fallbackText}}),r.addPoolingTo(n),t.exports=n},{131:131,24:24,25:25}],21:[function(e,t,i){"use strict";var n,r=e(10),s=e(147),o=r.injection.MUST_USE_ATTRIBUTE,a=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,h=r.injection.HAS_POSITIVE_NUMERIC_VALUE,p=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(s.canUseDOM){var d=document.implementation;n=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|l,allowTransparency:o,alt:null,async:l,autoComplete:null,autoPlay:l,capture:o|l,cellPadding:null,cellSpacing:null,charSet:o,challenge:o,checked:a|l,classID:o,className:n?o:a,cols:o|h,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:o,"default":l,defer:l,dir:null,disabled:o|l,download:p,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:l,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:o,integrity:null,is:o,keyParams:o,keyType:o,kind:null,label:null,lang:null,list:o,loop:a|l,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,minLength:o,multiple:a|l,muted:a|l,name:null,nonce:o,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:o,rows:o|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:o|l,selected:a|l,shape:null,size:o|h,sizes:o,span:h,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:o,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:o,wmode:o,wrap:null,about:o,datatype:o,inlist:o,prefix:o,property:o,resource:o,"typeof":o,vocab:o,autoCapitalize:o,autoCorrect:o,autoSave:null,color:null,itemProp:o,itemScope:o|l,itemType:o,itemID:o,itemRef:o,results:null,security:o,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{10:10,147:147}],22:[function(e,t,i){"use strict";var n=e(70),r=e(90),s={linkState:function(e){return new n(this.state[e],r.createStateKeySetter(this,e))}};t.exports=s},{70:70,90:90}],23:[function(e,t,i){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink?u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function r(e){n(e),null!=e.value||null!=e.onChange?u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function s(e){n(e),null!=e.checked||null!=e.onChange?u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var a=e(82),l=e(81),u=e(161),c=e(173),h={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={value:function(e,t,i){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,i){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func},d={},f={checkPropTypes:function(e,t,i){for(var n in p){if(p.hasOwnProperty(n))var r=p[n](t,n,e,l.prop);if(r instanceof Error&&!(r.message in d)){d[r.message]=!0;var s=o(i);c(!1,"Failed form propType: %s%s",r.message,s)}}},getValue:function(e){return e.valueLink?(r(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(s(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(r(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(s(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{161:161,173:173,81:81,82:82}],24:[function(e,t,i){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var i=Object(e),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var s=arguments[r];if(null!=s){var o=Object(s);for(var a in o)n.call(o,a)&&(i[a]=o[a])}}return i}t.exports=n},{}],25:[function(e,t,i){"use strict";var n=e(161),r=function(e){var t=this;if(t.instancePool.length){var i=t.instancePool.pop();return t.call(i,e),i}return new t(e)},s=function(e,t){var i=this;if(i.instancePool.length){var n=i.instancePool.pop();return i.call(n,e,t),n}return new i(e,t)},o=function(e,t,i){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t,i),r}return new n(e,t,i)},a=function(e,t,i,n){var r=this;if(r.instancePool.length){var s=r.instancePool.pop();return r.call(s,e,t,i,n),s}return new r(e,t,i,n)},l=function(e,t,i,n,r){var s=this;if(s.instancePool.length){var o=s.instancePool.pop();return s.call(o,e,t,i,n,r),o}return new s(e,t,i,n,r)},u=function(e){var t=this;e instanceof t?void 0:n(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,h=r,p=function(e,t){var i=e;return i.instancePool=[],i.getPooled=t||h,i.poolSize||(i.poolSize=c),i.release=u,i},d={addPoolingTo:p,oneArgumentPooler:r,twoArgumentPooler:s,threeArgumentPooler:o,fourArgumentPooler:a,fiveArgumentPooler:l};t.exports=d},{161:161}],26:[function(e,t,i){"use strict";var n=e(40),r=e(50),s=e(69),o=e(24),a=e(120),l={};o(l,s),o(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",n,n.findDOMNode),render:a("render","ReactDOM","react-dom",n,n.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",n,n.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",r,r.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",r,r.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,l.Injection=e(65),t.exports=l},{120:120,24:24,40:40,50:50,69:69}],27:[function(e,t,i){"use strict";var n=e(68),r=e(122),s=e(173),o="_getDOMNodeDidWarn",a={getDOMNode:function(){return s(this.constructor[o],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",n.get(this).getName()||this.tagName||"Unknown"),this.constructor[o]=!0,r(this)}};t.exports=a},{122:122,173:173,68:68}],28:[function(e,t,i){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,p[e[g]]={}),p[e[g]]}var r=e(15),s=e(16),o=e(17),a=e(62),l=e(78),u=e(114),c=e(24),h=e(133),p={},d=!1,f=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=c({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i=t,s=n(i),a=o.registrationNameDependencies[e],l=r.topLevelTypes,u=0;u<a.length;u++){var c=a[u];s.hasOwnProperty(c)&&s[c]||(c===l.topWheel?h("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",i):h("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",i):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",i):c===l.topScroll?h("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",i):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(h("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",i),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",i)):h("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",i),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",i)),s[l.topBlur]=!0,s[l.topFocus]=!0):m.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,m[c],i),s[c]=!0)}},trapBubbledEvent:function(e,t,i){return v.ReactEventListener.trapBubbledEvent(e,t,i)},trapCapturedEvent:function(e,t,i){return v.ReactEventListener.trapCapturedEvent(e,t,i)},ensureScrollValueMonitoring:function(){if(!d){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:s.eventNameDispatchConfigs,registrationNameModules:s.registrationNameModules,putListener:s.putListener,getListener:s.getListener,deleteListener:s.deleteListener,deleteAllListeners:s.deleteAllListeners});l.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=v},{114:114,133:133,15:15,16:16,17:17,24:24,62:62,78:78}],29:[function(e,t,i){"use strict";function n(e){var t="transition"+e+"Timeout",i="transition"+e;return function(e){if(e[i]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var r=e(26),s=e(24),o=e(94),a=e(30),l=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:a.propTypes.name,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool,transitionAppearTimeout:n("Appear"),transitionEnterTimeout:n("Enter"),transitionLeaveTimeout:n("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return r.createElement(a,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return r.createElement(o,s({},this.props,{childFactory:this._wrapChild}))}});t.exports=l},{24:24,26:26,30:30,94:94}],30:[function(e,t,i){"use strict";var n=e(26),r=e(40),s=e(145),o=e(93),a=e(135),l=17,u=n.createClass({
displayName:"ReactCSSTransitionGroupChild",propTypes:{name:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.shape({enter:n.PropTypes.string,leave:n.PropTypes.string,active:n.PropTypes.string}),n.PropTypes.shape({enter:n.PropTypes.string,enterActive:n.PropTypes.string,leave:n.PropTypes.string,leaveActive:n.PropTypes.string,appear:n.PropTypes.string,appearActive:n.PropTypes.string})]).isRequired,appear:n.PropTypes.bool,enter:n.PropTypes.bool,leave:n.PropTypes.bool,appearTimeout:n.PropTypes.number,enterTimeout:n.PropTypes.number,leaveTimeout:n.PropTypes.number},transition:function(e,t,i){var n=r.findDOMNode(this);if(!n)return void(t&&t());var a=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||a+"-active",u=null,c=function(e){e&&e.target!==n||(clearTimeout(u),s.removeClass(n,a),s.removeClass(n,l),o.removeEndEventListener(n,c),t&&t())};s.addClass(n,a),this.queueClass(l),i?(u=setTimeout(c,i),this.transitionTimeouts.push(u)):o.addEndEventListener(n,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(s.addClass.bind(s,r.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return a(this.props.children)}});t.exports=u},{135:135,145:145,26:26,40:40,93:93}],31:[function(e,t,i){"use strict";function n(e,t,i){var n=void 0===e[i];l(n,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),null!=t&&n&&(e[i]=s(t,null))}var r=e(84),s=e(132),o=e(141),a=e(142),l=e(173),u={instantiateChildren:function(e,t,i){if(null==e)return null;var r={};return a(e,n,r),r},updateChildren:function(e,t,i,n){if(!t&&!e)return null;var a;for(a in t)if(t.hasOwnProperty(a)){var l=e&&e[a],u=l&&l._currentElement,c=t[a];if(null!=l&&o(u,c))r.receiveComponent(l,c,i,n),t[a]=l;else{l&&r.unmountComponent(l,a);var h=s(c,null);t[a]=h}}for(a in e)!e.hasOwnProperty(a)||t&&t.hasOwnProperty(a)||r.unmountComponent(e[a]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];r.unmountComponent(i)}}};t.exports=u},{132:132,141:141,142:142,173:173,84:84}],32:[function(e,t,i){"use strict";function n(e){return(""+e).replace(w,"//")}function r(e,t){this.func=e,this.context=t,this.count=0}function s(e,t,i){var n=e.func,r=e.context;n.call(r,t,e.count++)}function o(e,t,i){if(null==e)return e;var n=r.getPooled(t,i);v(e,s,n),r.release(n)}function a(e,t,i,n){this.result=e,this.keyPrefix=t,this.func=i,this.context=n,this.count=0}function l(e,t,i){var r=e.result,s=e.keyPrefix,o=e.func,a=e.context,l=o.call(a,t,e.count++);Array.isArray(l)?u(l,r,i,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,s+(l!==t?n(l.key||"")+"/":"")+i)),r.push(l))}function u(e,t,i,r,s){var o="";null!=i&&(o=n(i)+"/");var u=a.getPooled(t,o,r,s);v(e,l,u),a.release(u)}function c(e,t,i){if(null==e)return e;var n=[];return u(e,n,null,t,i),n}function h(e,t,i){return null}function p(e,t){return v(e,h,null)}function d(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var f=e(25),m=e(57),g=e(153),v=e(142),y=f.twoArgumentPooler,b=f.fourArgumentPooler,w=/\/(?!\/)/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,y),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(a,b);var S={forEach:o,map:c,mapIntoWithKeyPrefixInternal:u,count:p,toArray:d};t.exports=S},{142:142,153:153,25:25,57:57}],33:[function(e,t,i){"use strict";function n(){_||(_=!0,T(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function r(e,t,i){for(var n in t)t.hasOwnProperty(n)&&T("function"==typeof t[n],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",g[i],n)}function s(e,t){var i=k.hasOwnProperty(t)?k[t]:null;R.hasOwnProperty(t)&&(i!==P.OVERRIDE_BASE?w(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):void 0),e.hasOwnProperty(t)&&(i!==P.DEFINE_MANY&&i!==P.DEFINE_MANY_MERGED?w(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):void 0)}function o(e,t){if(t){"function"==typeof t?w(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):void 0,f.isValidElement(t)?w(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var i=e.prototype;t.hasOwnProperty(C)&&A.mixins(e,t.mixins);for(var n in t)if(t.hasOwnProperty(n)&&n!==C){var r=t[n];if(s(i,n),A.hasOwnProperty(n))A[n](e,r);else{var o=k.hasOwnProperty(n),a=i.hasOwnProperty(n),l="function"==typeof r,h=l&&!o&&!a&&t.autobind!==!1;if(h)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[n]=r,i[n]=r;else if(a){var p=k[n];!o||p!==P.DEFINE_MANY_MERGED&&p!==P.DEFINE_MANY?w(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,n):void 0,p===P.DEFINE_MANY_MERGED?i[n]=u(i[n],r):p===P.DEFINE_MANY&&(i[n]=c(i[n],r))}else i[n]=r,"function"==typeof r&&t.displayName&&(i[n].displayName=t.displayName+"_"+n)}}}}function a(e,t){if(t)for(var i in t){var n=t[i];if(t.hasOwnProperty(i)){var r=i in A;r?w(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i):void 0;var s=i in e;s?w(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i):void 0,e[i]=n}}}function l(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:w(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var i in t)t.hasOwnProperty(i)&&(void 0!==e[i]?w(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i):void 0,e[i]=t[i]);return e}function u(e,t){return function(){var i=e.apply(this,arguments),n=t.apply(this,arguments);if(null==i)return n;if(null==n)return i;var r={};return l(r,i),l(r,n),r}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var i=t.bind(e);i.__reactBoundContext=e,i.__reactBoundMethod=t,i.__reactBoundArguments=null;var n=e.constructor.displayName,r=i.bind;return i.bind=function(s){for(var o=arguments.length,a=Array(o>1?o-1:0),l=1;o>l;l++)a[l-1]=arguments[l];if(s!==e&&null!==s)T(!1,"bind(): React component methods may only be bound to the component instance. See %s",n);else if(!a.length)return T(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",n),i;var u=r.apply(i,arguments);return u.__reactBoundContext=e,u.__reactBoundMethod=t,u.__reactBoundArguments=a,u},i}function p(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var i=e.__reactAutoBindMap[t];e[t]=h(e,i)}}var d=e(34),f=e(57),m=e(81),g=e(80),v=e(76),y=e(24),b=e(154),w=e(161),S=e(165),x=e(166),T=e(173),C=x({mixins:null}),P=S({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_=!1,k={mixins:P.DEFINE_MANY,statics:P.DEFINE_MANY,propTypes:P.DEFINE_MANY,contextTypes:P.DEFINE_MANY,childContextTypes:P.DEFINE_MANY,getDefaultProps:P.DEFINE_MANY_MERGED,getInitialState:P.DEFINE_MANY_MERGED,getChildContext:P.DEFINE_MANY_MERGED,render:P.DEFINE_ONCE,componentWillMount:P.DEFINE_MANY,componentDidMount:P.DEFINE_MANY,componentWillReceiveProps:P.DEFINE_MANY,shouldComponentUpdate:P.DEFINE_ONCE,componentWillUpdate:P.DEFINE_MANY,componentDidUpdate:P.DEFINE_MANY,componentWillUnmount:P.DEFINE_MANY,updateComponent:P.OVERRIDE_BASE},A={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)o(e,t[i])},childContextTypes:function(e,t){r(e,t,m.childContext),e.childContextTypes=y({},e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,m.context),e.contextTypes=y({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){r(e,t,m.prop),e.propTypes=y({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},R={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){n(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){n(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},M=function(){};y(M.prototype,d.prototype,R);var I={createClass:function(e){var t=function(e,i,n){T(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&p(this),this.props=e,this.context=i,this.refs=b,this.updater=n||v,this.state=null;var r=this.getInitialState?this.getInitialState():null;"undefined"==typeof r&&this.getInitialState._isMockFunction&&(r=null),"object"!=typeof r||Array.isArray(r)?w(!1,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):void 0,this.state=r};t.prototype=new M,t.prototype.constructor=t,E.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render?void 0:w(!1,"createClass(...): Class specification must implement a `render` method."),T(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),T(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component");for(var i in k)t.prototype[i]||(t.prototype[i]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};t.exports=I},{154:154,161:161,165:165,166:166,173:173,24:24,34:34,57:57,76:76,80:80,81:81}],34:[function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=o,this.updater=i||r}var r=e(76),s=e(117),o=e(154),a=e(161),l=e(173);n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,l(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var u={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},c=function(e,t){s&&Object.defineProperty(n.prototype,e,{get:function(){l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var h in u)u.hasOwnProperty(h)&&c(h,u[h]);t.exports=n},{117:117,154:154,161:161,173:173,76:76}],35:[function(e,t,i){"use strict";var n=e(45),r=e(72),s={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){r.purgeID(e)}};t.exports=s},{45:45,72:72}],36:[function(e,t,i){"use strict";var n=e(161),r=!1,s={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?n(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,s.unmountIDFromEnvironment=e.unmountIDFromEnvironment,s.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,s.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};t.exports=s},{161:161}],37:[function(e,t,i){"use strict";var n=e(140),r={shouldComponentUpdate:function(e,t){return n(this,e,t)}};t.exports=r},{140:140}],38:[function(e,t,i){"use strict";function n(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" Check the render method of `"+i+"`."}return""}function r(e){}var s=e(36),o=e(39),a=e(57),l=e(68),u=e(78),c=e(81),h=e(80),p=e(84),d=e(95),f=e(24),m=e(154),g=e(161),v=e(141),y=e(173);r.prototype.render=function(){var e=l.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var b=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,i){this._context=i,this._mountOrder=b++,this._rootNodeID=e;var n,s,u=this._processProps(this._currentElement.props),c=this._processContext(i),h=this._currentElement.type,f="prototype"in h;if(f){o.current=this;try{n=new h(u,c,d)}finally{o.current=null}}f&&null!==n&&n!==!1&&!a.isValidElement(n)||(s=n,n=new r(h)),null==n.render?y(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",h.displayName||h.name||"Component"):y(h.prototype&&h.prototype.isReactComponent||!f||!(n instanceof h),"%s(...): React component classes must extend React.Component.",h.displayName||h.name||"Component"),n.props=u,n.context=c,n.refs=m,n.updater=d,this._instance=n,l.set(n,this),y(!n.getInitialState||n.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),y(!n.getDefaultProps||n.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),y(!n.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),y(!n.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),y("function"!=typeof n.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),y("function"!=typeof n.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),y("function"!=typeof n.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var v=n.state;void 0===v&&(n.state=v=null),"object"!=typeof v||Array.isArray(v)?g(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,n.componentWillMount&&(n.componentWillMount(),this._pendingStateQueue&&(n.state=this._processPendingState(n.props,n.context))),void 0===s&&(s=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(s);var w=p.mountComponent(this._renderedComponent,e,t,this._processChildContext(i));return n.componentDidMount&&t.getReactMountReady().enqueue(n.componentDidMount,n),w},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(e)},_maskContext:function(e){var t=null,i=this._currentElement.type,n=i.contextTypes;if(!n)return m;t={};for(var r in n)t[r]=e[r];return t},_processContext:function(e){var t=this._maskContext(e),i=this._currentElement.type;return i.contextTypes&&this._checkPropTypes(i.contextTypes,t,c.context),t},_processChildContext:function(e){var t=this._currentElement.type,i=this._instance,n=i.getChildContext&&i.getChildContext();if(n){"object"!=typeof t.childContextTypes?g(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(t.childContextTypes,n,c.childContext);for(var r in n)r in t.childContextTypes?void 0:g(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",r);return f({},e,n)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,c.prop),e},_checkPropTypes:function(e,t,i){var r=this.getName();for(var s in e)if(e.hasOwnProperty(s)){var o;try{"function"!=typeof e[s]?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",h[i],s):void 0,o=e[s](t,s,r,i)}catch(a){o=a}if(o instanceof Error){var l=n(this);i===c.prop?y(!1,"Failed Composite propType: %s%s",o.message,l):y(!1,"Failed Context Types: %s%s",o.message,l)}}},receiveComponent:function(e,t,i){var n=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,n,e,r,i)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,i,n,r){var s,o=this._instance,a=this._context===r?o.context:this._processContext(r);t===i?s=i.props:(s=this._processProps(i.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(s,a));var l=this._processPendingState(s,a),u=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(s,l,a);y("undefined"!=typeof u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,s,l,a,e,r)):(this._currentElement=i,this._context=r,o.props=s,o.state=l,o.context=a)},_processPendingState:function(e,t){var i=this._instance,n=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return i.state;if(r&&1===n.length)return n[0];for(var s=f({},r?n[0]:i.state),o=r?1:0;o<n.length;o++){var a=n[o];f(s,"function"==typeof a?a.call(i,s,e,t):a)}return s},_performComponentUpdate:function(e,t,i,n,r,s){var o,a,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(o=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,i,n),this._currentElement=e,this._context=s,u.props=t,u.state=i,u.context=n,this._updateRenderedComponent(r,s),c&&r.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,o,a,l),u)},_updateRenderedComponent:function(e,t){var i=this._renderedComponent,n=i._currentElement,r=this._renderValidatedComponent();if(v(n,r))p.receiveComponent(i,r,e,this._processChildContext(t));else{var s=this._rootNodeID,o=i._rootNodeID;p.unmountComponent(i),this._renderedComponent=this._instantiateReactComponent(r);var a=p.mountComponent(this._renderedComponent,s,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(o,a)}},_replaceNodeWithMarkupByID:function(e,t){s.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return"undefined"==typeof t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;o.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=null}return null===e||e===!1||a.isValidElement(e)?void 0:g(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var i=this.getPublicInstance();null==i?g(!1,"Stateless function components cannot have refs."):void 0;var n=t.getPublicInstance(),r=t&&t.getName?t.getName():"a component";y(null!=n,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,r,this.getName());var s=i.refs===m?i.refs={}:i.refs;s[e]=n},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof r?null:e},_instantiateReactComponent:null};u.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var S={Mixin:w};t.exports=S},{141:141,154:154,161:161,173:173,24:24,36:36,39:39,57:57,68:68,78:78,80:80,81:81,84:84,95:95}],39:[function(e,t,i){"use strict";var n={current:null};t.exports=n},{}],40:[function(e,t,i){"use strict";var n=e(39),r=e(51),s=e(54),o=e(67),a=e(72),l=e(78),u=e(84),c=e(96),h=e(97),p=e(122),d=e(137),f=e(173);s.inject();var m=l.measure("React","render",a.render),g={findDOMNode:p,render:m,unmountComponentAtNode:a.unmountComponentAtNode,version:h,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:n,InstanceHandles:o,Mount:a,Reconciler:u,TextComponent:r});var v=e(147);if(v.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var y=document.documentMode&&document.documentMode<8;f(!y,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var b=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],w=0;w<b.length;w++)if(!b[w]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=g},{122:122,137:137,147:147,173:173,39:39,51:51,54:54,67:67,72:72,78:78,84:84,96:96,97:97}],41:[function(e,t,i){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(e,t,i){if(!t.disabled)return t;var r={};for(var s in t)t.hasOwnProperty(s)&&!n[s]&&(r[s]=t[s]);return r}};t.exports=r},{}],42:[function(e,t,i){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" This DOM node was rendered by `"+i+"`."}}return""}function r(){var e=this._reactInternalComponent;return Y(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",n(e)),this}function s(){var e=this._reactInternalComponent;return Y(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",n(e)),!!e}function o(){var e=this._reactInternalComponent;Y(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",n(e))}function a(e,t){var i=this._reactInternalComponent;Y(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(i)),i&&(V.enqueueSetPropsInternal(i,e),t&&V.enqueueCallbackInternal(i,t))}function l(e,t){var i=this._reactInternalComponent;Y(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(i)),i&&(V.enqueueReplacePropsInternal(i,e),t&&V.enqueueCallbackInternal(i,t))}function u(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";var t=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=/^[a-z$_][\w$_]*$/i.test(i)?i:JSON.stringify(i);t.push(n+": "+u(e[i]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function c(e,t,i){if(null!=e&&null!=t&&!z(e,t)){var n,r=i._tag,s=i._currentElement._owner;s&&(n=s.getName());var o=n+"|"+r;ne.hasOwnProperty(o)||(ne[o]=!0,Y(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",r,s?"of `"+n+"`":"using <"+r+">",u(e),u(t)))}}function h(e,t){t&&(ae[e._tag]&&Y(null==t.children&&null==t.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children?U(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof t.dangerouslySetInnerHTML&&te in t.dangerouslySetInnerHTML?void 0:U(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),Y(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Y(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style?U(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n(e)):void 0)}function p(e,t,i,n){Y("onScroll"!==t||H("scroll",!0),"This browser doesn't support the `onScroll` event");var r=L.findReactContainerForID(e);if(r){var s=r.nodeType===ie?r.ownerDocument:r;K(t,s)}n.getReactMountReady().enqueue(d,{id:e,registrationName:t,listener:i})}function d(){var e=this;_.putListener(e.id,e.registrationName,e.listener)}function f(){var e=this;e._rootNodeID?void 0:U(!1,"Must be mounted to trap events");var t=L.getNode(e._rootNodeID);switch(t?void 0:U(!1,"trapBubbledEvent(...): Requires node to be rendered."),e._tag){case"iframe":e._wrapperState.listeners=[_.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var i in re)re.hasOwnProperty(i)&&e._wrapperState.listeners.push(_.trapBubbledEvent(E.topLevelTypes[i],re[i],t));break;case"img":e._wrapperState.listeners=[_.trapBubbledEvent(E.topLevelTypes.topError,"error",t),_.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[_.trapBubbledEvent(E.topLevelTypes.topReset,"reset",t),_.trapBubbledEvent(E.topLevelTypes.topSubmit,"submit",t)]}}function m(){R.mountReadyWrapper(this)}function g(){I.postUpdateWrapper(this)}function v(e){ce.call(ue,e)||(le.test(e)?void 0:U(!1,"Invalid tag: %s",e),ue[e]=!0)}function y(e,t){e=j({},e);var i=e[X.ancestorInfoContextKey];return e[X.ancestorInfoContextKey]=X.updatedAncestorInfo(i,t._tag,t),e}function b(e,t){return e.indexOf("-")>=0||null!=t.is}function w(e){v(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var S,x=e(2),T=e(5),C=e(10),P=e(11),E=e(15),_=e(28),k=e(35),A=e(41),R=e(46),M=e(47),I=e(48),O=e(52),L=e(72),D=e(73),N=e(78),V=e(95),j=e(24),B=e(117),F=e(121),U=e(161),H=e(133),q=e(166),W=e(138),G=e(139),z=e(171),X=e(144),Y=e(173),Q=_.deleteListener,K=_.listenTo,$=_.registrationNameModules,J={string:!0,number:!0},Z=q({children:null}),ee=q({style:null}),te=q({__html:null}),ie=1;S={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return Y(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",n(e)),e._currentElement.props}}};var ne={},re={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},se={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},oe={listing:!0,pre:!0,textarea:!0},ae=j({menuitem:!0},se),le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ue={},ce={}.hasOwnProperty;w.displayName="ReactDOMComponent",w.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,i){this._rootNodeID=e;var n=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(f,this);
break;case"button":n=A.getNativeProps(this,n,i);break;case"input":R.mountWrapper(this,n,i),n=R.getNativeProps(this,n,i);break;case"option":M.mountWrapper(this,n,i),n=M.getNativeProps(this,n,i);break;case"select":I.mountWrapper(this,n,i),n=I.getNativeProps(this,n,i),i=I.processChildContext(this,n,i);break;case"textarea":O.mountWrapper(this,n,i),n=O.getNativeProps(this,n,i)}h(this,n),i[X.ancestorInfoContextKey]&&X(this._tag,this,i[X.ancestorInfoContextKey]),this._unprocessedContextDev=i,this._processedContextDev=y(i,this),i=this._processedContextDev;var r;if(t.useCreateElement){var s=i[L.ownerDocumentContextKey],o=s.createElement(this._currentElement.type);P.setAttributeForID(o,this._rootNodeID),L.getID(o),this._updateDOMProperties({},n,t,o),this._createInitialChildren(t,n,i,o),r=o}else{var a=this._createOpenTagMarkupAndPutListeners(t,n),l=this._createContentMarkup(t,n,i);r=!l&&se[this._tag]?a+"/>":a+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(m,this);case"button":case"select":case"textarea":n.autoFocus&&t.getReactMountReady().enqueue(x.focusDOMComponent,this)}return r},_createOpenTagMarkupAndPutListeners:function(e,t){var i="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(null!=r)if($.hasOwnProperty(n))r&&p(this._rootNodeID,n,r,e);else{n===ee&&(r&&(this._previousStyle=r,r=this._previousStyleCopy=j({},t.style)),r=T.createMarkupForStyles(r));var s=null;null!=this._tag&&b(this._tag,t)?n!==Z&&(s=P.createMarkupForCustomAttribute(n,r)):s=P.createMarkupForProperty(n,r),s&&(i+=" "+s)}}if(e.renderToStaticMarkup)return i;var o=P.createMarkupForID(this._rootNodeID);return i+" "+o},_createContentMarkup:function(e,t,i){var n="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(n=r.__html);else{var s=J[typeof t.children]?t.children:null,o=null!=s?null:t.children;if(null!=s)n=F(s);else if(null!=o){var a=this.mountChildren(o,e,i);n=a.join("")}}return oe[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,i,n){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&W(n,r.__html);else{var s=J[typeof t.children]?t.children:null,o=null!=s?null:t.children;if(null!=s)G(n,s);else if(null!=o)for(var a=this.mountChildren(o,e,i),l=0;l<a.length;l++)n.appendChild(a[l])}},receiveComponent:function(e,t,i){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,i)},updateComponent:function(e,t,i,n){var r=t.props,s=this._currentElement.props;switch(this._tag){case"button":r=A.getNativeProps(this,r),s=A.getNativeProps(this,s);break;case"input":R.updateWrapper(this),r=R.getNativeProps(this,r),s=R.getNativeProps(this,s);break;case"option":r=M.getNativeProps(this,r),s=M.getNativeProps(this,s);break;case"select":r=I.getNativeProps(this,r),s=I.getNativeProps(this,s);break;case"textarea":O.updateWrapper(this),r=O.getNativeProps(this,r),s=O.getNativeProps(this,s)}this._unprocessedContextDev!==n&&(this._unprocessedContextDev=n,this._processedContextDev=y(n,this)),n=this._processedContextDev,h(this,s),this._updateDOMProperties(r,s,e,null),this._updateDOMChildren(r,s,e,n),!B&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=s),"select"===this._tag&&e.getReactMountReady().enqueue(g,this)},_updateDOMProperties:function(e,t,i,n){var r,s,o;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r))if(r===ee){var a=this._previousStyleCopy;for(s in a)a.hasOwnProperty(s)&&(o=o||{},o[s]="");this._previousStyleCopy=null}else $.hasOwnProperty(r)?e[r]&&Q(this._rootNodeID,r):(C.properties[r]||C.isCustomAttribute(r))&&(n||(n=L.getNode(this._rootNodeID)),P.deleteValueForProperty(n,r));for(r in t){var l=t[r],u=r===ee?this._previousStyleCopy:e[r];if(t.hasOwnProperty(r)&&l!==u)if(r===ee)if(l?(c(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=l,l=this._previousStyleCopy=j({},l)):this._previousStyleCopy=null,u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(o=o||{},o[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(o=o||{},o[s]=l[s])}else o=l;else $.hasOwnProperty(r)?l?p(this._rootNodeID,r,l,i):u&&Q(this._rootNodeID,r):b(this._tag,t)?(n||(n=L.getNode(this._rootNodeID)),r===Z&&(l=null),P.setValueForAttribute(n,r,l)):(C.properties[r]||C.isCustomAttribute(r))&&(n||(n=L.getNode(this._rootNodeID)),null!=l?P.setValueForProperty(n,r,l):P.deleteValueForProperty(n,r))}o&&(n||(n=L.getNode(this._rootNodeID)),T.setValueForStyles(n,o))},_updateDOMChildren:function(e,t,i,n){var r=J[typeof e.children]?e.children:null,s=J[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,u=null!=s?null:t.children,c=null!=r||null!=o,h=null!=s||null!=a;null!=l&&null==u?this.updateChildren(null,i,n):c&&!h&&this.updateTextContent(""),null!=s?r!==s&&this.updateTextContent(""+s):null!=a?o!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,i,n)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":R.unmountWrapper(this);break;case"html":case"head":case"body":U(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}if(this.unmountChildren(),_.deleteAllListeners(this._rootNodeID),k.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var i=this._nodeWithLegacyProperties;i._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=L.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=s,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=l,B?Object.defineProperties(e,S):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},N.measureMethods(w,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),j(w.prototype,w.Mixin,D.Mixin),t.exports=w},{10:10,11:11,117:117,121:121,133:133,138:138,139:139,144:144,15:15,161:161,166:166,171:171,173:173,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,72:72,73:73,78:78,95:95}],43:[function(e,t,i){"use strict";function n(e){return r.createFactory(e)}var r=(e(57),e(58)),s=e(167),o=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);t.exports=o},{167:167,57:57,58:58}],44:[function(e,t,i){"use strict";var n={useCreateElement:!1};t.exports=n},{}],45:[function(e,t,i){"use strict";var n=e(9),r=e(11),s=e(72),o=e(78),a=e(161),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,i){var n=s.getNode(e);l.hasOwnProperty(t)?a(!1,"updatePropertyByID(...): %s",l[t]):void 0,null!=i?r.setValueForProperty(n,t,i):r.deleteValueForProperty(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var i=s.getNode(e);n.dangerouslyReplaceNodeWithMarkup(i,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var i=0;i<e.length;i++)e[i].parentNode=s.getNode(e[i].parentID);n.processUpdates(e,t)}};o.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},{11:11,161:161,72:72,78:78,9:9}],46:[function(e,t,i){"use strict";function n(){this._rootNodeID&&p.updateWrapper(this)}function r(e){var t=this._currentElement.props,i=o.executeOnChange(t,e);l.asap(n,this);var r=t.name;if("radio"===t.type&&null!=r){for(var s=a.getNode(this._rootNodeID),u=s;u.parentNode;)u=u.parentNode;for(var p=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),d=0;d<p.length;d++){var f=p[d];if(f!==s&&f.form===s.form){var m=a.getID(f);m?void 0:c(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var g=h[m];g?void 0:c(!1,"ReactDOMInput: Unknown radio button ID %s.",m),l.asap(n,g)}}}return i}var s=e(45),o=e(23),a=e(72),l=e(96),u=e(24),c=e(161),h={},p={getNativeProps:function(e,t,i){var n=o.getValue(t),r=o.getChecked(t),s=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return s},mountWrapper:function(e,t){o.checkPropTypes("input",t,e._currentElement._owner);var i=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=i?i:null,onChange:r.bind(e)}},mountReadyWrapper:function(e){h[e._rootNodeID]=e},unmountWrapper:function(e){delete h[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,i=t.checked;null!=i&&s.updatePropertyByID(e._rootNodeID,"checked",i||!1);var n=o.getValue(t);null!=n&&s.updatePropertyByID(e._rootNodeID,"value",""+n)}};t.exports=p},{161:161,23:23,24:24,45:45,72:72,96:96}],47:[function(e,t,i){"use strict";var n=e(32),r=e(48),s=e(24),o=e(173),a=r.valueContextKey,l={mountWrapper:function(e,t,i){o(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var n=i[a],r=null;if(null!=n)if(r=!1,Array.isArray(n)){for(var s=0;s<n.length;s++)if(""+n[s]==""+t.value){r=!0;break}}else r=""+n==""+t.value;e._wrapperState={selected:r}},getNativeProps:function(e,t,i){var r=s({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var a="";return n.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?a+=e:o(!1,"Only strings and numbers are supported as <option> children."))}),r.children=a,r}};t.exports=l},{173:173,24:24,32:32,48:48}],48:[function(e,t,i){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function s(e,t){var i=e._currentElement._owner;l.checkPropTypes("select",t,i);for(var n=0;n<f.length;n++){var s=f[n];null!=t[s]&&(t.multiple?p(Array.isArray(t[s]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",s,r(i)):p(!Array.isArray(t[s]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",s,r(i)))}}function o(e,t,i){var n,r,s=u.getNode(e._rootNodeID).options;if(t){for(n={},r=0;r<i.length;r++)n[""+i[r]]=!0;for(r=0;r<s.length;r++){var o=n.hasOwnProperty(s[r].value);s[r].selected!==o&&(s[r].selected=o)}}else{for(n=""+i,r=0;r<s.length;r++)if(s[r].value===n)return void(s[r].selected=!0);s.length&&(s[0].selected=!0)}}function a(e){var t=this._currentElement.props,i=l.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,c.asap(n,this),i}var l=e(23),u=e(72),c=e(96),h=e(24),p=e(173),d="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),f=["value","defaultValue"],m={valueContextKey:d,getNativeProps:function(e,t,i){return h({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){s(e,t);var i=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:t.defaultValue,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,i){var n=h({},i);return n[d]=e._wrapperState.initialValue,n},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var i=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=l.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),n)):i!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=m},{173:173,23:23,24:24,72:72,96:96}],49:[function(e,t,i){"use strict";function n(e,t,i,n){return e===i&&t===n}function r(e){var t=document.selection,i=t.createRange(),n=i.text.length,r=i.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",i);var s=r.text.length,o=s+n;return{start:s,end:o}}function s(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,r=t.anchorOffset,s=t.focusNode,o=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(l){return null}var u=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:a.toString().length,h=a.cloneRange();h.selectNodeContents(e),h.setEnd(a.startContainer,a.startOffset);var p=n(h.startContainer,h.startOffset,h.endContainer,h.endOffset),d=p?0:h.toString().length,f=d+c,m=document.createRange();m.setStart(i,r),m.setEnd(s,o);var g=m.collapsed;return{start:g?f:d,end:g?d:f}}function o(e,t){var i,n,r=document.selection.createRange().duplicate();"undefined"==typeof t.end?(i=t.start,n=i):t.start>t.end?(i=t.end,n=t.start):(i=t.start,n=t.end),r.moveToElementText(e),r.moveStart("character",i),r.setEndPoint("EndToStart",r),r.moveEnd("character",n-i),r.select()}function a(e,t){if(window.getSelection){var i=window.getSelection(),n=e[c()].length,r=Math.min(t.start,n),s="undefined"==typeof t.end?r:Math.min(t.end,n);if(!i.extend&&r>s){var o=s;s=r,r=o}var a=u(e,r),l=u(e,s);if(a&&l){var h=document.createRange();h.setStart(a.node,a.offset),i.removeAllRanges(),r>s?(i.addRange(h),i.extend(l.node,l.offset)):(h.setEnd(l.node,l.offset),i.addRange(h))}}}var l=e(147),u=e(130),c=e(131),h=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?r:s,setOffsets:h?o:a};t.exports=p},{130:130,131:131,147:147}],50:[function(e,t,i){"use strict";var n=e(54),r=e(88),s=e(97);n.inject();var o={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:s};t.exports=o},{54:54,88:88,97:97}],51:[function(e,t,i){"use strict";var n=e(9),r=e(11),s=e(35),o=e(72),a=e(24),l=e(121),u=e(139),c=e(144),h=function(e){};a(h.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,i){if(i[c.ancestorInfoContextKey]&&c("span",null,i[c.ancestorInfoContextKey]),this._rootNodeID=e,t.useCreateElement){var n=i[o.ownerDocumentContextKey],s=n.createElement("span");return r.setAttributeForID(s,e),o.getID(s),u(s,this._stringText),s}var a=l(this._stringText);return t.renderToStaticMarkup?a:"<span "+r.createMarkupForID(e)+">"+a+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var i=""+e;if(i!==this._stringText){this._stringText=i;var r=o.getNode(this._rootNodeID);n.updateTextContent(r,i)}}},unmountComponent:function(){s.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=h},{11:11,121:121,139:139,144:144,24:24,35:35,72:72,9:9}],52:[function(e,t,i){"use strict";function n(){this._rootNodeID&&h.updateWrapper(this)}function r(e){var t=this._currentElement.props,i=s.executeOnChange(t,e);return a.asap(n,this),i}var s=e(23),o=e(45),a=e(96),l=e(24),u=e(161),c=e(173),h={getNativeProps:function(e,t,i){null!=t.dangerouslySetInnerHTML?u(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var n=l({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){s.checkPropTypes("textarea",t,e._currentElement._owner);var i=t.defaultValue,n=t.children;null!=n&&(c(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=i?u(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(n)&&(n.length<=1?void 0:u(!1,"<textarea> can only have at most one child."),n=n[0]),i=""+n),null==i&&(i="");var o=s.getValue(t);e._wrapperState={initialValue:""+(null!=o?o:i),onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,i=s.getValue(t);null!=i&&o.updatePropertyByID(e._rootNodeID,"value",""+i)}};t.exports=h},{161:161,173:173,23:23,24:24,45:45,96:96}],53:[function(e,t,i){"use strict";function n(){this.reinitializeTransaction()}var r=e(96),s=e(113),o=e(24),a=e(153),l={initialize:a,close:function(){p.isBatchingUpdates=!1}},u={initialize:a,close:r.flushBatchedUpdates.bind(r)},c=[u,l];o(n.prototype,s.Mixin,{getTransactionWrappers:function(){return c}});var h=new n,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,i,n,r,s){var o=p.isBatchingUpdates;p.isBatchingUpdates=!0,o?e(t,i,n,r,s):h.perform(e,null,t,i,n,r,s)}};t.exports=p},{113:113,153:153,24:24,96:96}],54:[function(e,t,i){"use strict";function n(){if(!P){P=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginHub.injectInstanceHandle(y),v.EventPluginHub.injectMount(b),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:T,EnterLeaveEventPlugin:l,ChangeEventPlugin:s,SelectEventPlugin:S,BeforeInputEventPlugin:r}),v.NativeComponent.injectGenericComponentClass(f),v.NativeComponent.injectTextComponentClass(m),v.Class.injectMixin(h),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(C),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(w),v.Updates.injectBatchingStrategy(d),v.RootIndex.injectCreateReactRootIndex(u.canUseDOM?o.createReactRootIndex:x.createReactRootIndex),v.Component.injectEnvironment(p);var t=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var i=e(55);i.start()}}}var r=e(3),s=e(7),o=e(8),a=e(13),l=e(14),u=e(147),c=e(21),h=e(27),p=e(35),d=e(53),f=e(42),m=e(51),g=e(63),v=e(65),y=e(67),b=e(72),w=e(83),S=e(99),x=e(100),T=e(101),C=e(98),P=!1;t.exports={inject:n}},{100:100,101:101,13:13,14:14,147:147,21:21,27:27,3:3,35:35,42:42,51:51,53:53,55:55,63:63,65:65,67:67,7:7,72:72,8:8,83:83,98:98,99:99}],55:[function(e,t,i){"use strict";function n(e){return Math.floor(100*e)/100}function r(e,t,i){e[t]=(e[t]||0)+i}var s=e(10),o=e(56),a=e(72),l=e(78),u=e(170),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||l.injection.injectMeasure(c.measure),c._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=o.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":n(e.inclusive),"Exclusive mount time (ms)":n(e.exclusive),"Exclusive render time (ms)":n(e.render),"Mount time per instance (ms)":n(e.exclusive/e.count),"Render time per instance (ms)":n(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=o.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":n(e.time),Instances:e.count}})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=o.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=o.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[s.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,i,n){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:i,args:n})},measure:function(e,t,i){return function(){for(var n=arguments.length,s=Array(n),o=0;n>o;o++)s[o]=arguments[o];var l,h,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=u(),h=i.apply(this,s),c._allMeasurements[c._allMeasurements.length-1].totalTime=u()-p,h;if("_mountImageIntoNode"===t||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(p=u(),h=i.apply(this,s),l=u()-p,"_mountImageIntoNode"===t){var d=a.getID(s[1]);c._recordWrite(d,t,l,s[0])}else if("dangerouslyProcessChildrenUpdates"===t)s[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=s[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,l,t)});else{var f=s[0];"object"==typeof f&&(f=a.getID(s[0])),c._recordWrite(f,t,l,Array.prototype.slice.call(s,1))}return h}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return i.apply(this,s);if(this._currentElement.type===a.TopLevelWrapper)return i.apply(this,s);var m="mountComponent"===t?s[0]:this._rootNodeID,g="_renderValidatedComponent"===t,v="mountComponent"===t,y=c._mountStack,b=c._allMeasurements[c._allMeasurements.length-1];if(g?r(b.counts,m,1):v&&(b.created[m]=!0,y.push(0)),p=u(),h=i.apply(this,s),l=u()-p,g)r(b.render,m,l);else if(v){var w=y.pop();y[y.length-1]+=l,r(b.exclusive,m,l-w),r(b.inclusive,m,l)}else r(b.inclusive,m,l);return b.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=c},{10:10,170:170,56:56,72:72,78:78}],56:[function(e,t,i){"use strict";function n(e){for(var t=0,i=0;i<e.length;i++){var n=e[i];t+=n.totalTime}return t}function r(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(i){e.writes[i].forEach(function(e){t.push({id:i,type:c[e.type]||e.type,args:e.args})})})}),t}function s(e){for(var t,i={},n=0;n<e.length;n++){var r=e[n],s=l({},r.exclusive,r.inclusive);for(var o in s)t=r.displayNames[o].current,i[t]=i[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},r.render[o]&&(i[t].render+=r.render[o]),r.exclusive[o]&&(i[t].exclusive+=r.exclusive[o]),r.inclusive[o]&&(i[t].inclusive+=r.inclusive[o]),r.counts[o]&&(i[t].count+=r.counts[o])}var a=[];for(t in i)i[t].exclusive>=u&&a.push(i[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a}function o(e,t){for(var i,n={},r=0;r<e.length;r++){var s,o=e[r],c=l({},o.exclusive,o.inclusive);t&&(s=a(o));for(var h in c)if(!t||s[h]){var p=o.displayNames[h];i=p.owner+" > "+p.current,n[i]=n[i]||{componentName:i,time:0,count:0},o.inclusive[h]&&(n[i].time+=o.inclusive[h]),o.counts[h]&&(n[i].count+=o.counts[h])}}var d=[];for(i in n)n[i].time>=u&&d.push(n[i]);return d.sort(function(e,t){return t.time-e.time}),d}function a(e){var t={},i=Object.keys(e.writes),n=l({},e.exclusive,e.inclusive);for(var r in n){for(var s=!1,o=0;o<i.length;o++)if(0===i[o].indexOf(r)){s=!0;break}e.created[r]&&(s=!0),!s&&e.counts[r]>0&&(t[r]=!0)}return t}var l=e(24),u=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},h={getExclusiveSummary:s,getInclusiveSummary:o,getDOMSummary:r,getTotalTime:n};t.exports=h},{24:24}],57:[function(e,t,i){"use strict";var n=e(39),r=e(24),s=e(117),o="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,a={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,i,n,r,a,l){var u={$$typeof:o,type:e,key:t,ref:i,props:l,_owner:a};return u._store={},s?(Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r})):(u._store.validated=!1,u._self=n,u._source=r),Object.freeze(u.props),Object.freeze(u),u};l.createElement=function(e,t,i){var r,s={},o=null,u=null,c=null,h=null;if(null!=t){u=void 0===t.ref?null:t.ref,o=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(s[r]=t[r])}var p=arguments.length-2;if(1===p)s.children=i;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];s.children=d}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)"undefined"==typeof s[r]&&(s[r]=m[r])}return l(e,o,u,c,h,n.current,s)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){var i=l(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return i},l.cloneAndReplaceProps=function(e,t){var i=l(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return i._store.validated=e._store.validated,i},l.cloneElement=function(e,t,i){var s,o=r({},e.props),u=e.key,c=e.ref,h=e._self,p=e._source,d=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,d=n.current),void 0!==t.key&&(u=""+t.key);for(s in t)t.hasOwnProperty(s)&&!a.hasOwnProperty(s)&&(o[s]=t[s])}var f=arguments.length-2;if(1===f)o.children=i;else if(f>1){for(var m=Array(f),g=0;f>g;g++)m[g]=arguments[g+2];o.children=m}return l(e.type,u,c,h,p,d,o)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.exports=l},{117:117,24:24,39:39}],58:[function(e,t,i){"use strict";function n(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var i=s("uniqueKey",e,t);null!==i&&g(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',i.parentOrOwner||"",i.childOwner||"",i.url||"")}}function s(e,t,i){var r=n();if(!r){var s="string"==typeof i?i:i.displayName||i.name;s&&(r=" Check the top-level render call using <"+s+">.")}var o=v[e]||(v[e]={});if(o[r])return null;o[r]=!0;var a={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(a.childOwner=" It was passed a child from "+t._owner.getName()+"."),a}function o(e,t){if("object"==typeof e)if(Array.isArray(e))for(var i=0;i<e.length;i++){var n=e[i];u.isValidElement(n)&&r(n,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var s=f(e);if(s&&s!==e.entries)for(var o,a=s.call(e);!(o=a.next()).done;)u.isValidElement(o.value)&&r(o.value,t)}}function a(e,t,i,r){for(var s in t)if(t.hasOwnProperty(s)){var o;try{"function"!=typeof t[s]?m(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",h[r],s):void 0,o=t[s](i,s,e,r)}catch(a){o=a}if(g(!o||o instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",h[r],s,typeof o),o instanceof Error&&!(o.message in y)){y[o.message]=!0;var l=n();g(!1,"Failed propType: %s%s",o.message,l)}}}function l(e){var t=e.type;if("function"==typeof t){var i=t.displayName||t.name;t.propTypes&&a(i,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps&&g(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var u=e(57),c=e(81),h=e(80),p=e(39),d=e(117),f=e(129),m=e(161),g=e(173),v={},y={},b={createElement:function(e,t,i){var r="string"==typeof e||"function"==typeof e;g(r,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",n());var s=u.createElement.apply(this,arguments);if(null==s)return s;if(r)for(var a=2;a<arguments.length;a++)o(arguments[a],e);return l(s),s},createFactory:function(e){var t=b.createElement.bind(null,e);return t.type=e,d&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return g(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,i){for(var n=u.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)o(arguments[r],n.type);return l(n),n}};t.exports=b},{117:117,129:129,161:161,173:173,39:39,57:57,80:80,81:81}],59:[function(e,t,i){"use strict";var n,r=e(57),s=e(60),o=e(84),a=e(24),l={injectEmptyComponent:function(e){n=r.createElement(e)}},u=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(n)};a(u.prototype,{construct:function(e){},mountComponent:function(e,t,i){return s.registerNullComponentID(e),this._rootNodeID=e,o.mountComponent(this._renderedComponent,e,t,i)},receiveComponent:function(){},unmountComponent:function(e,t,i){o.unmountComponent(this._renderedComponent),s.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=l,t.exports=u},{24:24,57:57,60:60,84:84}],60:[function(e,t,i){"use strict";function n(e){return!!o[e]}function r(e){o[e]=!0}function s(e){delete o[e]}var o={},a={isNullComponentID:n,registerNullComponentID:r,deregisterNullComponentID:s};t.exports=a},{}],61:[function(e,t,i){"use strict";function n(e,t,i,n){try{return t(i,n)}catch(s){return void(null===r&&(r=s))}}var r=null,s={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var o=document.createElement("react");s.invokeGuardedCallback=function(e,t,i,n){var r=t.bind(null,i,n),s="react-"+e;o.addEventListener(s,r,!1);var a=document.createEvent("Event");
a.initEvent(s,!1,!1),o.dispatchEvent(a),o.removeEventListener(s,r,!1)}}t.exports=s},{}],62:[function(e,t,i){"use strict";function n(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=e(16),s={handleTopLevel:function(e,t,i,s,o){var a=r.extractEvents(e,t,i,s,o);n(a)}};t.exports=s},{16:16}],63:[function(e,t,i){"use strict";function n(e){var t=p.getID(e),i=h.getReactRootIDFromNodeID(t),n=p.findReactContainerForID(i),r=p.getFirstReactDOM(n);return r}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function s(e){o(e)}function o(e){for(var t=p.getFirstReactDOM(m(e.nativeEvent))||window,i=t;i;)e.ancestors.push(i),i=n(i);for(var r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var s=p.getID(t)||"";v._handleTopLevel(e.topLevelType,t,s,e.nativeEvent,m(e.nativeEvent))}}function a(e){var t=g(window);e(t)}var l=e(146),u=e(147),c=e(25),h=e(67),p=e(72),d=e(96),f=e(24),m=e(128),g=e(158);f(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,i){var n=i;return n?l.listen(n,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,i){var n=i;return n?l.capture(n,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var i=r.getPooled(e,t);try{d.batchedUpdates(s,i)}finally{r.release(i)}}}};t.exports=v},{128:128,146:146,147:147,158:158,24:24,25:25,67:67,72:72,96:96}],64:[function(e,t,i){"use strict";var n=e(32),r=e(57),s=e(153),o=e(161),a=e(173),l=/^\d+$/,u=!1,c={create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;1===e.nodeType?o(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components."):void 0;var t=[];for(var i in e)!u&&l.test(i)&&(a(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),u=!0),n.mapIntoWithKeyPrefixInternal(e[i],t,i,s.thatReturnsArgument);return t}};t.exports=c},{153:153,161:161,173:173,32:32,57:57}],65:[function(e,t,i){"use strict";var n=e(10),r=e(16),s=e(36),o=e(33),a=e(59),l=e(28),u=e(75),c=e(78),h=e(86),p=e(96),d={Component:s.injection,Class:o.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:r.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:h.injection,Updates:p.injection};t.exports=d},{10:10,16:16,28:28,33:33,36:36,59:59,75:75,78:78,86:86,96:96}],66:[function(e,t,i){"use strict";function n(e){return s(document.documentElement,e)}var r=e(49),s=e(150),o=e(155),a=e(156),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=a(),i=e.focusedElem,r=e.selectionRange;t!==i&&n(i)&&(l.hasSelectionCapabilities(i)&&l.setSelection(i,r),o(i))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=document.selection.createRange();i.parentElement()===e&&(t={start:-i.moveStart("character",-e.value.length),end:-i.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var i=t.start,n=t.end;if("undefined"==typeof n&&(n=i),"selectionStart"in e)e.selectionStart=i,e.selectionEnd=Math.min(n,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",i),s.moveEnd("character",n-i),s.select()}else r.setOffsets(e,t)}};t.exports=l},{150:150,155:155,156:156,49:49}],67:[function(e,t,i){"use strict";function n(e){return d+e.toString(36)}function r(e,t){return e.charAt(t)===d||t===e.length}function s(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function o(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function a(e){return e?e.substr(0,e.lastIndexOf(d)):""}function l(e,t){if(s(e)&&s(t)?void 0:p(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),o(e,t)?void 0:p(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var i,n=e.length+f;for(i=n;i<t.length&&!r(t,i);i++);return t.substr(0,i)}function u(e,t){var i=Math.min(e.length,t.length);if(0===i)return"";for(var n=0,o=0;i>=o;o++)if(r(e,o)&&r(t,o))n=o;else if(e.charAt(o)!==t.charAt(o))break;var a=e.substr(0,n);return s(a)?void 0:p(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,a),a}function c(e,t,i,n,r,s){e=e||"",t=t||"",e===t?p(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):void 0;var u=o(t,e);u||o(e,t)?void 0:p(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var c=0,h=u?a:l,d=e;;d=h(d,t)){var f;if(r&&d===e||s&&d===t||(f=i(d,u,n)),f===!1||d===t)break;c++<m?void 0:p(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,d)}}var h=e(86),p=e(161),d=".",f=d.length,m=1e4,g={createReactRootID:function(){return n(h.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,i,n,r){var s=u(e,t);s!==e&&c(e,s,i,n,!1,!0),s!==t&&c(s,t,i,r,!0,!1)},traverseTwoPhase:function(e,t,i){e&&(c("",e,t,i,!0,!1),c(e,"",t,i,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,i){e&&(c("",e,t,i,!0,!0),c(e,"",t,i,!0,!0))},traverseAncestors:function(e,t,i){c("",e,t,i,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:o,SEPARATOR:d};t.exports=g},{161:161,86:86}],68:[function(e,t,i){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],69:[function(e,t,i){"use strict";var n=e(32),r=e(34),s=e(33),o=e(43),a=e(57),l=e(58),u=e(82),c=e(97),h=e(24),p=e(135),d=a.createElement,f=a.createFactory,m=a.cloneElement;d=l.createElement,f=l.createFactory,m=l.cloneElement;var g={Children:{map:n.map,forEach:n.forEach,count:n.count,toArray:n.toArray,only:p},Component:r,createElement:d,cloneElement:m,isValidElement:a.isValidElement,PropTypes:u,createClass:s.createClass,createFactory:f,createMixin:function(e){return e},DOM:o,version:c,__spread:h};t.exports=g},{135:135,24:24,32:32,33:33,34:34,43:43,57:57,58:58,82:82,97:97}],70:[function(e,t,i){"use strict";function n(e,t){this.value=e,this.requestChange=t}function r(e){var t={value:"undefined"==typeof e?s.PropTypes.any.isRequired:e.isRequired,requestChange:s.PropTypes.func.isRequired};return s.PropTypes.shape(t)}var s=e(26);n.PropTypes={link:r},t.exports=n},{26:26}],71:[function(e,t,i){"use strict";var n=e(116),r=/\/?>/,s={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(r," "+s.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var i=t.getAttribute(s.CHECKSUM_ATTR_NAME);i=i&&parseInt(i,10);var r=n(e);return r===i}};t.exports=s},{116:116}],72:[function(e,t,i){"use strict";function n(e,t){for(var i=Math.min(e.length,t.length),n=0;i>n;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:i}function r(e){return e?e.nodeType===G?e.documentElement:e.firstChild:null}function s(e){var t=r(e);return t&&ee.getID(t)}function o(e){var t=a(e);if(t)if(q.hasOwnProperty(t)){var i=q[t];i!==e&&(h(i,t)?V(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",H,t):void 0,q[t]=e)}else q[t]=e;return t}function a(e){return e&&e.getAttribute&&e.getAttribute(H)||""}function l(e,t){var i=a(e);i!==t&&delete q[i],e.setAttribute(H,t),q[t]=e}function u(e){return q.hasOwnProperty(e)&&h(q[e],e)||(q[e]=ee.findReactNodeByID(e)),q[e]}function c(e){var t=_.get(e)._rootNodeID;return P.isNullComponentID(t)?null:(q.hasOwnProperty(t)&&h(q[t],t)||(q[t]=ee.findReactNodeByID(t)),q[t])}function h(e,t){if(e){a(e)!==t?V(!1,"ReactMount: Unexpected modification of `%s`",H):void 0;var i=ee.findReactContainerForID(t);if(i&&D(i,e))return!0}return!1}function p(e){delete q[e]}function d(e){var t=q[e];return t&&h(t,e)?void(J=t):!1}function f(e){J=null,E.traverseAncestors(e,d);var t=J;return J=null,t}function m(e,t,i,n,r,s){T.useCreateElement&&(s=O({},s),i.nodeType===G?s[X]=i:s[X]=i.ownerDocument),s===L&&(s={});var o=i.nodeName.toLowerCase();s[F.ancestorInfoContextKey]=F.updatedAncestorInfo(null,o,null);var a=R.mountComponent(e,t,n,s);e._renderedComponent._topLevelWrapper=e,ee._mountImageIntoNode(a,i,r,n)}function g(e,t,i,n,r){var s=I.ReactReconcileTransaction.getPooled(n);s.perform(m,null,e,t,i,s,n,r),I.ReactReconcileTransaction.release(s)}function v(e,t){for(R.unmountComponent(e),t.nodeType===G&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=s(e);return t?t!==E.getReactRootIDFromNodeID(t):!1}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=a(e);if(t){var i,n=E.getReactRootIDFromNodeID(t),r=e;do if(i=a(r),r=r.parentNode,null==r)return null;while(i!==n);if(r===Q[n])return e}}return null}var w=e(10),S=e(28),x=e(39),T=e(44),C=e(57),P=e(60),E=e(67),_=e(68),k=e(71),A=e(78),R=e(84),M=e(95),I=e(96),O=e(24),L=e(154),D=e(150),N=e(132),V=e(161),j=e(138),B=e(141),F=e(144),U=e(173),H=w.ID_ATTRIBUTE_NAME,q={},W=1,G=9,z=11,X="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),Y={},Q={},K={},$=[],J=null,Z=function(){};Z.prototype.isReactComponent={},Z.displayName="TopLevelWrapper",Z.prototype.render=function(){return this.props};var ee={TopLevelWrapper:Z,_instancesByReactRootID:Y,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,i,n){return ee.scrollMonitor(i,function(){M.enqueueElementInternal(e,t),n&&M.enqueueCallbackInternal(e,n)}),K[s(i)]=r(i),e},_registerComponent:function(e,t){!t||t.nodeType!==W&&t.nodeType!==G&&t.nodeType!==z?V(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,S.ensureScrollValueMonitoring();var i=ee.registerContainer(t);return Y[i]=e,i},_renderNewRootComponent:function(e,t,i,n){U(null==x.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",x.current&&x.current.getName()||"ReactCompositeComponent");var s=N(e,null),o=ee._registerComponent(s,t);return I.batchedUpdates(g,s,o,t,i,n),K[o]=r(t),s},renderSubtreeIntoContainer:function(e,t,i,n){return null==e||null==e._reactInternalInstance?V(!1,"parentComponent must be a valid React Component"):void 0,ee._renderSubtreeIntoContainer(e,t,i,n)},_renderSubtreeIntoContainer:function(e,t,i,n){C.isValidElement(t)?void 0:V(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),U(!i||!i.tagName||"BODY"!==i.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var o=new C(Z,null,null,null,null,null,t),l=Y[s(i)];if(l){var u=l._currentElement,c=u.props;if(B(c,t)){var h=l._renderedComponent.getPublicInstance(),p=n&&function(){n.call(h)};return ee._updateRootComponent(l,o,i,p),h}ee.unmountComponentAtNode(i)}var d=r(i),f=d&&!!a(d),m=y(i);if(U(!m,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!f||d.nextSibling)for(var g=d;g;){if(a(g)){U(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}g=g.nextSibling}var v=f&&!l&&!m,b=ee._renderNewRootComponent(o,i,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):L)._renderedComponent.getPublicInstance();return n&&n.call(b),b},render:function(e,t,i){return ee._renderSubtreeIntoContainer(null,e,t,i)},registerContainer:function(e){var t=s(e);return t&&(t=E.getReactRootIDFromNodeID(t)),t||(t=E.createReactRootID()),Q[t]=e,t},unmountComponentAtNode:function(e){U(null==x.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",x.current&&x.current.getName()||"ReactCompositeComponent"),!e||e.nodeType!==W&&e.nodeType!==G&&e.nodeType!==z?V(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var t=s(e),i=Y[t];if(!i){var n=y(e),r=a(e),o=r&&r===E.getReactRootIDFromNodeID(r);return U(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return I.batchedUpdates(v,i,e),delete Y[t],delete Q[t],delete K[t],!0},findReactContainerForID:function(e){var t=E.getReactRootIDFromNodeID(e),i=Q[t],n=K[t];if(n&&n.parentNode!==i){U(a(n)===t,"ReactMount: Root element ID differed from reactRootID.");var r=i.firstChild;r&&t===a(r)?K[t]=r:U(!1,"ReactMount: Root element has been removed from its original container. New container: %s",n.parentNode)}return i},findReactNodeByID:function(e){var t=ee.findReactContainerForID(e);return ee.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var i=$,n=0,r=f(t)||e;for(U(null!=r,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),i[0]=r.firstChild,i.length=1;n<i.length;){for(var s,o=i[n++];o;){var a=ee.getID(o);a?t===a?s=o:E.isAncestorIDOf(a,t)&&(i.length=n=0,i.push(o.firstChild)):i.push(o.firstChild),o=o.nextSibling}if(s)return i.length=0,s}i.length=0,V(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,ee.getID(e))},_mountImageIntoNode:function(e,t,i,s){if(!t||t.nodeType!==W&&t.nodeType!==G&&t.nodeType!==z?V(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,i){var o=r(t);if(k.canReuseMarkup(e,o))return;var a=o.getAttribute(k.CHECKSUM_ATTR_NAME);o.removeAttribute(k.CHECKSUM_ATTR_NAME);var l=o.outerHTML;o.setAttribute(k.CHECKSUM_ATTR_NAME,a);var u,c=e;t.nodeType===W?(u=document.createElement("div"),u.innerHTML=e,c=u.innerHTML):(u=document.createElement("iframe"),document.body.appendChild(u),u.contentDocument.write(e),c=u.contentDocument.documentElement.outerHTML,document.body.removeChild(u));var h=n(c,l),p=" (client) "+c.substring(h-20,h+20)+"\n (server) "+l.substring(h-20,h+20);t.nodeType===G?V(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",p):void 0,U(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",p)}if(t.nodeType===G?V(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,s.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else j(t,e)},ownerDocumentContextKey:X,getReactRootID:s,getID:o,setID:l,getNode:u,getNodeFromInstance:c,isValid:h,purgeID:p};A.measureMethods(ee,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=ee},{10:10,132:132,138:138,141:141,144:144,150:150,154:154,161:161,173:173,24:24,28:28,39:39,44:44,57:57,60:60,67:67,68:68,71:71,78:78,84:84,95:95,96:96}],73:[function(e,t,i){"use strict";function n(e,t,i){v.push({parentID:e,parentNode:null,type:h.INSERT_MARKUP,markupIndex:y.push(t)-1,content:null,fromIndex:null,toIndex:i})}function r(e,t,i){v.push({parentID:e,parentNode:null,type:h.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:i})}function s(e,t){v.push({parentID:e,parentNode:null,type:h.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function o(e,t){v.push({parentID:e,parentNode:null,type:h.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:h.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function l(){v.length&&(c.processChildrenUpdates(v,y),u())}function u(){v.length=0,y.length=0}var c=e(36),h=e(74),p=e(39),d=e(84),f=e(31),m=e(123),g=0,v=[],y=[],b={Mixin:{_reconcilerInstantiateChildren:function(e,t,i){if(this._currentElement)try{return p.current=this._currentElement._owner,f.instantiateChildren(e,t,i)}finally{p.current=null}return f.instantiateChildren(e,t,i)},_reconcilerUpdateChildren:function(e,t,i,n){var r;if(this._currentElement){try{p.current=this._currentElement._owner,r=m(t)}finally{p.current=null}return f.updateChildren(e,r,i,n)}return r=m(t),f.updateChildren(e,r,i,n)},mountChildren:function(e,t,i){var n=this._reconcilerInstantiateChildren(e,t,i);this._renderedChildren=n;var r=[],s=0;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],l=this._rootNodeID+o,u=d.mountComponent(a,l,t,i);a._mountIndex=s++,r.push(u)}return r},updateTextContent:function(e){g++;var t=!0;try{var i=this._renderedChildren;f.unmountChildren(i);for(var n in i)i.hasOwnProperty(n)&&this._unmountChild(i[n]);this.setTextContent(e),t=!1}finally{g--,g||(t?u():l())}},updateMarkup:function(e){g++;var t=!0;try{var i=this._renderedChildren;f.unmountChildren(i);for(var n in i)i.hasOwnProperty(n)&&this._unmountChildByName(i[n],n);this.setMarkup(e),t=!1}finally{g--,g||(t?u():l())}},updateChildren:function(e,t,i){g++;var n=!0;try{this._updateChildren(e,t,i),n=!1}finally{g--,g||(n?u():l())}},_updateChildren:function(e,t,i){var n=this._renderedChildren,r=this._reconcilerUpdateChildren(n,e,t,i);if(this._renderedChildren=r,r||n){var s,o=0,a=0;for(s in r)if(r.hasOwnProperty(s)){var l=n&&n[s],u=r[s];l===u?(this.moveChild(l,a,o),o=Math.max(l._mountIndex,o),l._mountIndex=a):(l&&(o=Math.max(l._mountIndex,o),this._unmountChild(l)),this._mountChildByNameAtIndex(u,s,a,t,i)),a++}for(s in n)!n.hasOwnProperty(s)||r&&r.hasOwnProperty(s)||this._unmountChild(n[s])}},unmountChildren:function(){var e=this._renderedChildren;f.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,i){e._mountIndex<i&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){s(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},setMarkup:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,i,n,r){var s=this._rootNodeID+t,o=d.mountComponent(e,s,n,r);e._mountIndex=i,this.createChild(e,o)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=b},{123:123,31:31,36:36,39:39,74:74,84:84}],74:[function(e,t,i){"use strict";var n=e(165),r=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=r},{165:165}],75:[function(e,t,i){"use strict";function n(e){if("function"==typeof e.type)return e.type;var t=e.type,i=h[t];return null==i&&(h[t]=i=u(t)),i}function r(e){return c?void 0:l(!1,"There is no registered component for the tag %s",e.type),new c(e.type,e.props)}function s(e){return new p(e)}function o(e){return e instanceof p}var a=e(24),l=e(161),u=null,c=null,h={},p=null,d={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){a(h,e)}},f={getComponentClassForElement:n,createInternalComponent:r,createInstanceForText:s,isTextComponent:o,injection:d};t.exports=f},{161:161,24:24}],76:[function(e,t,i){"use strict";function n(e,t){r(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var r=e(173),s={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e,t){n(e,"replaceState")},enqueueSetState:function(e,t){n(e,"setState")},enqueueSetProps:function(e,t){n(e,"setProps")},enqueueReplaceProps:function(e,t){n(e,"replaceProps")}};t.exports=s},{173:173}],77:[function(e,t,i){"use strict";var n=e(161),r={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,i){r.isValidOwner(i)?void 0:n(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){r.isValidOwner(i)?void 0:n(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.getPublicInstance().refs[t]===e.getPublicInstance()&&i.detachRef(t)}};t.exports=r},{161:161}],78:[function(e,t,i){"use strict";function n(e,t,i){return i}var r={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=r.measure(t,i[n],e[n]))},measure:function(e,t,i){var n=null,s=function(){return r.enableMeasure?(n||(n=r.storedMeasure(e,t,i)),n.apply(this,arguments)):i.apply(this,arguments)};return s.displayName=e+"_"+t,s},injection:{injectMeasure:function(e){r.storedMeasure=e}}};t.exports=r},{}],79:[function(e,t,i){"use strict";function n(e){return function(t,i,n){t.hasOwnProperty(i)?t[i]=e(t[i],n):t[i]=n}}function r(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=u[i];n&&u.hasOwnProperty(i)?n(e,i,t[i]):e.hasOwnProperty(i)||(e[i]=t[i])}return e}var s=e(24),o=e(153),a=e(164),l=n(function(e,t){return s({},t,e)}),u={children:o,className:n(a),style:l},c={mergeProps:function(e,t){return r(s({},e),t)}};t.exports=c},{153:153,164:164,24:24}],80:[function(e,t,i){"use strict";var n={};n={prop:"prop",context:"context",childContext:"child context"},t.exports=n},{}],81:[function(e,t,i){"use strict";var n=e(165),r=n({prop:null,context:null,childContext:null});t.exports=r},{165:165}],82:[function(e,t,i){"use strict";function n(e){function t(t,i,n,r,s,o){if(r=r||x,o=o||n,null==i[n]){var a=b[s];return t?new Error("Required "+a+" `"+o+"` was not specified in "+("`"+r+"`.")):null}return e(i,n,r,s,o)}var i=t.bind(null,!1);return i.isRequired=t.bind(null,!0),i}function r(e){function t(t,i,n,r,s){var o=t[i],a=m(o);if(a!==e){var l=b[r],u=g(o);return new Error("Invalid "+l+" `"+s+"` of type "+("`"+u+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return n(t)}function s(){return n(w.thatReturns(null))}function o(e){function t(t,i,n,r,s){var o=t[i];if(!Array.isArray(o)){var a=b[r],l=m(o);return new Error("Invalid "+a+" `"+s+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an array."))}for(var u=0;u<o.length;u++){var c=e(o,u,n,r,s+"["+u+"]");if(c instanceof Error)return c}return null}return n(t)}function a(){function e(e,t,i,n,r){if(!y.isValidElement(e[t])){var s=b[n];return new Error("Invalid "+s+" `"+r+"` supplied to "+("`"+i+"`, expected a single ReactElement."))}return null}return n(e)}function l(e){function t(t,i,n,r,s){if(!(t[i]instanceof e)){var o=b[r],a=e.name||x,l=v(t[i]);return new Error("Invalid "+o+" `"+s+"` of type "+("`"+l+"` supplied to `"+n+"`, expected ")+("instance of `"+a+"`."))}return null}return n(t)}function u(e){function t(t,i,n,r,s){for(var o=t[i],a=0;a<e.length;a++)if(o===e[a])return null;var l=b[r],u=JSON.stringify(e);return new Error("Invalid "+l+" `"+s+"` of value `"+o+"` "+("supplied to `"+n+"`, expected one of "+u+"."))}return n(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,i,n,r,s){var o=t[i],a=m(o);if("object"!==a){var l=b[r];return new Error("Invalid "+l+" `"+s+"` of type "+("`"+a+"` supplied to `"+n+"`, expected an object."))}for(var u in o)if(o.hasOwnProperty(u)){var c=e(o,u,n,r,s+"."+u);if(c instanceof Error)return c}return null}return n(t)}function h(e){function t(t,i,n,r,s){for(var o=0;o<e.length;o++){var a=e[o];if(null==a(t,i,n,r,s))return null}var l=b[r];return new Error("Invalid "+l+" `"+s+"` supplied to "+("`"+n+"`."))}return n(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,i,n,r){if(!f(e[t])){var s=b[n];return new Error("Invalid "+s+" `"+r+"` supplied to "+("`"+i+"`, expected a ReactNode."))}return null}return n(e)}function d(e){function t(t,i,n,r,s){var o=t[i],a=m(o);if("object"!==a){var l=b[r];return new Error("Invalid "+l+" `"+s+"` of type `"+a+"` "+("supplied to `"+n+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var h=c(o,u,n,r,s+"."+u);if(h)return h}}return null}return n(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||y.isValidElement(e))return!0;var t=S(e);if(!t)return!1;var i,n=t.call(e);if(t!==e.entries){for(;!(i=n.next()).done;)if(!f(i.value))return!1}else for(;!(i=n.next()).done;){var r=i.value;if(r&&!f(r[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=e(57),b=e(80),w=e(153),S=e(129),x="<<anonymous>>",T={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:s(),arrayOf:o,element:a(),instanceOf:l,node:p(),objectOf:c,oneOf:u,oneOfType:h,shape:d};t.exports=T},{129:129,153:153,57:57,80:80}],83:[function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!e&&a.useCreateElement}var r=e(6),s=e(25),o=e(28),a=e(44),l=e(66),u=e(113),c=e(24),h={initialize:l.getSelectionInformation,close:l.restoreSelection},p={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,p,d],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};c(n.prototype,u.Mixin,m),s.addPoolingTo(n),t.exports=n},{113:113,24:24,25:25,28:28,44:44,6:6,66:66}],84:[function(e,t,i){"use strict";function n(){r.attachRefs(this,this._currentElement)}var r=e(85),s={mountComponent:function(e,t,i,r){var s=e.mountComponent(t,i,r);return e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(n,e),s},unmountComponent:function(e){r.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,i,s){var o=e._currentElement;if(t!==o||s!==e._context){var a=r.shouldUpdateRefs(o,t);a&&r.detachRefs(e,o),e.receiveComponent(t,i,s),a&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=s},{85:85}],85:[function(e,t,i){"use strict";function n(e,t,i){"function"==typeof e?e(t.getPublicInstance()):s.addComponentAsRefTo(t,e,i)}function r(e,t,i){"function"==typeof e?e(null):s.removeComponentAsRefFrom(t,e,i)}var s=e(77),o={};o.attachRefs=function(e,t){if(null!==t&&t!==!1){var i=t.ref;null!=i&&n(i,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var i=null===e||e===!1,n=null===t||t===!1;return i||n||t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){if(null!==t&&t!==!1){var i=t.ref;null!=i&&r(i,e,t._owner)}},t.exports=o},{77:77}],86:[function(e,t,i){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};t.exports=r},{}],87:[function(e,t,i){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=n},{}],88:[function(e,t,i){"use strict";function n(e){o.isValidElement(e)?void 0:f(!1,"renderToString(): You must pass a valid ReactElement.");var t;try{h.injection.injectBatchingStrategy(u);var i=a.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var n=d(e,null),r=n.mountComponent(i,t,p);return l.addChecksumToMarkup(r)},null)}finally{c.release(t),h.injection.injectBatchingStrategy(s)}}function r(e){o.isValidElement(e)?void 0:f(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{h.injection.injectBatchingStrategy(u);var i=a.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var n=d(e,null);return n.mountComponent(i,t,p)},null)}finally{c.release(t),h.injection.injectBatchingStrategy(s)}}var s=e(53),o=e(57),a=e(67),l=e(71),u=e(87),c=e(89),h=e(96),p=e(154),d=e(132),f=e(161);
t.exports={renderToString:n,renderToStaticMarkup:r}},{132:132,154:154,161:161,53:53,57:57,67:67,71:71,87:87,89:89,96:96}],89:[function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=s.getPooled(null),this.useCreateElement=!1}var r=e(25),s=e(6),o=e(113),a=e(24),l=e(153),u={initialize:function(){this.reactMountReady.reset()},close:l},c=[u],h={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){s.release(this.reactMountReady),this.reactMountReady=null}};a(n.prototype,o.Mixin,h),r.addPoolingTo(n),t.exports=n},{113:113,153:153,24:24,25:25,6:6}],90:[function(e,t,i){"use strict";function n(e,t){var i={};return function(n){i[t]=n,e.setState(i)}}var r={createStateSetter:function(e,t){return function(i,n,r,s,o,a){var l=t.call(e,i,n,r,s,o,a);l&&e.setState(l)}},createStateKeySetter:function(e,t){var i=e.__keySetters||(e.__keySetters={});return i[t]||(i[t]=n(e,t))}};r.Mixin={createStateSetter:function(e){return r.createStateSetter(this,e)},createStateKeySetter:function(e){return r.createStateKeySetter(this,e)}},t.exports=r},{}],91:[function(e,t,i){"use strict";function n(e){}function r(e,t){if(!e||!e.getPublicInstance)return[];var i=e.getPublicInstance(),n=t(i)?[i]:[],s=e._currentElement;if(E.isDOMComponent(i)){var o,a=e._renderedChildren;for(o in a)a.hasOwnProperty(o)&&(n=n.concat(r(a[o],t)))}else d.isValidElement(s)&&"function"==typeof s.type&&(n=n.concat(r(e._renderedComponent,t)));return n}function s(e){return function(t,i){var r;E.isDOMComponent(t)?r=T(t):t.tagName&&(r=t);var s=f.eventNameDispatchConfigs[e],o=new n;o.target=r;var a=new w(s,y.getID(r),o,r);S(a,i),s.phasedRegistrationNames?c.accumulateTwoPhaseDispatches(a):c.accumulateDirectDispatches(a),b.batchedUpdates(function(){u.enqueueEvents(a),u.processEventQueue(!0)})}}function o(){E.Simulate={};var e;for(e in f.eventNameDispatchConfigs)E.Simulate[e]=s(e)}function a(e){return function(t,i){var r=new n(e);S(r,i),E.isDOMComponent(t)?E.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&E.simulateNativeEventOnNode(e,t,r)}}var l=e(15),u=e(16),c=e(19),h=e(26),p=e(40),d=e(57),f=e(28),m=e(38),g=e(67),v=e(68),y=e(72),b=e(96),w=e(105),S=e(24),x=e(154),T=e(122),C=e(161),P=l.topLevelTypes,E={renderIntoDocument:function(e){var t=document.createElement("div");return p.render(e,t)},isElement:function(e){return d.isValidElement(e)},isElementOfType:function(e,t){return d.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&d.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return E.isDOMComponent(e)?!1:null!=e&&"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){if(!E.isCompositeComponent(e))return!1;var i=v.get(e),n=i._currentElement.type;return n===t},isCompositeComponentElement:function(e){if(!d.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){var i=v.get(e),n=i._currentElement.type;return!(!E.isCompositeComponentElement(e)||n!==t)},getRenderedChildOfCompositeComponent:function(e){if(!E.isCompositeComponent(e))return null;var t=v.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){return e?(E.isCompositeComponent(e)?void 0:C(!1,"findAllInRenderedTree(...): instance must be a composite component"),r(v.get(e),t)):[]},scryRenderedDOMComponentsWithClass:function(e,t){return Array.isArray(t)||(t=t.split(/\s+/)),E.findAllInRenderedTree(e,function(e){if(E.isDOMComponent(e)){var i=e.className;"string"!=typeof i&&(i=e.getAttribute("class")||"");var n=i.split(/\s+/);return t.every(function(e){return-1!==n.indexOf(e)})}return!1})},findRenderedDOMComponentWithClass:function(e,t){var i=E.scryRenderedDOMComponentsWithClass(e,t);if(1!==i.length)throw new Error("Did not find exactly one match (found: "+i.length+") for class:"+t);return i[0]},scryRenderedDOMComponentsWithTag:function(e,t){return E.findAllInRenderedTree(e,function(e){return E.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var i=E.scryRenderedDOMComponentsWithTag(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for tag:"+t);return i[0]},scryRenderedComponentsWithType:function(e,t){return E.findAllInRenderedTree(e,function(e){return E.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var i=E.scryRenderedComponentsWithType(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+i.length+")");return i[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return h.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,i){i.target=t,f.ReactEventListener.dispatchEvent(e,i)},simulateNativeEventOnDOMComponent:function(e,t,i){E.simulateNativeEventOnNode(e,T(t),i)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new _},Simulate:null,SimulateNative:{}},_=function(){this._instance=null};_.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var k=function(e){this._renderedOutput=e,this._currentElement=e};k.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){},getPublicInstance:function(){return null}};var A=function(){};S(A.prototype,m.Mixin,{_instantiateReactComponent:function(e){return new k(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:m.Mixin._renderValidatedComponentWithoutOwnerOrContext}),_.prototype.render=function(e,t){d.isValidElement(e)?void 0:C(!1,"ReactShallowRenderer render(): Invalid component element.%s","function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),"string"==typeof e.type?C(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",e.type):void 0,t||(t=x);var i=b.ReactReconcileTransaction.getPooled(!1);this._render(e,i,t),b.ReactReconcileTransaction.release(i)},_.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},_.prototype._render=function(e,t,i){if(this._instance)this._instance.receiveComponent(e,t,i);else{var n=g.createReactRootID(),r=new A(e.type);r.construct(e),r.mountComponent(n,t,i),this._instance=r}};var R=u.injection.injectEventPluginOrder;u.injection.injectEventPluginOrder=function(){R.apply(this,arguments),o()};var M=u.injection.injectEventPluginsByName;u.injection.injectEventPluginsByName=function(){M.apply(this,arguments),o()},o(),Object.keys(P).forEach(function(e){var t=0===e.indexOf("top")?e.charAt(3).toLowerCase()+e.substr(4):e;E.SimulateNative[t]=a(e)}),t.exports=E},{105:105,122:122,15:15,154:154,16:16,161:161,19:19,24:24,26:26,28:28,38:38,40:40,57:57,67:67,68:68,72:72,96:96}],92:[function(e,t,i){"use strict";var n=e(123),r={getChildMapping:function(e){return e?n(e):e},mergeChildMappings:function(e,t){function i(i){return t.hasOwnProperty(i)?t[i]:e[i]}e=e||{},t=t||{};var n={},r=[];for(var s in e)t.hasOwnProperty(s)?r.length&&(n[s]=r,r=[]):r.push(s);var o,a={};for(var l in t){if(n.hasOwnProperty(l))for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=i(u)}a[l]=i(l)}for(o=0;o<r.length;o++)a[r[o]]=i(r[o]);return a}};t.exports=r},{123:123}],93:[function(e,t,i){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var i in a){var n=a[i];for(var r in n)if(r in t){l.push(n[r]);break}}}function r(e,t,i){e.addEventListener(t,i,!1)}function s(e,t,i){e.removeEventListener(t,i,!1)}var o=e(147),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];o.canUseDOM&&n();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(i){r(e,i,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(i){s(e,i,t)})}};t.exports=u},{147:147}],94:[function(e,t,i){"use strict";var n=e(26),r=e(92),s=e(24),o=e(153),a=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:o.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=r.getChildMapping(e.children),i=this.state.children;this.setState({children:r.mergeChildMappings(i,t)});var n;for(n in t){var s=i&&i.hasOwnProperty(n);!t[n]||s||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(n in i){var o=t&&t.hasOwnProperty(n);!i[n]||o||this.currentlyTransitioningKeys[n]||this.keysToLeave.push(n)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var i=r.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var i=r.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var i=r.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var i=s({},t.children);return delete i[e],{children:i}})},render:function(){var e=[];for(var t in this.state.children){var i=this.state.children[t];i&&e.push(n.cloneElement(this.props.childFactory(i),{ref:t,key:t}))}return n.createElement(this.props.component,this.props,e)}});t.exports=a},{153:153,24:24,26:26,92:92}],95:[function(e,t,i){"use strict";function n(e){l.enqueueUpdate(e)}function r(e,t){var i=a.get(e);return i?(h(null==s.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),i):(h(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var s=e(39),o=e(57),a=e(68),l=e(96),u=e(24),c=e(161),h=e(173),p={isMounted:function(e){var t=s.current;null!==t&&(h(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var i=a.get(e);return i?!!i._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0;var i=r(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void n(i)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=r(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t){var i=r(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,n(i))},enqueueSetState:function(e,t){var i=r(e,"setState");if(i){var s=i._pendingStateQueue||(i._pendingStateQueue=[]);s.push(t),n(i)}},enqueueSetProps:function(e,t){var i=r(e,"setProps");i&&p.enqueueSetPropsInternal(i,t)},enqueueSetPropsInternal:function(e,t){var i=e._topLevelWrapper;i?void 0:c(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var r=i._pendingElement||i._currentElement,s=r.props,a=u({},s.props,t);i._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(s,a)),n(i)},enqueueReplaceProps:function(e,t){var i=r(e,"replaceProps");i&&p.enqueueReplacePropsInternal(i,t)},enqueueReplacePropsInternal:function(e,t){var i=e._topLevelWrapper;i?void 0:c(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var r=i._pendingElement||i._currentElement,s=r.props;i._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(s,t)),n(i)},enqueueElementInternal:function(e,t){e._pendingElement=t,n(e)}};t.exports=p},{161:161,173:173,24:24,39:39,57:57,68:68,96:96}],96:[function(e,t,i){"use strict";function n(){E.ReactReconcileTransaction&&w?void 0:g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!1)}function s(e,t,i,r,s,o){n(),w.batchedUpdates(e,t,i,r,s,o)}function o(e,t){return e._mountOrder-t._mountOrder}function a(e){var t=e.dirtyComponentsLength;t!==v.length?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,v.length):void 0,v.sort(o);for(var i=0;t>i;i++){var n=v[i],r=n._pendingCallbacks;if(n._pendingCallbacks=null,d.performUpdateIfNecessary(n,e.reconcileTransaction),r)for(var s=0;s<r.length;s++)e.callbackQueue.enqueue(r[s],n.getPublicInstance())}}function l(e){return n(),w.isBatchingUpdates?void v.push(e):void w.batchedUpdates(l,e)}function u(e,t){w.isBatchingUpdates?void 0:g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),y.enqueue(e,t),b=!0}var c=e(6),h=e(25),p=e(78),d=e(84),f=e(113),m=e(24),g=e(161),v=[],y=c.getPooled(),b=!1,w=null,S={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[S,x];m(r.prototype,f.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,i){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,i)}}),h.addPoolingTo(r);var C=function(){for(;v.length||b;){if(v.length){var e=r.getPooled();e.perform(a,null,e),r.release(e)}if(b){b=!1;var t=y;y=c.getPooled(),t.notifyAll(),c.release(t)}}};C=p.measure("ReactUpdates","flushBatchedUpdates",C);var P={injectReconcileTransaction:function(e){e?void 0:g(!1,"ReactUpdates: must provide a reconcile transaction class"),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,w=e}},E={ReactReconcileTransaction:null,batchedUpdates:s,enqueueUpdate:l,flushBatchedUpdates:C,injection:P,asap:u};t.exports=E},{113:113,161:161,24:24,25:25,6:6,78:78,84:84}],97:[function(e,t,i){"use strict";t.exports="0.14.6"},{}],98:[function(e,t,i){"use strict";var n=e(10),r=n.injection.MUST_USE_ATTRIBUTE,s={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:r,xmlLang:r,xmlSpace:r,y1:r,y2:r,y:r},DOMAttributeNamespaces:{xlinkActuate:s.xlink,xlinkArcrole:s.xlink,xlinkHref:s.xlink,xlinkRole:s.xlink,xlinkShow:s.xlink,xlinkTitle:s.xlink,xlinkType:s.xlink,xmlBase:s.xml,xmlLang:s.xml,xmlSpace:s.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=o},{10:10}],99:[function(e,t,i){"use strict";function n(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var i=document.selection.createRange();return{parentElement:i.parentElement(),text:i.text,top:i.boundingTop,left:i.boundingLeft}}}function r(e,t){if(w||null==v||v!==c())return null;var i=n(v);if(!b||!d(b,i)){b=i;var r=u.getPooled(g.select,y,e,t);return r.type="select",r.target=v,o.accumulateTwoPhaseDispatches(r),r}return null}var s=e(15),o=e(19),a=e(147),l=e(66),u=e(105),c=e(156),h=e(134),p=e(166),d=e(171),f=s.topLevelTypes,m=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},v=null,y=null,b=null,w=!1,S=!1,x=p({onSelect:null}),T={eventTypes:g,extractEvents:function(e,t,i,n,s){if(!S)return null;switch(e){case f.topFocus:(h(t)||"true"===t.contentEditable)&&(v=t,y=i,b=null);break;case f.topBlur:v=null,y=null,b=null;break;case f.topMouseDown:w=!0;break;case f.topContextMenu:case f.topMouseUp:return w=!1,r(n,s);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return r(n,s)}return null},didPutListener:function(e,t,i){t===x&&(S=!0)}};t.exports=T},{105:105,134:134,147:147,15:15,156:156,166:166,171:171,19:19,66:66}],100:[function(e,t,i){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},{}],101:[function(e,t,i){"use strict";var n=e(15),r=e(146),s=e(19),o=e(72),a=e(102),l=e(105),u=e(106),c=e(108),h=e(109),p=e(104),d=e(110),f=e(111),m=e(112),g=e(153),v=e(125),y=e(161),b=e(166),w=n.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},x={topAbort:S.abort,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var T in x)x[T].dependencies=[T];var C=b({onClick:null}),P={},E={eventTypes:S,extractEvents:function(e,t,i,n,r){var o=x[e];if(!o)return null;var g;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:g=l;break;case w.topKeyPress:if(0===v(n))return null;case w.topKeyDown:case w.topKeyUp:g=c;break;case w.topBlur:case w.topFocus:g=u;break;case w.topClick:if(2===n.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:g=h;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:g=p;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:g=d;break;case w.topScroll:g=f;break;case w.topWheel:g=m;break;case w.topCopy:case w.topCut:case w.topPaste:g=a}g?void 0:y(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=g.getPooled(o,i,n,r);return s.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,i){if(t===C){var n=o.getNode(e);P[e]||(P[e]=r.listen(n,"click",g))}},willDeleteListener:function(e,t){t===C&&(P[e].remove(),delete P[e])}};t.exports=E},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,125:125,146:146,15:15,153:153,161:161,166:166,19:19,72:72}],102:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(105),s={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(n,s),t.exports=n},{105:105}],103:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(105),s={data:null};r.augmentClass(n,s),t.exports=n},{105:105}],104:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(109),s={dataTransfer:null};r.augmentClass(n,s),t.exports=n},{109:109}],105:[function(e,t,i){"use strict";function n(e,t,i,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=i,this.target=n,this.currentTarget=n;var r=this.constructor.Interface;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a?this[s]=a(i):this[s]=i[s]}var l=null!=i.defaultPrevented?i.defaultPrevented:i.returnValue===!1;l?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var r=e(25),s=e(24),o=e(153),a=e(173),l={type:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};s(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;a(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;a(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,
this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=l,n.augmentClass=function(e,t){var i=this,n=Object.create(i.prototype);s(n,e.prototype),e.prototype=n,e.prototype.constructor=e,e.Interface=s({},i.Interface,t),e.augmentClass=i.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},r.addPoolingTo(n,r.fourArgumentPooler),t.exports=n},{153:153,173:173,24:24,25:25}],106:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(111),s={relatedTarget:null};r.augmentClass(n,s),t.exports=n},{111:111}],107:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(105),s={data:null};r.augmentClass(n,s),t.exports=n},{105:105}],108:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(111),s=e(125),o=e(126),a=e(127),l={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?s(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?s(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(n,l),t.exports=n},{111:111,125:125,126:126,127:127}],109:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(111),s=e(114),o=e(127),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+s.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+s.currentScrollTop}};r.augmentClass(n,a),t.exports=n},{111:111,114:114,127:127}],110:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(111),s=e(127),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:s};r.augmentClass(n,o),t.exports=n},{111:111,127:127}],111:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(105),s=e(128),o={view:function(e){if(e.view)return e.view;var t=s(e);if(null!=t&&t.window===t)return t;var i=t.ownerDocument;return i?i.defaultView||i.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(n,o),t.exports=n},{105:105,128:128}],112:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n)}var r=e(109),s={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(n,s),t.exports=n},{109:109}],113:[function(e,t,i){"use strict";var n=e(161),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,r,s,o,a,l){this.isInTransaction()?n(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,i,r,s,o,a,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n=t[i];try{this.wrapperInitData[i]=s.OBSERVED_ERROR,this.wrapperInitData[i]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[i]===s.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(r){}}}},closeAll:function(e){this.isInTransaction()?void 0:n(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var r,o=t[i],a=this.wrapperInitData[i];try{r=!0,a!==s.OBSERVED_ERROR&&o.close&&o.close.call(this,a),r=!1}finally{if(r)try{this.closeAll(i+1)}catch(l){}}}this.wrapperInitData.length=0}},s={Mixin:r,OBSERVED_ERROR:{}};t.exports=s},{161:161}],114:[function(e,t,i){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],115:[function(e,t,i){"use strict";function n(e,t){if(null==t?r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==e)return t;var i=Array.isArray(e),n=Array.isArray(t);return i&&n?(e.push.apply(e,t),e):i?(e.push(t),e):n?[e].concat(t):[e,t]}var r=e(161);t.exports=n},{161:161}],116:[function(e,t,i){"use strict";function n(e){for(var t=1,i=0,n=0,s=e.length,o=-4&s;o>n;){for(;n<Math.min(n+4096,o);n+=4)i+=(t+=e.charCodeAt(n))+(t+=e.charCodeAt(n+1))+(t+=e.charCodeAt(n+2))+(t+=e.charCodeAt(n+3));t%=r,i%=r}for(;s>n;n++)i+=t+=e.charCodeAt(n);return t%=r,i%=r,t|i<<16}var r=65521;t.exports=n},{}],117:[function(e,t,i){"use strict";var n=!1;try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(r){}t.exports=n},{}],118:[function(e,t,i){"use strict";function n(e,t){a(u,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),u=!0,a(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var i=s.mergeProps(t,e.props);return!i.hasOwnProperty(l)&&e.props.hasOwnProperty(l)&&(i.children=e.props.children),r.createElement(e.type,i)}var r=e(57),s=e(79),o=e(166),a=e(173),l=o({children:null}),u=!1;t.exports=n},{166:166,173:173,57:57,79:79}],119:[function(e,t,i){"use strict";function n(e,t){var i=null==t||"boolean"==typeof t||""===t;if(i)return"";var n=isNaN(t);return n||0===t||s.hasOwnProperty(e)&&s[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=e(4),s=r.isUnitlessNumber;t.exports=n},{4:4}],120:[function(e,t,i){"use strict";function n(e,t,i,n,o){var a=!1,l=function(){return s(a,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,i),a=!0,o.apply(n,arguments)};return r(l,o)}var r=e(24),s=e(173);t.exports=n},{173:173,24:24}],121:[function(e,t,i){"use strict";function n(e){return s[e]}function r(e){return(""+e).replace(o,n)}var s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=r},{}],122:[function(e,t,i){"use strict";function n(e){var t=r.current;return null!==t&&(l(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:s.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1,"findDOMNode was called on an unmounted component."):void 0,void a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}var r=e(39),s=e(68),o=e(72),a=e(161),l=e(173);t.exports=n},{161:161,173:173,39:39,68:68,72:72}],123:[function(e,t,i){"use strict";function n(e,t,i){var n=e,r=void 0===n[i];o(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),r&&null!=t&&(n[i]=t)}function r(e){if(null==e)return e;var t={};return s(e,n,t),t}var s=e(142),o=e(173);t.exports=r},{142:142,173:173}],124:[function(e,t,i){"use strict";var n=function(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)};t.exports=n},{}],125:[function(e,t,i){"use strict";function n(e){var t,i=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===i&&(t=13)):t=i,t>=32||13===t?t:0}t.exports=n},{}],126:[function(e,t,i){"use strict";function n(e){if(e.key){var t=s[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var i=r(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var r=e(125),s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},{125:125}],127:[function(e,t,i){"use strict";function n(e){var t=this,i=t.nativeEvent;if(i.getModifierState)return i.getModifierState(e);var n=s[e];return n?!!i[n]:!1}function r(e){return n}var s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},{}],128:[function(e,t,i){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=n},{}],129:[function(e,t,i){"use strict";function n(e){var t=e&&(r&&e[r]||e[s]);return"function"==typeof t?t:void 0}var r="function"==typeof Symbol&&Symbol.iterator,s="@@iterator";t.exports=n},{}],130:[function(e,t,i){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function s(e,t){for(var i=n(e),s=0,o=0;i;){if(3===i.nodeType){if(o=s+i.textContent.length,t>=s&&o>=t)return{node:i,offset:t-s};s=o}i=n(r(i))}}t.exports=s},{}],131:[function(e,t,i){"use strict";function n(){return!s&&r.canUseDOM&&(s="textContent"in document.documentElement?"textContent":"innerText"),s}var r=e(147),s=null;t.exports=n},{147:147}],132:[function(e,t,i){"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function s(e){var t;if(null===e||e===!1)t=new a(s);else if("object"==typeof e){var i=e;!i||"function"!=typeof i.type&&"string"!=typeof i.type?c(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==i.type?i.type:typeof i.type,n(i._owner)):void 0,t="string"==typeof i.type?l.createInternalComponent(i):r(i.type)?new i.type(i):new p}else"string"==typeof e||"number"==typeof e?t=l.createInstanceForText(e):c(!1,"Encountered invalid React node of type %s",typeof e);return h("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var o=e(38),a=e(59),l=e(75),u=e(24),c=e(161),h=e(173),p=function(){};u(p.prototype,o.Mixin,{_instantiateReactComponent:s}),t.exports=s},{161:161,173:173,24:24,38:38,59:59,75:75}],133:[function(e,t,i){"use strict";function n(e,t){if(!s.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,n=i in document;if(!n){var o=document.createElement("div");o.setAttribute(i,"return;"),n="function"==typeof o[i]}return!n&&r&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var r,s=e(147);s.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},{147:147}],134:[function(e,t,i){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&r[e.type]||"textarea"===t)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},{}],135:[function(e,t,i){"use strict";function n(e){return r.isValidElement(e)?void 0:s(!1,"onlyChild must be passed a children with exactly one child."),e}var r=e(57),s=e(161);t.exports=n},{161:161,57:57}],136:[function(e,t,i){"use strict";function n(e){return'"'+r(e)+'"'}var r=e(121);t.exports=n},{121:121}],137:[function(e,t,i){"use strict";var n=e(72);t.exports=n.renderSubtreeIntoContainer},{72:72}],138:[function(e,t,i){"use strict";var n=e(147),r=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var i=e.firstChild;1===i.data.length?e.removeChild(i):i.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{147:147}],139:[function(e,t,i){"use strict";var n=e(147),r=e(121),s=e(138),o=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){s(e,r(t))})),t.exports=o},{121:121,138:138,147:147}],140:[function(e,t,i){"use strict";function n(e,t,i){return!r(e.props,t)||!r(e.state,i)}var r=e(171);t.exports=n},{171:171}],141:[function(e,t,i){"use strict";function n(e,t){var i=null===e||e===!1,n=null===t||t===!1;if(i||n)return i===n;var r=typeof e,s=typeof t;return"string"===r||"number"===r?"string"===s||"number"===s:"object"===s&&e.type===t.type&&e.key===t.key}t.exports=n},{}],142:[function(e,t,i){"use strict";function n(e){return v[e]}function r(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function s(e){return(""+e).replace(y,n)}function o(e){return"$"+s(e)}function a(e,t,i,n){var s=typeof e;if("undefined"!==s&&"boolean"!==s||(e=null),null===e||"string"===s||"number"===s||c.isValidElement(e))return i(n,e,""===t?m+r(e,0):t),1;var l,h,v=0,y=""===t?m:t+g;if(Array.isArray(e))for(var w=0;w<e.length;w++)l=e[w],h=y+r(l,w),v+=a(l,h,i,n);else{var S=p(e);if(S){var x,T=S.call(e);if(S!==e.entries)for(var C=0;!(x=T.next()).done;)l=x.value,h=y+r(l,C++),v+=a(l,h,i,n);else for(f(b,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),b=!0;!(x=T.next()).done;){var P=x.value;P&&(l=P[1],h=y+o(P[0])+g+r(l,0),v+=a(l,h,i,n))}}else if("object"===s){var E="";if(E=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(E=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),u.current){var _=u.current.getName();_&&(E+=" Check the render method of `"+_+"`.")}var k=String(e);d(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===k?"object with keys {"+Object.keys(e).join(", ")+"}":k,E)}}return v}function l(e,t,i){return null==e?0:a(e,"",t,i)}var u=e(39),c=e(57),h=e(67),p=e(129),d=e(161),f=e(173),m=h.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,b=!1;t.exports=l},{129:129,161:161,173:173,39:39,57:57,67:67}],143:[function(e,t,i){"use strict";function n(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function r(e,t,i){Array.isArray(e)?void 0:l(!1,"update(): expected target of %s to be an array; got %s.",i,e);var n=t[i];Array.isArray(n)?void 0:l(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",i,n)}function s(e,t){if("object"!=typeof t?l(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",g.join(", "),d):void 0,u.call(t,d))return 1!==Object.keys(t).length?l(!1,"Cannot have more than one key in an object with %s",d):void 0,t[d];var i=n(e);if(u.call(t,f)){var a=t[f];a&&"object"==typeof a?void 0:l(!1,"update(): %s expects a spec of type 'object'; got %s",f,a),i&&"object"==typeof i?void 0:l(!1,"update(): %s expects a target of type 'object'; got %s",f,i),o(i,t[f])}u.call(t,c)&&(r(e,t,c),t[c].forEach(function(e){i.push(e)})),u.call(t,h)&&(r(e,t,h),t[h].forEach(function(e){i.unshift(e)})),u.call(t,p)&&(Array.isArray(e)?void 0:l(!1,"Expected %s target to be an array; got %s",p,e),Array.isArray(t[p])?void 0:l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,t[p]),t[p].forEach(function(e){Array.isArray(e)?void 0:l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,t[p]),i.splice.apply(i,e)})),u.call(t,m)&&("function"!=typeof t[m]?l(!1,"update(): expected spec of %s to be a function; got %s.",m,t[m]):void 0,i=t[m](i));for(var y in t)v.hasOwnProperty(y)&&v[y]||(i[y]=s(e[y],t[y]));return i}var o=e(24),a=e(166),l=e(161),u={}.hasOwnProperty,c=a({$push:null}),h=a({$unshift:null}),p=a({$splice:null}),d=a({$set:null}),f=a({$merge:null}),m=a({$apply:null}),g=[c,h,p,d,f,m],v={};g.forEach(function(e){v[e]=!0}),t.exports=s},{161:161,166:166,24:24}],144:[function(e,t,i){"use strict";var n=e(24),r=e(153),s=e(173),o=r,a=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],h={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},p=function(e,t,i){var r=n({},e||h),s={tag:t,instance:i};return-1!==l.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==u.indexOf(t)&&(r.pTagInButtonScope=null),-1!==a.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.parentTag=s,"form"===t&&(r.formTag=s),"a"===t&&(r.aTagInScope=s),"button"===t&&(r.buttonTagInScope=s),"nobr"===t&&(r.nobrTagInScope=s),"p"===t&&(r.pTagInButtonScope=s),"li"===t&&(r.listItemTagAutoclosing=s),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=s),r},d=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===c.indexOf(t);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},f=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},m=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},g={};o=function(e,t,i){i=i||h;var n=i.parentTag,r=n&&n.tag,o=d(e,r)?null:n,a=o?null:f(e,i),l=o||a;if(l){var u,c=l.tag,p=l.instance,v=t&&t._currentElement._owner,y=p&&p._currentElement._owner,b=m(v),w=m(y),S=Math.min(b.length,w.length),x=-1;for(u=0;S>u&&b[u]===w[u];u++)x=u;var T="(unknown)",C=b.slice(x+1).map(function(e){return e.getName()||T}),P=w.slice(x+1).map(function(e){return e.getName()||T}),E=[].concat(-1!==x?b[x].getName()||T:[],P,c,a?["..."]:[],C,e).join(" > "),_=!!o+"|"+e+"|"+c+"|"+E;if(g[_])return;if(g[_]=!0,o){var k="";"table"===c&&"tr"===e&&(k+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),s(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,c,E,k)}else s(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,c,E)}},o.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),o.updatedAncestorInfo=p,o.isTagValidInContext=function(e,t){t=t||h;var i=t.parentTag,n=i&&i.tag;return d(e,n)&&!f(e,t)},t.exports=o},{153:153,173:173,24:24}],145:[function(e,t,i){"use strict";var n=e(161),r={addClass:function(e,t){return/\s/.test(t)?n(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t):void 0,t&&(e.classList?e.classList.add(t):r.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?n(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t):void 0,t&&(e.classList?e.classList.remove(t):r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,i){return(i?r.addClass:r.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?n(!1,"CSS.hasClass takes only a single class name."):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=r},{161:161}],146:[function(e,t,i){"use strict";var n=e(153),r={listen:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=r},{153:153}],147:[function(e,t,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},{}],148:[function(e,t,i){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;t.exports=n},{}],149:[function(e,t,i){"use strict";function n(e){return r(e.replace(s,"ms-"))}var r=e(148),s=/^-ms-/;t.exports=n},{148:148}],150:[function(e,t,i){"use strict";function n(e,t){var i=!0;e:for(;i;){var n=e,s=t;if(i=!1,n&&s){if(n===s)return!0;if(r(n))return!1;if(r(s)){e=n,t=s.parentNode,i=!0;continue e}return n.contains?n.contains(s):n.compareDocumentPosition?!!(16&n.compareDocumentPosition(s)):!1}return!1}}var r=e(163);t.exports=n},{163:163}],151:[function(e,t,i){"use strict";function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return n(e)?Array.isArray(e)?e.slice():s(e):[e]}var s=e(172);t.exports=r},{172:172}],152:[function(e,t,i){"use strict";function n(e){var t=e.match(c),i=t&&t[1].toLowerCase();return h.hasOwnProperty(i)?h[i]:i}function r(e,t){var i=u;u?void 0:l(!1,"createNodesFromMarkup dummy not initialized");var r=n(e),s=r&&a(r);if(s){i.innerHTML=s[1]+e+s[2];for(var c=s[0];c--;)i=i.lastChild}else i.innerHTML=e;var h=i.getElementsByTagName("script");h.length&&(t?void 0:l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),o(h).forEach(t));for(var p=o(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return p}var s=e(147),o=e(151),a=e(157),l=e(161),u=s.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/,h={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"};t.exports=r},{147:147,151:151,157:157,161:161}],153:[function(e,t,i){"use strict";function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},t.exports=r},{}],154:[function(e,t,i){"use strict";var n={};Object.freeze(n),t.exports=n},{}],155:[function(e,t,i){"use strict";function n(e){try{e.focus()}catch(t){}}t.exports=n},{}],156:[function(e,t,i){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],157:[function(e,t,i){"use strict";function n(e){return o?void 0:s(!1,"Markup wrapping node not initialized"),p.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",a[e]=!o.firstChild),a[e]?p[e]:null}var r=e(147),s=e(161),o=r.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan","use","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feTile","feTurbulence"];d.forEach(function(e){p[e]=h,a[e]=!0}),t.exports=n},{147:147,161:161}],158:[function(e,t,i){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],159:[function(e,t,i){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},{}],160:[function(e,t,i){"use strict";function n(e){return r(e).replace(s,"-ms-")}var r=e(159),s=/^ms-/;t.exports=n},{159:159}],161:[function(e,t,i){"use strict";function n(e,t,i,n,r,s,o,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,n,r,s,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=n},{}],162:[function(e,t,i){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=n},{}],163:[function(e,t,i){"use strict";function n(e){return r(e)&&3==e.nodeType}var r=e(162);t.exports=n},{162:162}],164:[function(e,t,i){"use strict";function n(e){e||(e="");var t,i=arguments.length;if(i>1)for(var n=1;i>n;n++)t=arguments[n],t&&(e=(e?e+" ":"")+t);return e}t.exports=n},{}],165:[function(e,t,i){"use strict";var n=e(161),r=function(e){var t,i={};e instanceof Object&&!Array.isArray(e)?void 0:n(!1,"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(i[t]=t);return i};t.exports=r},{161:161}],166:[function(e,t,i){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=n},{}],167:[function(e,t,i){"use strict";function n(e,t,i){if(!e)return null;var n={};for(var s in e)r.call(e,s)&&(n[s]=t.call(i,e[s],s,e));return n}var r=Object.prototype.hasOwnProperty;t.exports=n},{}],168:[function(e,t,i){"use strict";function n(e){var t={};return function(i){return t.hasOwnProperty(i)||(t[i]=e.call(this,i)),t[i]}}t.exports=n},{}],169:[function(e,t,i){"use strict";var n,r=e(147);r.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{147:147}],170:[function(e,t,i){"use strict";var n,r=e(169);n=r.now?function(){return r.now()}:function(){return Date.now()},t.exports=n},{169:169}],171:[function(e,t,i){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var s=r.bind(t),o=0;o<i.length;o++)if(!s(i[o])||e[i[o]]!==t[i[o]])return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=n},{}],172:[function(e,t,i){"use strict";function n(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?r(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof t?r(!1,"toArray: Object needs a length property"):void 0,0===t||t-1 in e?void 0:r(!1,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(i){}for(var n=Array(t),s=0;t>s;s++)n[s]=e[s];return n}var r=e(161);
t.exports=n},{161:161}],173:[function(e,t,i){"use strict";var n=e(153),r=n;r=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;i>r;r++)n[r-2]=arguments[r];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var s=0,o="Warning: "+t.replace(/%s/g,function(){return n[s++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}}},t.exports=r},{153:153}]},{},[1])(1)}),define("helpers/ReactOverride",["lodash","react"],function(e,t){"use strict";var i=function(e){var i=t.createClass(e);return i.__spec=e,i},n=function(t,n){return i(e.merge({},t.__spec,n))};return e.extend({},t,{createClass:i,extend:n})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(e,t){function i(e){var t=e.length,i=se.type(e);return se.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=fe[e]={};return se.each(e.match(ae)||[],function(e,i){t[i]=!0}),t}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=se.expando+Math.random()}function s(e,i,n){var r;if(n===t&&1===e.nodeType)if(r="data-"+i.replace(ye,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ve.test(n)?JSON.parse(n):n}catch(s){}me.set(e,i,n)}else n=t;return n}function o(){return!0}function a(){return!1}function l(){try{return G.activeElement}catch(e){}}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,i){if(se.isFunction(t))return se.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return se.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ke.test(t))return se.filter(t,e,i);t=se.filter(t,e)}return se.grep(e,function(e){return te.call(t,e)>=0!==i})}function h(e,t){return se.nodeName(e,"table")&&se.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=Be.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var i=e.length,n=0;i>n;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function m(e,t){var i,n,r,s,o,a,l,u;if(1===t.nodeType){if(ge.hasData(e)&&(s=ge.access(e),o=ge.set(t,s),u=s.events)){delete o.handle,o.events={};for(r in u)for(i=0,n=u[r].length;n>i;i++)se.event.add(t,r,u[r][i])}me.hasData(e)&&(a=me.access(e),l=se.extend({},a),me.set(t,l))}}function g(e,i){var n=e.getElementsByTagName?e.getElementsByTagName(i||"*"):e.querySelectorAll?e.querySelectorAll(i||"*"):[];return i===t||i&&se.nodeName(e,i)?se.merge([e],n):n}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ne.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function y(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=Ze.length;r--;)if(t=Ze[r]+i,t in e)return t;return n}function b(e,t){return e=t||e,"none"===se.css(e,"display")||!se.contains(e.ownerDocument,e)}function w(t){return e.getComputedStyle(t,null)}function S(e,t){for(var i,n,r,s=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(s[o]=ge.get(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&b(n)&&(s[o]=ge.access(n,"olddisplay",P(n.nodeName)))):s[o]||(r=b(n),(i&&"none"!==i||!r)&&ge.set(n,"olddisplay",r?i:se.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function x(e,t,i){var n=ze.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=se.css(e,i+Je[s],!0,r)),n?("content"===i&&(o-=se.css(e,"padding"+Je[s],!0,r)),"margin"!==i&&(o-=se.css(e,"border"+Je[s]+"Width",!0,r))):(o+=se.css(e,"padding"+Je[s],!0,r),"padding"!==i&&(o+=se.css(e,"border"+Je[s]+"Width",!0,r)));return o}function C(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=w(e),o=se.support.boxSizing&&"border-box"===se.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=He(e,t,s),(0>r||null==r)&&(r=e.style[t]),Xe.test(r))return r;n=o&&(se.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,i||(o?"border":"content"),n,s)+"px"}function P(e){var t=G,i=Qe[e];return i||(i=E(e,t),"none"!==i&&i||(qe=(qe||se("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(qe[0].contentWindow||qe[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=E(e,t),qe.detach()),Qe[e]=i),i}function E(e,t){var i=se(t.createElement(e)).appendTo(t.body),n=se.css(i[0],"display");return i.remove(),n}function _(e,t,i,n){var r;if(se.isArray(t))se.each(t,function(t,r){i||tt.test(e)?n(e,r):_(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==se.type(t))n(e,t);else for(r in t)_(e+"["+r+"]",t[r],i,n)}function k(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(ae)||[];if(se.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function A(e,t,i,n){function r(a){var l;return s[a]=!0,se.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||o||s[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var s={},o=e===yt;return r(t.dataTypes[0])||!s["*"]&&r("*")}function R(e,i){var n,r,s=se.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((s[n]?e:r||(r={}))[n]=i[n]);return r&&se.extend(!0,e,r),e}function M(e,i,n){for(var r,s,o,a,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||i.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function I(e,t,i,n){var r,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=u[l+" "+s]||u["* "+s],!o)for(r in u)if(a=r.split(" "),a[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){o===!0?o=u[r]:u[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function O(){return setTimeout(function(){_t=t}),_t=se.now()}function L(e,t,i){for(var n,r=(Ot[t]||[]).concat(Ot["*"]),s=0,o=r.length;o>s;s++)if(n=r[s].call(i,t,e))return n}function D(e,t,i){var n,r,s=0,o=It.length,a=se.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=_t||O(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,s=1-n,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(s);return a.notifyWith(e,[u,s,i]),1>s&&l?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:se.extend({},t),opts:se.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:_t||O(),duration:i.duration,tweens:[],createTween:function(t,i){var n=se.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(N(c,u.opts.specialEasing);o>s;s++)if(n=It[s].call(u,e,c,u.opts))return n;return se.map(c,L,u),se.isFunction(u.opts.start)&&u.opts.start.call(e,u),se.fx.timer(se.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(e,t){var i,n,r,s,o;for(i in e)if(n=se.camelCase(i),r=t[n],s=e[i],se.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=se.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function V(e,i,n){var r,s,o,a,l,u,c=this,h={},p=e.style,d=e.nodeType&&b(e),f=ge.get(e,"fxshow");n.queue||(l=se._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,u=l.empty.fire,l.empty.fire=function(){l.unqueued||u()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,se.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in i||"width"in i)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===se.css(e,"display")&&"none"===se.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in i)if(s=i[r],At.exec(s)){if(delete i[r],o=o||"toggle"===s,s===(d?"hide":"show")){if("show"!==s||!f||f[r]===t)continue;d=!0}h[r]=f&&f[r]||se.style(e,r)}if(!se.isEmptyObject(h)){f?"hidden"in f&&(d=f.hidden):f=ge.access(e,"fxshow",{}),o&&(f.hidden=!d),d?se(e).show():c.done(function(){se(e).hide()}),c.done(function(){var t;ge.remove(e,"fxshow");for(t in h)se.style(e,t,h[t])});for(r in h)a=L(d?f[r]:0,r,c),r in f||(f[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function j(e,t,i,n,r){return new j.prototype.init(e,t,i,n,r)}function B(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Je[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function F(e){return se.isWindow(e)?e:9===e.nodeType&&e.defaultView}var U,H,q=typeof t,W=e.location,G=e.document,z=G.documentElement,X=e.jQuery,Y=e.$,Q={},K=[],$="2.0.3",J=K.concat,Z=K.push,ee=K.slice,te=K.indexOf,ie=Q.toString,ne=Q.hasOwnProperty,re=$.trim,se=function(e,t){return new se.fn.init(e,t,U)},oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^-ms-/,he=/-([\da-z])/gi,pe=function(e,t){return t.toUpperCase()},de=function(){G.removeEventListener("DOMContentLoaded",de,!1),e.removeEventListener("load",de,!1),se.ready()};se.fn=se.prototype={jquery:$,constructor:se,init:function(e,i,n){var r,s;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(r[1]){if(i=i instanceof se?i[0]:i,se.merge(this,se.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:G,!0)),ue.test(r[1])&&se.isPlainObject(i))for(r in i)se.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}return s=G.getElementById(r[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):se.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),se.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=se.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return se.each(this,e,t)},ready:function(e){return se.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(se.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},se.fn.init.prototype=se.fn,se.extend=se.fn.extend=function(){var e,i,n,r,s,o,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||se.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(i in e)n=a[i],r=e[i],a!==r&&(c&&r&&(se.isPlainObject(r)||(s=se.isArray(r)))?(s?(s=!1,o=n&&se.isArray(n)?n:[]):o=n&&se.isPlainObject(n)?n:{},a[i]=se.extend(c,o,r)):r!==t&&(a[i]=r));return a},se.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===se&&(e.$=Y),t&&e.jQuery===se&&(e.jQuery=X),se},isReady:!1,readyWait:1,holdReady:function(e){e?se.readyWait++:se.ready(!0)},ready:function(e){(e===!0?--se.readyWait:se.isReady)||(se.isReady=!0,e!==!0&&--se.readyWait>0||(H.resolveWith(G,[se]),se.fn.trigger&&se(G).trigger("ready").off("ready")))},isFunction:function(e){return"function"===se.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[ie.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==se.type(e)||e.nodeType||se.isWindow(e))return!1;try{if(e.constructor&&!ne.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||G;var n=ue.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=se.buildFragment([e],t,r),r&&se(r).remove(),se.merge([],n.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var i,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,i=n.parseFromString(e,"text/xml")}catch(r){i=t}return i&&!i.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+e),i},noop:function(){},globalEval:function(e){var t,i=eval;e=se.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(he,pe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,s=0,o=e.length,a=i(e);if(n){if(a)for(;o>s&&(r=t.apply(e[s],n),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],n),r===!1)break}else if(a)for(;o>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:function(e){return null==e?"":re.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?se.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:te.call(t,e,i)},merge:function(e,i){var n=i.length,r=e.length,s=0;if("number"==typeof n)for(;n>s;s++)e[r++]=i[s];else for(;i[s]!==t;)e[r++]=i[s++];return e.length=r,e},grep:function(e,t,i){var n,r=[],s=0,o=e.length;for(i=!!i;o>s;s++)n=!!t(e[s],s),i!==n&&r.push(e[s]);return r},map:function(e,t,n){var r,s=0,o=e.length,a=i(e),l=[];if(a)for(;o>s;s++)r=t(e[s],s,n),null!=r&&(l[l.length]=r);else for(s in e)r=t(e[s],s,n),null!=r&&(l[l.length]=r);return J.apply([],l)},guid:1,proxy:function(e,i){var n,r,s;return"string"==typeof i&&(n=e[i],i=e,e=n),se.isFunction(e)?(r=ee.call(arguments,2),s=function(){return e.apply(i||this,r.concat(ee.call(arguments)))},s.guid=e.guid=e.guid||se.guid++,s):t},access:function(e,i,n,r,s,o,a){var l=0,u=e.length,c=null==n;if("object"===se.type(n)){s=!0;for(l in n)se.access(e,i,l,n[l],!0,o,a)}else if(r!==t&&(s=!0,se.isFunction(r)||(a=!0),c&&(a?(i.call(e,r),i=null):(c=i,i=function(e,t,i){return c.call(se(e),i)})),i))for(;u>l;l++)i(e[l],n,a?r:r.call(e[l],l,i(e[l],n)));return s?e:c?i.call(e):u?i(e[0],n):o},now:Date.now,swap:function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return r}}),se.ready.promise=function(t){return H||(H=se.Deferred(),"complete"===G.readyState?setTimeout(se.ready):(G.addEventListener("DOMContentLoaded",de,!1),e.addEventListener("load",de,!1))),H.promise(t)},se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),U=se(G),function(e,t){function i(e,t,i,n){var r,s,o,a,l,u,c,h,f,m;if((t?t.ownerDocument||t:F)!==I&&M(t),t=t||I,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(L&&!n){if(r=be.exec(e))if(o=r[1]){if(9===a){if(s=t.getElementById(o),!s||!s.parentNode)return i;if(s.id===o)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&j(t,s)&&s.id===o)return i.push(s),i}else{if(r[2])return ee.apply(i,t.getElementsByTagName(e)),i;if((o=r[3])&&T.getElementsByClassName&&t.getElementsByClassName)return ee.apply(i,t.getElementsByClassName(o)),i}if(T.qsa&&(!D||!D.test(e))){if(h=c=B,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=p(e),(c=t.getAttribute("id"))?h=c.replace(xe,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+d(u[l]);f=de.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return ee.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{c||t.removeAttribute("id")}}}return S(e.replace(ce,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>P.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function r(e){return e[B]=!0,e}function s(e){var t=I.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)P.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function u(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function h(){}function p(e,t){var n,r,s,o,a,l,u,c=W[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=P.preFilter;a;){n&&!(r=he.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=pe.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(ce," ")}),a=a.slice(n.length));for(o in P.filter)!(r=ve[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):W(e,l).slice(0)}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=H++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,l,u,c=U+" "+s;if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r)if(u=t[B]||(t[B]={}),(l=u[n])&&l[0]===c){if((a=l[1])===!0||a===C)return a===!0}else if(l=u[n]=[c],l[1]=e(t,i,o)||C,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,u=null!=t;l>a;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),u&&t.push(a)));return o}function v(e,t,i,n,s,o){return n&&!n[B]&&(n=v(n)),s&&!s[B]&&(s=v(s,o)),r(function(r,o,a,l){var u,c,h,p=[],d=[],f=o.length,m=r||w(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?m:g(m,p,e,a,l),y=i?s||(r?e:f||n)?[]:o:v;if(i&&i(v,y,a,l),n)for(u=g(y,d),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[d[c]]=!(v[d[c]]=h));if(r){if(s||e){if(s){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(v[c]=h);s(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=s?ie.call(r,h):p[c])>-1&&(r[u]=!(o[u]=h))}}else y=g(y===o?y.splice(f,y.length):y),s?s(null,o,y,l):ee.apply(o,y)})}function y(e){for(var t,i,n,r=e.length,s=P.relative[e[0].type],o=s||P.relative[" "],a=s?1:0,l=f(function(e){return e===t},o,!0),u=f(function(e){return ie.call(t,e)>-1},o,!0),c=[function(e,i,n){return!s&&(n||i!==A)||((t=i).nodeType?l(e,i,n):u(e,i,n))}];r>a;a++)if(i=P.relative[e[a].type])c=[f(m(c),i)];else{if(i=P.filter[e[a].type].apply(null,e[a].matches),i[B]){for(n=++a;r>n&&!P.relative[e[n].type];n++);return v(a>1&&m(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ce,"$1"),i,n>a&&y(e.slice(a,n)),r>n&&y(e=e.slice(n)),r>n&&d(e))}c.push(i)}return m(c)}function b(e,t){var n=0,s=t.length>0,o=e.length>0,a=function(r,a,l,u,c){var h,p,d,f=[],m=0,v="0",y=r&&[],b=null!=c,w=A,S=r||o&&P.find.TAG("*",c&&a.parentNode||a),x=U+=null==w?1:Math.random()||.1;for(b&&(A=a!==I&&a,C=n);null!=(h=S[v]);v++){if(o&&h){for(p=0;d=e[p++];)if(d(h,a,l)){u.push(h);break}b&&(U=x,C=++n)}s&&((h=!d&&h)&&m--,r&&y.push(h))}if(m+=v,s&&v!==m){for(p=0;d=t[p++];)d(y,f,a,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=J.call(u));f=g(f)}ee.apply(u,f),b&&!r&&f.length>0&&m+t.length>1&&i.uniqueSort(u)}return b&&(U=x,A=w),y};return s?r(a):a}function w(e,t,n){for(var r=0,s=t.length;s>r;r++)i(e,t[r],n);return n}function S(e,t,i,n){var r,s,o,a,l,u=p(e);if(!n&&1===u.length){if(s=u[0]=u[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&T.getById&&9===t.nodeType&&L&&P.relative[s[1].type]){if(t=(P.find.ID(o.matches[0].replace(Te,Ce),t)||[])[0],!t)return i;e=e.slice(s.shift().value.length)}for(r=ve.needsContext.test(e)?0:s.length;r--&&(o=s[r],!P.relative[a=o.type]);)if((l=P.find[a])&&(n=l(o.matches[0].replace(Te,Ce),de.test(s[0].type)&&t.parentNode||t))){if(s.splice(r,1),e=n.length&&d(s),!e)return ee.apply(i,n),i;break}}return k(e,u)(n,t,!L,i,de.test(e)),i}var x,T,C,P,E,_,k,A,R,M,I,O,L,D,N,V,j,B="sizzle"+-new Date,F=e.document,U=0,H=0,q=n(),W=n(),G=n(),z=!1,X=function(e,t){return e===t?(z=!0,0):0},Y=typeof t,Q=1<<31,K={}.hasOwnProperty,$=[],J=$.pop,Z=$.push,ee=$.push,te=$.slice,ie=$.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),le="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+re+"*\\]",ue=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),he=new RegExp("^"+re+"*,"+re+"*"),pe=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),de=new RegExp(re+"*[+~]"),fe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=new RegExp(ue),ge=new RegExp("^"+ae+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+le),PSEUDO:new RegExp("^"+ue),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,Se=/^h\d$/i,xe=/'|\\/g,Te=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{ee.apply($=te.call(F.childNodes),F.childNodes),$[F.childNodes.length].nodeType}catch(Pe){ee={apply:$.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}_=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=i.support={},M=i.setDocument=function(e){var t=e?e.ownerDocument||e:F,i=t.defaultView;return t!==I&&9===t.nodeType&&t.documentElement?(I=t,O=t.documentElement,L=!_(t),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){M()}),T.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=s(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=s(function(e){return O.appendChild(e).id=B,!t.getElementsByName||!t.getElementsByName(B).length}),T.getById?(P.find.ID=function(e,t){if(typeof t.getElementById!==Y&&L){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},P.filter.ID=function(e){var t=e.replace(Te,Ce);return function(e){return e.getAttribute("id")===t}}):(delete P.find.ID,P.filter.ID=function(e){var t=e.replace(Te,Ce);return function(e){var i=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return i&&i.value===t}}),P.find.TAG=T.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},P.find.CLASS=T.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&L?t.getElementsByClassName(e):void 0},N=[],D=[],(T.qsa=ye.test(t.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||D.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||D.push(":checked")}),s(function(e){var i=t.createElement("input");i.setAttribute("type","hidden"),e.appendChild(i).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&D.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(T.matchesSelector=ye.test(V=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&s(function(e){T.disconnectedMatch=V.call(e,"div"),V.call(e,"[s!='']:x"),N.push("!=",ue)}),D=D.length&&new RegExp(D.join("|")),N=N.length&&new RegExp(N.join("|")),j=ye.test(O.contains)||O.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=O.compareDocumentPosition?function(e,i){if(e===i)return z=!0,0;var n=i.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(i);return n?1&n||!T.sortDetached&&i.compareDocumentPosition(e)===n?e===t||j(F,e)?-1:i===t||j(F,i)?1:R?ie.call(R,e)-ie.call(R,i):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,i){var n,r=0,s=e.parentNode,o=i.parentNode,l=[e],u=[i];if(e===i)return z=!0,0;if(!s||!o)return e===t?-1:i===t?1:s?-1:o?1:R?ie.call(R,e)-ie.call(R,i):0;if(s===o)return a(e,i);for(n=e;n=n.parentNode;)l.unshift(n);for(n=i;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===F?-1:u[r]===F?1:0},t):I},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==I&&M(e),t=t.replace(fe,"='$1']"),T.matchesSelector&&L&&(!N||!N.test(t))&&(!D||!D.test(t)))try{var n=V.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return i(t,I,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==I&&M(e),j(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==I&&M(e);var n=P.attrHandle[i.toLowerCase()],r=n&&K.call(P.attrHandle,i.toLowerCase())?n(e,i,!L):t;return r===t?T.attributes||!L?e.getAttribute(i):(r=e.getAttributeNode(i))&&r.specified?r.value:null:r},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,r=0;if(z=!T.detectDuplicates,R=!T.sortStable&&e.slice(0),e.sort(X),z){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return e},E=i.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=E(t);return i},P=i.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,Ce),e[3]=(e[4]||e[5]||"").replace(Te,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return ve.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&me.test(n)&&(i=p(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var s=i.attr(r,e);return null==s?"!="===t:t?(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.slice(-n.length)===n:"~="===t?(" "+s+" ").indexOf(n)>-1:"|="===t?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,p,d,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(c=g[B]||(g[B]={}),u=c[e]||[],d=u[0]===U&&u[1],p=u[0]===U&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(p=d=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){c[e]=[U,d,p];break}}else if(y&&(u=(t[B]||(t[B]={}))[e])&&u[0]===U)p=u[1];else for(;(h=++d&&h&&h[m]||(p=d=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[B]||(h[B]={}))[e]=[U,p]),h!==t)););return p-=r,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,t){var n,s=P.pseudos[e]||P.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[B]?s(t):s.length>1?(n=[e,e,"",t],P.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,i){for(var n,r=s(e,t),o=r.length;o--;)n=ie.call(e,r[o]),e[n]=!(i[n]=r[o])}):function(e){return s(e,0,n)}):s}},pseudos:{not:r(function(e){var t=[],i=[],n=k(e.replace(ce,"$1"));return n[B]?r(function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,r,s){return t[0]=e,n(t,null,s,i),!i.pop()}}),has:r(function(e){return function(t){return i(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return ge.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(Te,Ce).toLowerCase(),function(t){var i;do if(i=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){
return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!P.pseudos.empty(e)},header:function(e){return Se.test(e.nodeName)},input:function(e){return we.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},P.pseudos.nth=P.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})P.pseudos[x]=u(x);h.prototype=P.filters=P.pseudos,P.setFilters=new h,k=i.compile=function(e,t){var i,n=[],r=[],s=G[e+" "];if(!s){for(t||(t=p(e)),i=t.length;i--;)s=y(t[i]),s[B]?n.push(s):r.push(s);s=G(e,b(r,n))}return s},T.sortStable=B.split("").sort(X).join("")===B,T.detectDuplicates=z,M(),T.sortDetached=s(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}),se.find=i,se.expr=i.selectors,se.expr[":"]=se.expr.pseudos,se.unique=i.uniqueSort,se.text=i.getText,se.isXMLDoc=i.isXML,se.contains=i.contains}(e);var fe={};se.Callbacks=function(e){e="string"==typeof e?fe[e]||n(e):se.extend({},e);var i,r,s,o,a,l,u=[],c=!e.once&&[],h=function(t){for(i=e.memory&&t,r=!0,l=o||0,o=0,a=u.length,s=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}s=!1,u&&(c?c.length&&h(c.shift()):i?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;!function n(t){se.each(t,function(t,i){var r=se.type(i);"function"===r?e.unique&&p.has(i)||u.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),s?a=u.length:i&&(o=t,h(i))}return this},remove:function(){return u&&se.each(arguments,function(e,t){for(var i;(i=se.inArray(t,u,i))>-1;)u.splice(i,1),s&&(a>=i&&a--,l>=i&&l--)}),this},has:function(e){return e?se.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||r&&!c||(t=t||[],t=[e,t.slice?t.slice():t],s?c.push(t):h(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},se.extend({Deferred:function(e){var t=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return se.Deferred(function(i){se.each(t,function(t,s){var o=s[0],a=se.isFunction(e[t])&&e[t];r[s[1]](function(){var e=a&&a.apply(this,arguments);e&&se.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?se.extend(e,n):n}},r={};return n.pipe=n.then,se.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=ee.call(arguments),o=s.length,a=1!==o||e&&se.isFunction(e.promise)?o:0,l=1===a?e:se.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?ee.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&se.isFunction(s[r].promise)?s[r].promise().done(u(r,n,s)).fail(l.reject).progress(u(r,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}}),se.support=function(t){var i=G.createElement("input"),n=G.createDocumentFragment(),r=G.createElement("div"),s=G.createElement("select"),o=s.appendChild(G.createElement("option"));return i.type?(i.type="checkbox",t.checkOn=""!==i.value,t.optSelected=o.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled,i=G.createElement("input"),i.value="t",i.type="radio",t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),n.appendChild(i),t.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===r.style.backgroundClip,se(function(){var i,n,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=G.getElementsByTagName("body")[0];o&&(i=G.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(i).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",se.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===r.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,n=r.appendChild(G.createElement("div")),n.style.cssText=r.style.cssText=s,n.style.marginRight=n.style.width="0",r.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),o.removeChild(i))}),t):t}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;r.uid=1,r.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=r.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,se.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=i;else if(se.isEmptyObject(s))se.extend(this.cache[r],t);else for(n in t)s[n]=t[n];return s},get:function(e,i){var n=this.cache[this.key(e)];return i===t?n:n[i]},access:function(e,i,n){var r;return i===t||i&&"string"==typeof i&&n===t?(r=this.get(e,i),r!==t?r:this.get(e,se.camelCase(i))):(this.set(e,i,n),n!==t?n:i)},remove:function(e,i){var n,r,s,o=this.key(e),a=this.cache[o];if(i===t)this.cache[o]={};else{se.isArray(i)?r=i.concat(i.map(se.camelCase)):(s=se.camelCase(i),i in a?r=[i,s]:(r=s,r=r in a?[r]:r.match(ae)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!se.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},me=new r,ge=new r,se.extend({acceptData:r.accepts,hasData:function(e){return me.hasData(e)||ge.hasData(e)},data:function(e,t,i){return me.access(e,t,i)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,i){return ge.access(e,t,i)},_removeData:function(e,t){ge.remove(e,t)}}),se.fn.extend({data:function(e,i){var n,r,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=me.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=o.attributes;a<n.length;a++)r=n[a].name,0===r.indexOf("data-")&&(r=se.camelCase(r.slice(5)),s(o,r,l[r]));ge.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){me.set(this,e)}):se.access(this,function(i){var n,r=se.camelCase(e);if(o&&i===t){if(n=me.get(o,e),n!==t)return n;if(n=me.get(o,r),n!==t)return n;if(n=s(o,r,t),n!==t)return n}else this.each(function(){var n=me.get(this,r);me.set(this,r,i),-1!==e.indexOf("-")&&n!==t&&me.set(this,e,i)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),se.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ge.get(e,t),i&&(!n||se.isArray(i)?n=ge.access(e,t,se.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=se.queue(e,t),n=i.length,r=i.shift(),s=se._queueHooks(e,t),o=function(){se.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ge.get(e,i)||ge.access(e,i,{empty:se.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",i])})})}}),se.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?se.queue(this[0],e):i===t?this:this.each(function(){var t=se.queue(this,e,i);se._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){se.dequeue(this,e)})},delay:function(e,t){return e=se.fx?se.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,s=se.Deferred(),o=this,a=this.length,l=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=ge.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),s.promise(i)}});var be,we,Se=/[\t\r\n\f]/g,xe=/\r/g,Te=/^(?:input|select|textarea|button)$/i;se.fn.extend({attr:function(e,t){return se.access(this,se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){se.removeAttr(this,e)})},prop:function(e,t){return se.access(this,se.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[se.propFix[e]||e]})},addClass:function(e){var t,i,n,r,s,o=0,a=this.length,l="string"==typeof e&&e;if(se.isFunction(e))return this.each(function(t){se(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ae)||[];a>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Se," "):" ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i.className=se.trim(n)}return this},removeClass:function(e){var t,i,n,r,s,o=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(se.isFunction(e))return this.each(function(t){se(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ae)||[];a>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Se," "):"")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=e?se.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):se.isFunction(e)?this.each(function(i){se(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,r=se(this),s=e.match(ae)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else i!==q&&"boolean"!==i||(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Se," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,s=this[0];{if(arguments.length)return r=se.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(s=r?e.call(this,n,se(this).val()):e,null==s?s="":"number"==typeof s?s+="":se.isArray(s)&&(s=se.map(s,function(e){return null==e?"":e+""})),i=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==t||(this.value=s))});if(s)return i=se.valHooks[s.type]||se.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(xe,""):null==n?"":n)}}}),se.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:n.length,l=0>r?a:s?r:0;a>l;l++)if(i=n[l],(i.selected||l===r)&&(se.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!se.nodeName(i.parentNode,"optgroup"))){if(t=se(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=se.makeArray(t),o=r.length;o--;)n=r[o],(n.selected=se.inArray(se(n).val(),s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}},attr:function(e,i,n){var r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===q?se.prop(e,i,n):(1===o&&se.isXMLDoc(e)||(i=i.toLowerCase(),r=se.attrHooks[i]||(se.expr.match.bool.test(i)?we:be)),n===t?r&&"get"in r&&null!==(s=r.get(e,i))?s:(s=se.find.attr(e,i),null==s?t:s):null!==n?r&&"set"in r&&(s=r.set(e,n,i))!==t?s:(e.setAttribute(i,n+""),n):void se.removeAttr(e,i))},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(ae);if(s&&1===e.nodeType)for(;i=s[r++];)n=se.propFix[i]||i,se.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!se.support.radioValue&&"radio"===t&&se.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var r,s,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!se.isXMLDoc(e),o&&(i=se.propFix[i]||i,s=se.propHooks[i]),n!==t?s&&"set"in s&&(r=s.set(e,n,i))!==t?r:e[i]=n:s&&"get"in s&&null!==(r=s.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Te.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),we={set:function(e,t,i){return t===!1?se.removeAttr(e,i):e.setAttribute(i,i),i}},se.each(se.expr.match.bool.source.match(/\w+/g),function(e,i){var n=se.expr.attrHandle[i]||se.find.attr;se.expr.attrHandle[i]=function(e,i,r){var s=se.expr.attrHandle[i],o=r?t:(se.expr.attrHandle[i]=t)!=n(e,i,r)?i.toLowerCase():null;return se.expr.attrHandle[i]=s,o}}),se.support.optSelected||(se.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(e,t){return se.isArray(t)?e.checked=se.inArray(se(e).val(),t)>=0:void 0}},se.support.checkOn||(se.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ce=/^key/,Pe=/^(?:mouse|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,_e=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(e,i,n,r,s){var o,a,l,u,c,h,p,d,f,m,g,v=ge.get(e);if(v){for(n.handler&&(o=n,n=o.handler,s=o.selector),n.guid||(n.guid=se.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof se===q||e&&se.event.triggered===e.type?t:se.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=(i||"").match(ae)||[""],c=i.length;c--;)l=_e.exec(i[c])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),f&&(p=se.event.special[f]||{},f=(s?p.delegateType:p.bindType)||f,p=se.event.special[f]||{},h=se.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:s,needsContext:s&&se.expr.match.needsContext.test(s),namespace:m.join(".")},o),(d=u[f])||(d=u[f]=[],d.delegateCount=0,p.setup&&p.setup.call(e,r,m,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),s?d.splice(d.delegateCount++,0,h):d.push(h),se.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var s,o,a,l,u,c,h,p,d,f,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(t=(t||"").match(ae)||[""],u=t.length;u--;)if(a=_e.exec(t[u])||[],d=m=a[1],f=(a[2]||"").split(".").sort(),d){for(h=se.event.special[d]||{},d=(n?h.delegateType:h.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)c=p[s],!r&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(s,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));o&&!p.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||se.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)se.event.remove(e,d+t[u],i,n,!0);se.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(i,n,r,s){var o,a,l,u,c,h,p,d=[r||G],f=ne.call(i,"type")?i.type:i,m=ne.call(i,"namespace")?i.namespace.split("."):[];if(a=l=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!Ee.test(f+se.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,i=i[se.expando]?i:new se.Event(f,"object"==typeof i&&i),i.isTrigger=s?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=r),n=null==n?[i]:se.makeArray(n,[i]),p=se.event.special[f]||{},s||!p.trigger||p.trigger.apply(r,n)!==!1)){if(!s&&!p.noBubble&&!se.isWindow(r)){for(u=p.delegateType||f,Ee.test(u+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(r.ownerDocument||G)&&d.push(l.defaultView||l.parentWindow||e)}for(o=0;(a=d[o++])&&!i.isPropagationStopped();)i.type=o>1?u:p.bindType||f,h=(ge.get(a,"events")||{})[i.type]&&ge.get(a,"handle"),h&&h.apply(a,n),h=c&&a[c],h&&se.acceptData(a)&&h.apply&&h.apply(a,n)===!1&&i.preventDefault();return i.type=f,s||i.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!se.acceptData(r)||c&&se.isFunction(r[f])&&!se.isWindow(r)&&(l=r[c],l&&(r[c]=null),se.event.triggered=f,r[f](),se.event.triggered=t,l&&(r[c]=l)),i.result}},dispatch:function(e){e=se.event.fix(e);var i,n,r,s,o,a=[],l=ee.call(arguments),u=(ge.get(this,"events")||{})[e.type]||[],c=se.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=se.event.handlers.call(this,e,u),i=0;(s=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,n=0;(o=s.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((se.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,r,s,o,a=[],l=i.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;l>n;n++)o=i[n],s=o.selector+" ",r[s]===t&&(r[s]=o.needsContext?se(s,this).index(u)>=0:se.find(s,this,null,[u]).length),r[s]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,s,o=i.button;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||G,r=n.documentElement,s=n.body,e.pageX=i.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[se.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Pe.test(r)?this.mouseHooks:Ce.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new se.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&se.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return se.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=se.extend(new se.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?se.event.trigger(r,null,t):se.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},se.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},se.Event=function(e,t){return this instanceof se.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,t&&se.extend(this,t),this.timeStamp=e&&e.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(e,t)},se.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=o,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return r&&(r===n||se.contains(n,r))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),se.support.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){se.event.simulate(t,e.target,se.event.fix(e),!0)};se.event.special[t]={setup:function(){0===i++&&G.addEventListener(e,n,!0)},teardown:function(){0===--i&&G.removeEventListener(e,n,!0)}}}),se.fn.extend({on:function(e,i,n,r,s){var o,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],s);return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),r===!1)r=a;else if(!r)return this;return 1===s&&(o=r,r=function(e){return se().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=se.guid++)),this.each(function(){se.event.add(this,e,r,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,se(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return i!==!1&&"function"!=typeof i||(n=i,i=t),n===!1&&(n=a),this.each(function(){se.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?se.event.trigger(e,t,i,!0):void 0}});var ke=/^.[^:#\[\.,]*$/,Ae=/^(?:parents|prev(?:Until|All))/,Re=se.expr.match.needsContext,Me={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(se(e).filter(function(){for(t=0;r>t;t++)if(se.contains(n[t],this))return!0}));for(t=0;r>t;t++)se.find(e,n[t],i);return i=this.pushStack(r>1?se.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t=se(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(se.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&Re.test(e)?se(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=Re.test(e)||"string"!=typeof e?se(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&se.find.matchesSelector(i,e))){i=s.push(i);break}return this.pushStack(s.length>1?se.unique(s):s)},index:function(e){return e?"string"==typeof e?te.call(se(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?se(e,t):se.makeArray(e&&e.nodeType?[e]:e),n=se.merge(this.get(),i);return this.pushStack(se.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return se.dir(e,"parentNode")},parentsUntil:function(e,t,i){return se.dir(e,"parentNode",i)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return se.dir(e,"nextSibling")},prevAll:function(e){return se.dir(e,"previousSibling")},nextUntil:function(e,t,i){return se.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return se.dir(e,"previousSibling",i)},siblings:function(e){return se.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return se.sibling(e.firstChild)},contents:function(e){return e.contentDocument||se.merge([],e.childNodes)}},function(e,t){se.fn[e]=function(i,n){var r=se.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=se.filter(n,r)),this.length>1&&(Me[e]||se.unique(r),Ae.test(e)&&r.reverse()),this.pushStack(r)}}),se.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?se.find.matchesSelector(n,e)?[n]:[]:se.find.matches(e,se.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var r=[],s=n!==t;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&se(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Le=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Ne=/^(?:checkbox|radio)$/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Be=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,se.fn.extend({text:function(e){return se.access(this,function(e){return e===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?se.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||se.cleanData(g(i)),i.parentNode&&(t&&se.contains(i.ownerDocument,i)&&f(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(se.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return se.clone(this,e,t)})},html:function(e){return se.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!De.test(e)&&!Ue[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ie,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(se.cleanData(g(i,!1)),i.innerHTML=e);i=0}catch(s){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=se.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],r=e[t++];r&&(n&&n.parentNode!==r&&(n=this.nextSibling),se(this).remove(),r.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=J.apply([],e);var n,r,s,o,a,l,u=0,c=this.length,h=this,f=c-1,m=e[0],v=se.isFunction(m);if(v||!(1>=c||"string"!=typeof m||se.support.checkClone)&&Ve.test(m))return this.each(function(n){var r=h.eq(n);v&&(e[0]=m.call(this,n,r.html())),r.domManip(e,t,i)});if(c&&(n=se.buildFragment(e,this[0].ownerDocument,!1,!i&&this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(s=se.map(g(n,"script"),p),o=s.length;c>u;u++)a=n,u!==f&&(a=se.clone(a,!0,!0),o&&se.merge(s,g(a,"script"))),t.call(this[u],a,u);if(o)for(l=s[s.length-1].ownerDocument,se.map(s,d),u=0;o>u;u++)a=s[u],je.test(a.type||"")&&!ge.access(a,"globalEval")&&se.contains(l,a)&&(a.src?se._evalUrl(a.src):se.globalEval(a.textContent.replace(Fe,"")))}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){se.fn[e]=function(e){for(var i,n=[],r=se(e),s=r.length-1,o=0;s>=o;o++)i=o===s?this:this.clone(!0),se(r[o])[t](i),Z.apply(n,i.get());return this.pushStack(n)}}),se.extend({clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=se.contains(e.ownerDocument,e);if(!(se.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||se.isXMLDoc(e)))for(o=g(a),s=g(e),n=0,r=s.length;r>n;n++)v(s[n],o[n]);if(t)if(i)for(s=s||g(e),o=o||g(a),n=0,r=s.length;r>n;n++)m(s[n],o[n]);else m(e,a);return o=g(a,"script"),o.length>0&&f(o,!l&&g(e,"script")),a},buildFragment:function(e,t,i,n){for(var r,s,o,a,l,u,c=0,h=e.length,p=t.createDocumentFragment(),d=[];h>c;c++)if(r=e[c],r||0===r)if("object"===se.type(r))se.merge(d,r.nodeType?[r]:r);else if(Le.test(r)){for(s=s||p.appendChild(t.createElement("div")),o=(Oe.exec(r)||["",""])[1].toLowerCase(),a=Ue[o]||Ue._default,s.innerHTML=a[1]+r.replace(Ie,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;se.merge(d,s.childNodes),s=p.firstChild,s.textContent=""}else d.push(t.createTextNode(r));for(p.textContent="",c=0;r=d[c++];)if((!n||-1===se.inArray(r,n))&&(l=se.contains(r.ownerDocument,r),s=g(p.appendChild(r),"script"),l&&f(s),i))for(u=0;r=s[u++];)je.test(r.type||"")&&i.push(r);return p},cleanData:function(e){for(var i,n,s,o,a,l,u=se.event.special,c=0;(n=e[c])!==t;c++){if(r.accepts(n)&&(a=n[ge.expando],a&&(i=ge.cache[a]))){if(s=Object.keys(i.events||{}),s.length)for(l=0;(o=s[l])!==t;l++)u[o]?se.event.remove(n,o):se.removeEvent(n,o,i.handle);ge.cache[a]&&delete ge.cache[a]}delete me.cache[n[me.expando]]}},_evalUrl:function(e){return se.ajax({url:e,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}}),se.fn.extend({wrapAll:function(e){var t;return se.isFunction(e)?this.each(function(t){se(this).wrapAll(e.call(this,t))}):(this[0]&&(t=se(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return se.isFunction(e)?this.each(function(t){se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=se(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=se.isFunction(e);return this.each(function(i){se(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}});var He,qe,We=/^(none|table(?!-c[ea]).+)/,Ge=/^margin/,ze=new RegExp("^("+oe+")(.*)$","i"),Xe=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Ye=new RegExp("^([+-])=("+oe+")","i"),Qe={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:0,fontWeight:400},Je=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];se.fn.extend({css:function(e,i){return se.access(this,function(e,i,n){var r,s,o={},a=0;if(se.isArray(i)){for(r=w(e),s=i.length;s>a;a++)o[i[a]]=se.css(e,i[a],!1,r);return o}return n!==t?se.style(e,i,n):se.css(e,i)},e,i,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?se(this).show():se(this).hide()})}}),se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=He(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,l=se.camelCase(i),u=e.style;return i=se.cssProps[l]||(se.cssProps[l]=y(u,l)),a=se.cssHooks[i]||se.cssHooks[l],n===t?a&&"get"in a&&(s=a.get(e,!1,r))!==t?s:u[i]:(o=typeof n,"string"===o&&(s=Ye.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(se.css(e,i)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||se.cssNumber[l]||(n+="px"),se.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(u[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,r))===t||(u[i]=n)),void 0)}},css:function(e,i,n,r){var s,o,a,l=se.camelCase(i);return i=se.cssProps[l]||(se.cssProps[l]=y(e.style,l)),a=se.cssHooks[i]||se.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,n)),s===t&&(s=He(e,i,r)),"normal"===s&&i in $e&&(s=$e[i]),""===n||n?(o=parseFloat(s),n===!0||se.isNumeric(o)?o||0:s):s}}),He=function(e,i,n){var r,s,o,a=n||w(e),l=a?a.getPropertyValue(i)||a[i]:t,u=e.style;return a&&(""!==l||se.contains(e.ownerDocument,e)||(l=se.style(e,i)),Xe.test(l)&&Ge.test(i)&&(r=u.width,s=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=r,u.minWidth=s,u.maxWidth=o)),l},se.each(["height","width"],function(e,t){se.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&We.test(se.css(e,"display"))?se.swap(e,Ke,function(){return C(e,t,n)}):C(e,t,n):void 0},set:function(e,i,n){var r=n&&w(e);return x(e,i,n?T(e,t,n,se.support.boxSizing&&"border-box"===se.css(e,"boxSizing",!1,r),r):0)}}}),se(function(){se.support.reliableMarginRight||(se.cssHooks.marginRight={get:function(e,t){return t?se.swap(e,{display:"inline-block"},He,[e,"marginRight"]):void 0}}),!se.support.pixelPosition&&se.fn.position&&se.each(["top","left"],function(e,t){se.cssHooks[t]={get:function(e,i){return i?(i=He(e,t),Xe.test(i)?se(e).position()[t]+"px":i):void 0}}})}),se.expr&&se.expr.filters&&(se.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},se.expr.filters.visible=function(e){return!se.expr.filters.hidden(e)}),se.each({margin:"",padding:"",border:"Width"},function(e,t){se.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Je[n]+t]=s[n]||s[n-2]||s[0];return r}},Ge.test(e)||(se.cssHooks[e+t].set=x)});var et=/%20/g,tt=/\[\]$/,it=/\r?\n/g,nt=/^(?:submit|button|image|reset|file)$/i,rt=/^(?:input|select|textarea|keygen)/i;se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=se.prop(this,"elements");return e?se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!se(this).is(":disabled")&&rt.test(this.nodeName)&&!nt.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var i=se(this).val();return null==i?null:se.isArray(i)?se.map(i,function(e){return{name:t.name,value:e.replace(it,"\r\n")}}):{name:t.name,value:i.replace(it,"\r\n")}}).get()}}),se.param=function(e,i){var n,r=[],s=function(e,t){t=se.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(e)||e.jquery&&!se.isPlainObject(e))se.each(e,function(){s(this.name,this.value)});else for(n in e)_(n,e[n],i,s);return r.join("&").replace(et,"+")},se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){se.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),se.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var st,ot,at=se.now(),lt=/\?/,ut=/#.*$/,ct=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dt=/^(?:GET|HEAD)$/,ft=/^\/\//,mt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gt=se.fn.load,vt={},yt={},bt="*/".concat("*");try{ot=W.href}catch(wt){ot=G.createElement("a"),ot.href="",ot=ot.href}st=mt.exec(ot.toLowerCase())||[],se.fn.load=function(e,i,n){if("string"!=typeof e&&gt)return gt.apply(this,arguments);var r,s,o,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l),e=e.slice(0,l)),se.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(s="POST"),a.length>0&&se.ajax({url:e,type:s,dataType:"html",data:i}).done(function(e){o=arguments,a.html(r?se("<div>").append(se.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){se.fn[t]=function(e){return this.on(t,e)}}),se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ot,type:"GET",isLocal:pt.test(st[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,se.ajaxSettings),t):R(se.ajaxSettings,e)},ajaxPrefilter:k(vt),ajaxTransport:k(yt),ajax:function(e,i){function n(e,i,n,a){var u,h,y,b,S,T=i;2!==w&&(w=2,l&&clearTimeout(l),r=t,o=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(b=M(p,x,n)),b=I(p,b,x,u),u?(p.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(se.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(se.etag[s]=S)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=b.state,h=b.data,y=b.error,u=!y)):(y=T,!e&&T||(T="error",0>e&&(e=0))),x.status=e,x.statusText=(i||T)+"",u?m.resolveWith(d,[h,T,x]):m.rejectWith(d,[x,T,y]),x.statusCode(v),v=t,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?h:y]),g.fireWith(d,[x,T]),c&&(f.trigger("ajaxComplete",[x,p]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var r,s,o,a,l,u,c,h,p=se.ajaxSetup({},i),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?se(d):se.event,m=se.Deferred(),g=se.Callbacks("once memory"),v=p.statusCode||{},y={},b={},w=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return r&&r.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||ot)+"").replace(ut,"").replace(ft,st[1]+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=se.trim(p.dataType||"*").toLowerCase().match(ae)||[""],null==p.crossDomain&&(u=mt.exec(p.url.toLowerCase()),p.crossDomain=!(!u||u[1]===st[1]&&u[2]===st[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(st[3]||("http:"===st[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=se.param(p.data,p.traditional)),A(vt,p,i,x),2===w)return x;c=p.global,c&&0===se.active++&&se.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!dt.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(lt.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=ct.test(s)?s.replace(ct,"$1_="+at++):s+(lt.test(s)?"&":"?")+"_="+at++)),p.ifModified&&(se.lastModified[s]&&x.setRequestHeader("If-Modified-Since",se.lastModified[s]),se.etag[s]&&x.setRequestHeader("If-None-Match",se.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+bt+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(d,x,p)===!1||2===w))return x.abort();S="abort";for(h in{success:1,error:1,complete:1})x[h](p[h]);if(r=A(yt,p,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,r.send(y,n)}catch(T){if(!(2>w))throw T;n(-1,T)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return se.get(e,t,i,"json")},getScript:function(e,i){return se.get(e,t,i,"script")}}),se.each(["get","post"],function(e,i){se[i]=function(e,n,r,s){return se.isFunction(n)&&(s=s||r,r=n,n=t),se.ajax({url:e,type:i,dataType:s,data:n,success:r})}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return se.globalEval(e),e}}}),se.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),se.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=se("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){i&&i()}}}});var St=[],xt=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||se.expando+"_"+at++;return this[e]=!0,e}}),se.ajaxPrefilter("json jsonp",function(i,n,r){var s,o,a,l=i.jsonp!==!1&&(xt.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=se.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(xt,"$1"+s):i.jsonp!==!1&&(i.url+=(lt.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||se.error(s+" was not called"),a[0]},i.dataTypes[0]="json",o=e[s],e[s]=function(){a=arguments},r.always(function(){e[s]=o,i[s]&&(i.jsonpCallback=n.jsonpCallback,St.push(s)),a&&se.isFunction(o)&&o(a[0]),a=o=t}),"script"):void 0}),se.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=se.ajaxSettings.xhr(),Ct={0:200,1223:204},Pt=0,Et={};e.ActiveXObject&&se(e).on("unload",function(){for(var e in Et)Et[e]();Et=t}),se.support.cors=!!Tt&&"withCredentials"in Tt,se.support.ajax=Tt=!!Tt,se.ajaxTransport(function(e){var i;return se.support.cors||Tt&&!e.crossDomain?{send:function(n,r){var s,o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)a.setRequestHeader(s,n[s]);i=function(e){return function(){i&&(delete Et[o],i=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?r(a.status||404,a.statusText):r(Ct[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=i(),a.onerror=i("error"),i=Et[o=Pt++]=i("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){i&&i()}}:void 0});var _t,kt,At=/^(?:toggle|show|hide)$/,Rt=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),Mt=/queueHooks$/,It=[V],Ot={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=Rt.exec(t),s=r&&r[3]||(se.cssNumber[e]?"":"px"),o=(se.cssNumber[e]||"px"!==s&&+n)&&Rt.exec(se.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+n||1;do a=a||".5",o/=a,se.style(i.elem,e,o+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=s,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};se.Animation=se.extend(D,{tweener:function(e,t){se.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],Ot[i]=Ot[i]||[],Ot[i].unshift(t)},prefilter:function(e,t){t?It.unshift(e):It.push(e)}}),se.Tween=j,j.prototype={constructor:j,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(se.cssNumber[i]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,i=j.propHooks[this.prop];return this.options.duration?this.pos=t=se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){se.fx.step[e.prop]?se.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[se.cssProps[e.prop]]||se.cssHooks[e.prop])?se.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},se.each(["toggle","show","hide"],function(e,t){var i=se.fn[t];se.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(B(t,!0),e,n,r)}}),se.fn.extend({fadeTo:function(e,t,i,n){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=se.isEmptyObject(e),s=se.speed(t,i,n),o=function(){var t=D(this,se.extend({},e),s);(r||ge.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=se.timers,o=ge.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&Mt.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||se.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ge.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=se.timers,o=n?n.length:0;for(i.finish=!0,se.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),se.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){se.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),se.speed=function(e,t,i){var n=e&&"object"==typeof e?se.extend({},e):{complete:i||!i&&t||se.isFunction(e)&&e,duration:e,easing:i&&t||t&&!se.isFunction(t)&&t};return n.duration=se.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in se.fx.speeds?se.fx.speeds[n.duration]:se.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){se.isFunction(n.old)&&n.old.call(this),n.queue&&se.dequeue(this,n.queue)},n},se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},se.timers=[],se.fx=j.prototype.init,se.fx.tick=function(){var e,i=se.timers,n=0;for(_t=se.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||se.fx.stop(),_t=t},se.fx.timer=function(e){e()&&se.timers.push(e)&&se.fx.start()},se.fx.interval=13,se.fx.start=function(){kt||(kt=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(kt),kt=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fx.step={},se.expr&&se.expr.filters&&(se.expr.filters.animated=function(e){return se.grep(se.timers,function(t){return e===t.elem}).length}),se.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){se.offset.setOffset(this,e,t)});var i,n,r=this[0],s={top:0,left:0},o=r&&r.ownerDocument;if(o)return i=o.documentElement,se.contains(i,r)?(typeof r.getBoundingClientRect!==q&&(s=r.getBoundingClientRect()),n=F(o),{top:s.top+n.pageYOffset-i.clientTop,left:s.left+n.pageXOffset-i.clientLeft}):s},se.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,u,c=se.css(e,"position"),h=se(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),s=se.css(e,"top"),l=se.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),se.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(p.top=t.top-a.top+o),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):h.css(p)}},se.fn.extend({position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===se.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),se.nodeName(e[0],"html")||(n=e.offset()),n.top+=se.css(e[0],"borderTopWidth",!0),n.left+=se.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-se.css(i,"marginTop",!0),left:t.left-n.left-se.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||z;e&&!se.nodeName(e,"html")&&"static"===se.css(e,"position");)e=e.offsetParent;return e||z})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var r="pageYOffset"===n;se.fn[i]=function(s){return se.access(this,function(i,s,o){var a=F(i);return o===t?a?a[n]:i[s]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):i[s]=o)},i,s,arguments.length,null)}}),se.each({Height:"height",Width:"width"},function(e,i){se.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){se.fn[r]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||s===!0?"margin":"border");return se.access(this,function(i,n,r){var s;return se.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+e],s["scroll"+e],i.body["offset"+e],s["offset"+e],s["client"+e])):r===t?se.css(i,n,a):se.style(i,n,r,a)},i,o?r:t,o,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=se:"function"==typeof define&&define.amd&&define("jquery",[],function(){return se}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=se)}(window),define("helpers/jqueryHelpers",["require","jquery","lodash"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n="active",r="hidden",s="offscreen";t.fn.activate=i.partial(t.fn.addClass,n),t.fn.deactivate=i.partial(t.fn.removeClass,n),t.fn.toggleActive=i.partial(t.fn.toggleClass,n),t.fn.isActive=i.partial(t.fn.hasClass,n),t.fn.hideByClass=i.partial(t.fn.addClass,r),t.fn.showByClass=i.partial(t.fn.removeClass,r),t.fn.isHiddenByClass=i.partial(t.fn.hasClass,r),t.fn.sendOffscreen=i.partial(t.fn.addClass,s),t.fn.bringOnscreen=i.partial(t.fn.removeClass,s),t.fn.isOffscreen=i.partial(t.fn.hasClass,s),t.expr[":"].action=function(e,t,i,n){var r=i[3],s=e.getAttribute("data-action");return r?s===r:null!=s},t.fn.cssPosition=function(){var e=t(this);return{left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)}}}),function(){"use strict";require.config({map:{"*":{underscore:"lodash"}}})}(),define("helpers/lodashMap",function(){}),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(i,n,r){e.Backbone=t(e,r,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){var r=e.Backbone,s=[],o=(s.push,s.slice);s.splice;t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,i){if(!u(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var r=this,s=i.once(function(){r.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,n)},off:function(e,t,n){var r,s,o,a,l,c,h,p;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(a=e?[e]:i.keys(this._events),l=0,c=a.length;c>l;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=r=[],t||n)for(h=0,p=o.length;p>h;h++)s=o[h],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&r.push(s);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!u(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&c(i,t),n&&c(n,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var s=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,n,this),(s||i.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,u=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)e[t].apply(e,[r,i[r]].concat(n));return!1}if(l.test(i)){for(var s=i.split(l),o=0,a=s.length;a>o;o++)e[t].apply(e,[s[o]].concat(n));return!1}return!0},c=function(e,t){var i,n=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++n<r;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=e[n]).callback.apply(i.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};i.each(h,function(e,t){a[t]=function(t,n,r){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=i.uniqueId("l"));return s[o]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(t,a);var p=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,s,o,a,l,u,c,h;if(null==e)return this;if("object"==typeof e?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;o=n.unset,l=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(r in s)t=s[r],i.isEqual(h[r],t)||a.push(r),i.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete h[r]:h[r]=t;if(!l){a.length&&(this._pending=n);for(var p=0,d=a.length;d>p;p++)this.trigger("change:"+a[p],this,h[a[p]],n)}if(u)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in e)i.isEqual(r[s],t=e[s])||((n||(n={}))[s]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},V(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,s,o,a=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=i.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=i.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=i.extend(r||{},t)),i.isObject(t)&&!l.set(t,n)?!1:(u&&u(l,e,n),void l.trigger("sync",l,e,n))},V(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=r),o=this.sync(s,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;V(this,e);var s=this.sync("delete",this,e);return e.wait||r(),s},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||N();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];i.each(d,function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,a,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,g))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e),t||(t={});var r,s,o,a;for(r=0,s=e.length;s>r;r++)a=e[r]=this.get(e[r]),a&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a,t));return n?e[0]:e},set:function(e,t){t=i.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var r,s,o,a,l,u,c,h=t.at,d=this.model,f=this.comparator&&null==h&&t.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,S=t.merge,x=t.remove,T=!f&&w&&x?[]:!1;for(r=0,s=e.length;s>r;r++){if(l=e[r]||{},o=l instanceof p?a=l:l[d.prototype.idAttribute||"id"],u=this.get(o))x&&(b[u.cid]=!0),S&&(l=l===a?a.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),f&&!c&&u.hasChanged(g)&&(c=!0)),e[r]=u;else if(w){if(a=e[r]=this._prepareModel(l,t),!a)continue;v.push(a),this._addReference(a,t)}a=u||a,!T||!a.isNew()&&b[a.id]||T.push(a),b[a.id]=!0}if(x){for(r=0,s=this.length;s>r;++r)b[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||T&&T.length)if(f&&(c=!0),this.length+=v.length,null!=h)for(r=0,s=v.length;s>r;r++)this.models.splice(h+r,0,v[r]);else{T&&(this.models.length=0);var C=T||v;for(r=0,s=C.length;s>r;r++)this.models.push(C[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,s=v.length;s>r;r++)(a=v[r]).trigger("add",a,this,t);(c||T&&T.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null!=e?this._byId[e]||this._byId[e.id]||this._byId[e.cid]:void 0},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e;t=t?i.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),
!1):n},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(v,function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(e){f.prototype[e]=function(t,n){var r=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,r,n)}});var b=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];i.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var r=t.match(w),s=r[1],o=r[2];n=i.bind(n,this),s+=".delegateEvents"+this.cid,""===o?this.$el.on(s,n):this.$el.on(s,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var s=T[e];i.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||N()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&x&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(i.extend(o,r));return n.trigger("request",n,l,r),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,_=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(C.prototype,a,{initialize:function(){},route:function(e,n,r){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var s=this;return t.history.route(e,function(i){var o=s._extractParameters(e,i);s.execute(r,o),s.trigger.apply(s,["route:"+n].concat(o)),s.trigger("route",n,o),t.history.trigger("route",s,n,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(k,"\\$&").replace(P,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/?]+)"}).replace(_,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,M=/^\/+|\/+$/g,I=/msie [\w.]+/,O=/\/$/,L=/#.*$/;A.started=!1,i.extend(A.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(O,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(R,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,s=I.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(M,"/"),s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(R,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!A.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(L,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new A;var D=function(e,t){var n,r=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,t);var s=function(){this.constructor=n};return s.prototype=r.prototype,n.prototype=new s,e&&i.extend(n.prototype,e),n.__super__=r.prototype,n};p.extend=f.extend=C.extend=b.extend=A.extend=D;var N=function(){throw new Error('A "url" property or function must be specified')},V=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),define("helpers/backboneSync",["require","jquery","lodash","backbone"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n=e("backbone"),r="Must provide a url to fetch model",s="Could not fetch model",o={},a=function(e){return i.first(i.last(e.split("/")).split("."))},l=function(e){var i=new t.Deferred,n=i.promise(),r=t("<script/>"),s={load:i.resolve.bind(i),error:i.reject.bind(i)};return r.on(s).attr("src",e),document.head.appendChild(r[0]),n.always(r.off.bind(r,s)),n},u={origSync:n.sync,scriptSync:function(e,n,u){var c,h=u.url||i.result(n,"url"),p=new t.Deferred,d=p.promise();return h?(c=n.id||a(h),l(h).done(function(){var e=o[c];o[c]=null,u.success(e),p.resolve(e)}).fail(function(){u.error(s),p.reject(s)}),d):(p.reject(r),d)},sync:function(e,t,i){var n="read"===e?"scriptSync":"origSync";return u[n].apply(this,arguments)}};return n.sync=u.sync,window.globalProvideData=function(e,t){var i=JSON.parse(t),n="slide"===e?i.id:e;o[n]=i},u}),define("helpers/pubSub",["require","backbone","lodash"],function(e){"use strict";var t=e("backbone"),i=e("lodash"),n=i.extend({},t.Events);return n}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(i){return}var n,r=e.href||e.getAttribute("data-href"),s=r.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(s)||[""])[0],a=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(s)||[""])[0],l=/^([^?]*)\??/.exec(r)[1],u=e.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&n()},n=function(){var i=c.responseText;if(i&&e.parentNode&&(!c.status||400>c.status||600<c.status)){if(i=t.fix(i,!0,e),s)var i=i.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+o+i+'")':/^\//.test(i)?'url("'+a+i+'")':/^\?/.test(i)?'url("'+l+i+'")':'url("'+s+i+'")'}),n=s.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),i=i.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1");n=document.createElement("style"),n.textContent=i,n.media=e.media,n.disabled=e.disabled,n.setAttribute("data-href",e.getAttribute("href")),u.insertBefore(n,e),u.removeChild(e),n.media=e.media}};try{c.open("GET",r),c.send(null)}catch(h){"undefined"!=typeof XDomainRequest&&(c=new XDomainRequest,c.onerror=c.onprogress=function(){},c.onload=n,c.open("GET",r),c.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var i=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=i}},styleAttribute:function(e){var i=e.getAttribute("style"),i=t.fix(i,!1,e);e.setAttribute("style",i)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,i){(t.fixers=t.fixers||[]).splice(void 0===i?t.fixers.length:i,0,e)},fix:function(e,i,n){for(var r=0;r<t.fixers.length;r++)e=t.fixers[r](e,i,n)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};!function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}()}}(),function(e){function t(e,t,n,r,s){return e=i[e],e.length&&(e=RegExp(t+"("+e.join("|")+")"+n,"gi"),s=s.replace(e,r)),s}if(window.StyleFix&&window.getComputedStyle){var i=window.PrefixFree={prefixCSS:function(e,n,r){var s=i.prefix;if(-1<i.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+s+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+s+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+s+"$2:",e),i.properties.length){var o=RegExp("\\b("+i.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(o,s+"$1")},e)}return n&&(e=t("selectors","","\\b",i.prefixSelector,e),e=t("atrules","@","\\b","@"+s+"$1",e)),e=e.replace(RegExp("-"+s,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,i.prefix)},property:function(e){return(0<=i.properties.indexOf(e)?i.prefix:"")+e},value:function(e,n){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+i.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+i.prefix+"$2$3",e),0<=i.valueProperties.indexOf(n)&&(e=t("properties","(^|\\s|,)","($|\\s|,)","$1"+i.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+i.prefix})},prefixProperty:function(e,t){var n=i.prefix+e;return t?StyleFix.camelCase(n):n}};!function(){var e={},t=[],n=getComputedStyle(document.documentElement,null),r=document.createElement("div").style,s=function(i){if("-"===i.charAt(0)){t.push(i),i=i.split("-");var n=i[1];for(e[n]=++e[n]||1;3<i.length;)i.pop(),n=i.join("-"),StyleFix.camelCase(n)in r&&-1===t.indexOf(n)&&t.push(n)}};if(0<n.length)for(var o=0;o<n.length;o++)s(n[o]);else for(var a in n)s(StyleFix.deCamelCase(a));var l,u,o=0;for(u in e)n=e[u],n>o&&(l=u,o=n);for(i.prefix="-"+l+"-",i.Prefix=StyleFix.camelCase(i.prefix),i.properties=[],o=0;o<t.length;o++)a=t[o],0===a.indexOf(i.prefix)&&(l=a.slice(i.prefix.length),StyleFix.camelCase(l)in r||i.properties.push(l));!("Ms"!=i.Prefix||"transform"in r||"MsTransform"in r)&&"msTransform"in r&&i.properties.push("transform","transform-origin"),i.properties.sort()}(),function(){function e(e,t){return s[t]="",s[t]=e,!!s[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var n={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};i.functions=[],i.keywords=[];var r,s=document.createElement("div").style;for(r in t){var o=t[r],a=o.property,o=r+"("+o.params+")";!e(o,a)&&e(i.prefix+o,a)&&i.functions.push(r)}for(var l in n)a=n[l],!e(l,a)&&e(i.prefix+l,a)&&i.keywords.push(l)}(),function(){function t(e){return o.textContent=e+"{}",!!o.sheet.cssRules.length}var n={":read-only":null,":read-write":null,":any-link":null,"::selection":null},r={keyframes:"name",viewport:null,document:'regexp(".")'};i.selectors=[],i.atrules=[];var s,o=e.appendChild(document.createElement("style"));for(s in n){var a=s+(n[s]?"("+n[s]+")":"");!t(a)&&t(i.prefixSelector(a))&&i.selectors.push(s)}for(var l in r)a=l+" "+(r[l]||""),!t("@"+a)&&t("@"+i.prefix+a)&&i.atrules.push(l);e.removeChild(o)}(),i.valueProperties=["transition","transition-property"],e.className+=" "+i.prefix,StyleFix.register(i.prefixCSS)}}(document.documentElement),define("prefix-free",function(e){return function(){var t;return t||e.PrefixFree}}(this)),define("helpers/cssPrefix",["require","prefix-free"],function(e){"use strict";var t=e("prefix-free"),i={},n=function(e){var i=t.prefixCSS(e+":").replace(":","");return i.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},r={camelCase:function(e){var t=i[e]||n(e);return i[e]=t,t},kebabCase:function(e){return t.prefix+e}};return r}),define("polyfills/audioContext",[],function(){"use strict";return window.AudioContext||window.webkitAudioContext}),define("polyfills/detection",["require","lodash","helpers/pubSub","helpers/cssPrefix","polyfills/audioContext"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=(e("helpers/cssPrefix"),e("polyfills/audioContext")),r=window.navigator.userAgent.toLowerCase(),s=function(){var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return e=null,null!=t}(),o=function(e){return new RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent)},a=window.isMobile.any,l=window.isMobile.android.device,u=/(\?|&)forcemobile=1(&|$)/.test(window.location.search),c=/(\?|&)noframe=1(&|$)/.test(window.location.search),h={isMobilePreview:u,isMobileAndNotPreview:a&&!u,isMobile:u||a,isAndroid:l,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),hideFrame:c,isWebKit:function(){return r.indexOf("webkit")>-1},isFF:function(){return r.indexOf("firefox")>-1},isIE:function(){return"ActiveXObject"in window||null!=window.MSBlobBuilder},isIOS:function(){return/(ipad|iphone)/i.test(r)},isWebView:function(){return h.isIOS()&&r.indexOf("version")<0},isUIWebView:function(){return h.isWebView()&&!window.indexedDB},iOSVersion:t.memoize(function(){if(this.isIOS()){var e=/os ([0-9]+)_/.exec(r);return e&&parseInt(e[1])}}),isIosPhoneBefore10:function(){return this.isPhone&&this.isIOS()&&this.iOSVersion()<10},isIE11:function(){return this.isIE()&&null!=window.msCrypto&&!window.ActiveXObject},isIE10:function(){return o(10)},isEdge:function(){return this.isIE()&&null==window.msCrypto&&s},isFileProtocol:function(){return"file:"===document.location.protocol},hasAudioApi:function(){return n&&(!h.isFileProtocol()||h.isMobileAndNotPreview)},isTablet:window.isMobile.tablet,isPhone:window.isMobile.phone,is360:null!=window.vInterfaceObject&&window.autoSpider,forceHideOrientationWarning:!1};h.data360={toggleFullScreen:h.is360&&h.isTablet},h.heightScalar=1,h.prevOrientation=null;var p=h.isAndroid?function(){var e;h.forceHideOrientationWarning=!1,e=window.screen.height>window.screen.width?"portrait":"landscape",h.orientation!==e&&(h.forceHideOrientationWarning=!0)}:t.identity,d=function(){document.querySelector(".option-pane"),document.getElementById("presentation");window.innerHeight>window.innerWidth?h.orientation="portrait":h.orientation="landscape",h.innerHeight=window.innerHeight,h.innerWidth=window.innerWidth,p(),(h.orientation!==h.prevOrientation||h.forceHideOrientationWarning)&&(i.trigger("detection:orientationChange",{orientation:h.orientation}),h.prevOrientation=h.orientation)};return d(),window.addEventListener("resize",d),h}),define("polyfills/fileProtocolOverrides",["require","lodash","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n={formatSrcUrl:i.isFileProtocol()&&i.isIE()?function(e){return i.isIE10()?"file://"+e:document.location.origin+e}:t.identity};return n}),define("helpers/constants",["require"],function(e){"use strict";var t=window.globals,i=(window.location.protocol,window.location.host,window.location.pathname),n=i.split(/\/+/).slice(0,-1).join("/"),r=t.DATA_PATH_BASE+"/html5/data/js",s={player:{},PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[t.DATA_PATH_BASE,n].join(""),PRESENTATION_DATA_URL:[n,r].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CONTROL",18:"ALT",20:"CAPS_LOCK",27:"ESCAPE",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15"}};return Object.freeze(s),Object.freeze(s.refs),Object.freeze(s.varTypes),Object.freeze(s.statuses),Object.freeze(s.tabIndices),Object.freeze(s.math),Object.freeze(s.keys),s}),define("helpers/utils",["require","lodash","polyfills/fileProtocolOverrides","helpers/constants","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/fileProtocolOverrides"),n=e("helpers/constants"),r=e("polyfills/detection"),s=5,o="ds",a=/[\u0600-\u06FF]/,l=function(e,t){var n=y.slice(t);return n.unshift(e),i.formatSrcUrl(n.join("/"))},u=function(e){var i=t.rest(arguments);return function(){var n=t.toArray(arguments);return i[e](function(e){return e.apply(null,n)})}},c=function(e){return e+"."},h=function(e,t){return t.replace(e,"")},p=function(e,t){return e===t},d=function(e,t){return t.charAt(0)[e]()+t.slice(1)},f=function(e,t){return[e,t,e].join("")},m=function(e,i){if(null!=e){if(0===i.length)return e;var n=t.first(i),r=t.rest(i),s="$"===n.charAt(0)?"prop":"get",o=function(e){return"get"===s?e:e.slice(1)};return n=null!=e[n]&&t.isFunction(e[n])?e[n]():null!=e[n]?e[n]:e[s]&&e[s](o(n)),m(n,r)}},g=function(e){return"{"===e.charAt(0)&&(e=JSON.parse(e)),e},v=function(e){return e.split("=").map(decodeURIComponent).map(g)},y={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(e,t){return m(e,t.split("."))},fix:function(e,t){return+e.toFixed(null!=t?t:s)},toSeconds:function(e){return e/1e3},toMilliseconds:function(e){return y.fix(1e3*e,0)},formatSecondsAsTime:function(e){var t,i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),r=Math.floor(e-3600*i-60*n),s=function(e){return 10>e?"0"+e:e};return n=s(n),r=s(r),t=[n,r],i>=1&&t.unshift(i),t.join(":")},hexify:function(e){return"#"+e.replace(/0x|#/,"")},opacify:function(e){return e/100},rgbify:function(e,t){var i=this.hexify(e).replace("#",""),n=parseInt(i,16),r=n>>16&255,s=n>>8&255,o=255&n,a=[r,s,o],l=null!=t,u="rgb"+(l?"a":"");return l&&a.push(t),[u,"(",a.join(","),")"].join("")},toRgba:function(e,t){return y.rgbify(e,y.opacify(t))},octToDec:function(e){return e/255},decToPct:function(e,t){var i=y.fix(100*e);return t?i+"%":i},stopPct:function(e){return y.decToPct(y.octToDec(e))},pctToDec:function(e,t){return y.fix(parseFloat(e)/100,t)},add:function(e,t){return(e||0)+(t||0)},sum:function(){return t.reduce(arguments,y.add,0)},upperCaseFirst:t.partial(d,"toUpperCase"),lowerCaseFirst:t.partial(d,"toLowerCase"),slice:t.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return l(n.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return l(n.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(e,t,i){return Math.max(Math.min(i,t),e)},isWithinRange:function(e,t,i){return i>=e&&t>=i},hasProp:function(e,t){if(null==e)return!1;for(var i,n=e,r=t.split(".");i=r.shift();){if(null==n[i])return!1;n=n[i]}return!0},not:function(e){return function(){return!e.apply(this,arguments)}},take:function(e,i,n){return function(){return i.apply(n,t.take(arguments,e))}},invertPercent:function(e){return 1-e},andify:t.partial(u,"every"),orify:t.partial(u,"some"),is:p,isTrue:t.partial(p,!0),isFalse:t.partial(p,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(e,t,i){return new e(i,t)},createSuper:function(e){return function(t){return e.prototype[t]}},cloneDeeply:function(e){return JSON.parse(JSON.stringify(e))},buildEventNamespace:function(e){return"."+o+(e||"")},namespaceEvent:function(e,t){return e+y.buildEventNamespace(t)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},hypot:function(e,t){return Math.sqrt(e*e+t*t)},dist:function(e,t,i,n){var r=e-i,s=t-n;return this.hypot(r,s)},degToRad:function(e){return e*n.math.TO_RADIANS},radToDeg:function(e){return e*n.math.TO_DEGREES},normalizeDeg:function(e){for(var t=e;0>t;)t+=360;return t%360},stripTags:function(e,i,n){var r=document.createElement("div"),s=n?["<",n,">"].join(""):"",o=s.replace("<","</");return r.innerHTML=e,i?t(r.querySelectorAll(i)).map(function(e){return[s,e.innerHTML,o].join("")}).join(""):r.textContent},stripTagsMobile:function(e,t,i){return r.isMobile?y.stripTags(e,t,i):e},camelCaseAttr:function(e,t){return e=t?e:e.toLowerCase(),e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},stripPlayer:t.partial(h,c(n.refs.PLAYER)),stripChoice:t.partial(h,c(n.refs.CHOICES)),stripStatement:t.partial(h,c(n.refs.STMTS)),prefixWithPlayer:function(e){return n.refs.PLAYER+"."+y.stripPlayer(e)},parseParams:function(e){return e=e||window.location.search.substr(1),t.object(e.split("&").map(function(e){return e.split("=")}))},applyMethod:function(e,i){var n=t.slice(arguments,2);return i=t.isArray(i)?i:[i],n.unshift(i,e),t.invoke.apply(t,n)},pxify:function(e){return[e,"px"].join("")},shallowEqual:function(e,t){if(e===t)return!0;var i;for(i in e)if(e.hasOwnProperty(i)&&(!t.hasOwnProperty(i)||e[i]!==t[i]))return!1;for(i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0},doubleQuote:t.partial(f,'"'),quote:t.partial(f,"'"),toCssUrl:function(e){return["url(",this.quote(e),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var e,i=this.getWindowSearch();return e=i.split("&"),t.zipObject(e.map(v))},rotatePoint:function(e,t,i,n,r){r=y.degToRad(r);var s=e-i,o=t-n,a=Math.cos(r),l=Math.sin(r);return{x:a*s-l*o+i,y:l*s+a*o+n}},pointInRect:function(e,t,i){var n=i[0][0],r=i[0][1],s=i[1][0],o=i[1][1];return e>=n&&s>=e&&t>=r&&o>=t},showTimer:function(e,i){t(e.refs).pick(function(e,t){return 0===t.indexOf("timer")&&e!==i}).forOwn(function(e){e.onHide()}).value()},dateToString:function(e){if(null==e)return"";var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return[t[e.getMonth()]," ",e.getDate(),", ",e.getFullYear()].join("")},timeToString:function(e){if(null==e)return"";var t=e.getHours(),i=e.getMinutes(),n="am";return 10>i&&(i="0"+i),t>12&&(t-=12,n="pm"),[t,":",i," ",n].join("")},parseUrl:function(e){var i=document.createElement("a");return i.href=e,t.pick(i,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(e){return a.test(e)},ellipsize:function(e,t){return null==e||e.length<=t?e:[e.substr(0,t),""].join("")},generateHash:function(e){var t,i,n=0,r=e.length;for(i=0;r>i;i++)t=e.charCodeAt(i),n=31*n+t,n|=0;return n}};return y}),define("helpers/vow",["require","jquery","lodash","helpers/utils"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n=e("helpers/utils"),r={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},s=function(e,t){return t.state()===e},o={Deferred:t.Deferred,when:t.when,after:function(){var e=new o.Deferred,t=n.slice(arguments),i=[],r=function(){return t.length===i.length},s=function(n){i.push(n),r()&&e.resolve.apply(e,t)};return t.length?t.forEach(function(e){e.always(function(){s(e)})}):e.resolve(),e.promise()},isPending:i.partial(s,r.PENDING),isResolved:i.partial(s,r.RESOLVED),isRejected:i.partial(s,r.REJECTED)};return o}),define("helpers/debug",["require","helpers/pubSub","helpers/vow"],function(e){"use strict";var t=e("helpers/pubSub"),i=(e("helpers/vow"),{initialize:function(e,t,i){this.debugMode=e.get("debugMode"),this.setGlobals(e,t,i)},setGlobals:function(e,t,i){this.debugMode&&(window.presentation=e,window.player=t,window.app=i)},throwError:function(){this.debugMode===!0&&t.trigger("player:error")}});return i}),define("helpers/errorManager",["require","lodash","helpers/debug"],function(e){"use strict";var t=e("lodash"),i=e("helpers/debug"),n=t.curry(function(e,i,n,r){var s=t.slice(arguments,3).join(" ");e([i,"::",n," - ",s].join(""))},4),r={throwFatal:n(function(e){throw new Error(e)}),throwError:n(function(e){var t=i.debugMode?"error":"warn";console[t](e),i.throwError()}),warn:n(function(e){console.warn(e)}),backtick:function(e){return["`",e,"`"].join("")}};return r}),define("helpers/mixer",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=(i.throwError("mixer"),i.backtick,function(e,t){var i,n,s=r[e],o=t.mixins.slice(0);for(n=o.length;n--;)i=o[n],null!=i[e]&&i[e].call(t),null!=i[s]&&i[s].call(t);return this}),r={init:"componentWillMount"},s=["preInit","init","postInit"],o=t.partialRight(t.omit,s),a={mixInto:function(e,i){return t.defaults.apply(t,t(i).map(o).unshift(e).value()),e},mix:function(e){return this.mixInto(e,e.mixins),e}};return s.forEach(function(e){var i=e+"MixinsOf";a[i]=t.partial(n,e)}),a}),define("helpers/extend",["require","lodash","backbone","helpers/mixer"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/mixer"),r=t.partialRight(t.omit,"mixins"),s=i.Model.extend,o=function(e,i){var o;return e=e||{},t.isArray(e)||(e=[e]),e=e.filter(t.isPlainObject),o=t.extend.apply(t,e.map(r)),o.mixins=t(e).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(t.isPlainObject).uniq().value(),n.mix(o),s.call(this,o,i)};return"Model Collection View Router History".split(" ").forEach(function(e){i[e].extend=o}),o}),define("helpers/svg/svgUtils",["require","lodash","helpers/utils","helpers/constants","helpers/cssPrefix"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),r=e("helpers/cssPrefix"),s=n.XMLNS_XLINK,o=n.XMLNS,a=n.math.TWO_PI,l=function(e){return function(){return t.toArray(arguments).concat(e)}},u=function(e,i,n){var r,s=l(t.slice(arguments,3));return r=i.apply(null,s(n)),r=e.apply(null,s(s,i,r,n))},c=function(e,t,i,n){return null!=i&&i!==!1||!n.children||n.children.every(function(n){var r=e(t,n),s=d.getFromNodeConfig.apply(null,r);return null!=s&&s!==!1?(i=s,!1):!0}),i},h=function(e,i,n){return n.children&&!n.children.skipTraversal&&(n.children=n.children.map(function(n){if(t.isString(n))return n;var r=e(i,n);return p.apply(null,r)})),n},p=t.partial(u,h),d={isNodeOfType:function(e,t){var i;return t&&(i=t.tagName||t.nodeType),i?e.toLowerCase()===i.toLowerCase():!1},svgPrefix:function(e){return[n.SVG_NODE_PREFIX,e].join(n.NODE_DELIMITER)},buildTransformFromConfigFn:function(e){var t=e.args.slice();return t.unshift(e.type),d.buildTransformFn.apply(this,t)},buildTransformFn:function(e){for(var i=arguments.length,n=new Array(i),r=0;i>r;++r)n[r]=arguments[r];return[e,"(",t.rest(n).join(", "),")"].join("")},buildTransformConfig:function(e){return{type:e,args:t.rest(arguments)}},applyTransformTo:function(e,t){return e.transform=[t],e},getTransformOf:function(e){return e.transform=e.transform||[],e.transform},transformNodeConfig:function(e,i){t.isFunction(e.beforeStart)&&e.beforeStart();var n=p.apply(null,arguments);return t.isFunction(e.afterFinish)&&(n=e.afterFinish(n)),
n},getFromNodeConfig:t.partial(u,c),getFullSvgConfig:function(e,n,a){var l={height:n.fullHeight+Math.ceil(n.strokewidth/2),width:n.fullWidth+Math.ceil(n.strokewidth/2)},u={nodeType:"svg",xmlns:o,"xmlns:xlink":s,"data-xmlns-xlink":s,version:"1.1",baseprofile:"full",height:n.fullHeight,width:n.fullWidth,viewBox:[n.fullX,n.fullY,n.fullWidth,n.fullHeight].join(" "),children:[e],"data-commandset-id":a,"data-accepts":"events",ref:t.uniqueId("ref-")};return l[r.camelCase("transform")]=d.transformTranslate(i.pxify(n.fullX),i.pxify(n.fullY)),{nodeType:"div",className:"slideobject-maskable",style:l,children:[u]}},createSvgNode:function(e,t){var i=document.createElementNS(o,"svg");return i.setAttribute("width",e),i.setAttribute("height",t),i},getFirstTransformOfType:function(e,i){return t.find(i,{type:e})},buildUrl:function(e){return["url(#",e,")"].join("")},createElement:function(e){return document.createElementNS(o,e)},rectPath:function(e,t,i,n){var r=e+i,s=t+n;return["M",e,t,"L",r,t,r,s,e,s].join(" ")},ellipsePath:function(e,t,i,n){var r=2*i;return["M",e,t,"m",-i,0,"a",i,n,0,1,0,r,0,"a",i,n,0,1,0,-r,0].join(" ")},diamondPath:function(e,t,i,n){var r=i/2,s=n/2,o=r+e,a=s+t;return["M",o,t,"L",i+e,a,o,n+t,e,a].join(" ")},rightRoundedRectPath:function(e,t,i,n,r){return["M",e,t,"h",i-r,"a",r,r,"0 0 1",r,r,"v",n-2*r,"a",r,r,"0 0 1",-r,r,"h",r-i,"z"].join(" ")},wheelPath:function(e,t,n,r,s){if(!s)return"";r=i.degToRad(r),s=i.degToRad(s),s===a&&(s=a-1e-5);var o=s-r>Math.PI?1:0,l=i.fix(n*Math.cos(r),4),u=i.fix(n*Math.sin(r),4),c=i.fix(e+n*Math.cos(s),4),h=i.fix(t+n*Math.sin(s),4);return["M",e,t,"l",l,u,"A",n,n,0,o,1,c,h,"z"].join(" ")}};return d.getFirstTranslate=t.partial(d.getFirstTransformOfType,"translate"),d.getFirstRotate=t.partial(d.getFirstTransformOfType,"rotate"),d.getFirstScale=t.partial(d.getFirstTransformOfType,"scale"),d.buildTranslateConfig=t.partial(d.buildTransformConfig,"translate"),d.buildRotateConfig=t.partial(d.buildTransformConfig,"rotate"),d.buildScaleConfig=t.partial(d.buildTransformConfig,"scale"),d.isImageNode=t.partial(d.isNodeOfType,"image"),d.isPatternNode=t.partial(d.isNodeOfType,"pattern"),d.isDefsNode=t.partial(d.isNodeOfType,"defs"),d.isUseNode=t.partial(d.isNodeOfType,"use"),d.isPathNode=t.partial(d.isNodeOfType,"path"),d.isTextNode=t.partial(d.isNodeOfType,"text"),d.isTspanNode=t.partial(d.isNodeOfType,"tspan"),d.transformScale=t.partial(d.buildTransformFn,"scale"),d.transformRotate=t.partial(d.buildTransformFn,"rotate"),d.transformTranslate=t.partial(d.buildTransformFn,"translate"),d.transformTranslateX=t.partial(d.buildTransformFn,"translateX"),d.scaleFromCenter=function(e,t){return null==t&&(t=e),[d.transformTranslate(.5,.5),d.transformScale(e,t),d.transformTranslate(-.5,-.5)].join(" ")},d.getDefsNode=t.partial(d.getFromNodeConfig,function(e){return d.isDefsNode(e)?e:void 0}),d}),define("helpers/scaler",["require","lodash","helpers/svg/svgUtils","polyfills/detection","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=(e("helpers/svg/svgUtils"),e("polyfills/detection")),r=e("helpers/pubSub"),s={initialize:function(){"show all"!==window.globals.scale||n.isMobile?window.addEventListener("resize",i.throttle(this.sendWindowScale.bind(this),16)):this.startScaling()},sendWindowScale:function(){r.trigger("window:scale")},startScaling:function(){t=document.getElementById("presentation"),this.scale(),window.addEventListener("resize",i.throttle(this.scale.bind(this),16))},scale:function(){var e=this.getWindowDimensions(),i=e.height,n=e.width,r=t.scrollHeight,s=t.scrollWidth,o=i/r,a=n/s,l=Math.min(o,a);this.scaleValue=l,this.sendWindowScale()},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return s}),define("views/helpers/dom",["require","lodash","helpers/utils","helpers/scaler","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/scaler"),r=e("helpers/constants"),s=function(e,i,n,r){return e.addEventListener(i,n,!!r),t.partial(o,e,i,n)},o=function(e,t,i){e.removeEventListener(t,i)},a=function(e){return 1===e.nodeType},l=function(e,t,n){var r=[];for(t=t||i.alwaysTrue;e&&a(e)&&(r.push(e),null==n||!n(e));)e=e.parentNode;return r.slice(1).filter(t)},u=function(e){return f(e,"slide-object")},c=function(e){return _.closest(e,function(e){return _.hasClass(e,"slide")})},h=function(e,t,n){return t=t||i.alwaysTrue,t(e)?e:l(e,t,n)[0]},p=function(e,t){return t.tagName.toLowerCase()===e.toLowerCase()},d=function(e){return f(e,"svg-icon-wrapper")},f=function(e,t){var i,n;return null!=e.classList?e.classList.contains(t):(n=e.className.baseVal||e.className,i=new RegExp("\\b"+t+"\\b"),i.test(n))},m=function(e,i){return t.forOwn(i,function(t,i){e.style[i]=t}),e},g=function(e,i){return t.forOwn(i,function(t,i){e.setAttribute(i,t)}),e},v=function(e,t){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=i.top-n.top+e.scrollTop;return n.top>i.top||n.bottom<i.bottom?r:0},y=function(e,r,s,o){var a=t.isFinite(s)?r.length>s:!1,l=e.getBoundingClientRect().width/(n.getScale()||1),u=l,c=0,h=u/r.length;o=o||0,t(r).map(function(e,t){e.style.width="";var i=e.getBoundingClientRect().width+o;return c+=i,{el:e,width:i}}).sortBy("width").forEach(function(e,t){var n=t+1,s=Math.min(e.width,h);c>l?(e.el.style.width=i.pxify(s-o),u-=s,h=u/(r.length-n)):a&&(e.el.style.width=i.pxify(e.width+(u-c)/r.length))}).value()},b=function(e){return p("input",e)||p("textarea",e)},w=function(e,i,n){var r=["<",e];return i&&t.isPlainObject(i)&&t.forOwn(i,function(e,t){r.push(" ",t,'="',e,'"')},r),r.push(n===!0||i===!0?" />":">"),r.join("")},S=function(e){return w(e).replace("<","</")},x=function(e,t,i){return e.classList.add(t),setTimeout(function(){e.classList.remove(t)},i)},T=function(e,i){var n=document.createEvent("Event");return n.initEvent(e,!0,!0),t.defaults(n,i),n},C=function(e,t,i){if(i=i||{ignoreDisabled:!0},null!=e){var n=T(t);return i.ignoreDisabled&&e.disabled||e.dispatchEvent(n),n}},P=t.partialRight(x,"button-tapped",r.MOBILE_ANIMATION_DURATION),E=function(){try{for(var e,t,i=window.parent.document.getElementsByTagName("iframe"),n=i.length,r=0;n>r;r++)if(e=i[r],t=e.contentDocument,t===document)return e}catch(s){}},_={on:s,off:o,parentNodesOf:l,closest:h,isNodeOfType:p,isInput:b,isLink:t.partial(p,"a"),isVideoNode:t.partial(p,"video"),isIconNode:d,isSlideObject:u,setAttributes:g,setStyles:m,getScrollRecommendation:v,resizeToFit:y,hasClass:f,writeNode:w,writeCloseNode:S,tappedClass:P,trigger:C,getParentFrame:E,isWithinSlide:c};return _.mouseX=0,_.mouseY=0,document.body.addEventListener("mousemove",function(e){_.mouseX=e.pageX,_.mouseY=e.pageY}),document.body.addEventListener("touchstart",function(e){e.touches&&e.touches.length>0&&(_.mouseX=e.touches[0].pageX,_.mouseY=e.touches[0].pageY)},!0),_}),define("views/events/mouseEvents",["require"],function(e){"use strict";var t={};return t}),define("helpers/slideObjectUtils",["require","lodash","views/helpers/dom","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("polyfills/detection"),r=t.partialRight(i.hasClass,"draggable"),s=t.partialRight(i.hasClass,"hidden"),o=t.partialRight(i.hasClass,"rotatable"),a=t.partialRight(i.hasClass,"slideable-parent"),l=function(e){return i.hasClass(e,"is-scrollable")||i.hasClass(e,"scrollarea-scrollbar")},u=function(e,t){return t(e)?!0:!!i.closest(e,t)},c=function(e){return e.scrollHeight>e.offsetHeight||i.hasClass(e,"scrollarea-scrollbar")},h=function(e){return e.hasAttribute("data-double-click")},p=t.partialRight(u,function(e){return l(e)&&c(e)}),d=function(e){return h(e)||u(e,h)},f=function(e){return l(e)?c(e):p(e)},m=t.partialRight(u,function(e){return o(e)}),g=t.partialRight(u,function(e){return s(e)}),v=t.partialRight(u,function(e){return r(e)}),y=t.partialRight(u,function(e){return a(e)}),b=function(e){return i.hasClass(e,"eventable")},w=t.partialRight(u,function(e){return b(e)}),S=function(e,i){n.isMobile&&(0===t.get(e,"length",0)?document.body.classList.add(i):document.body.classList.remove(i))},x=function(e){return n.isMobile&&!e.props.isMessageWindow},T=function(e,t){var i,n;return e.objects().forEach(function(e,r){var s,o=null!=t?t.refs["obj"+r]:e.currView,a=o.getFocusTarget();null!=a&&(s=a.props.model.prop("tabIndex"),a.isFocusable()&&a.isVisible()&&(null==n||n>s)&&(n=s,i=o))}),i},C=function(e){var t,i=e.props.parent;if(!n.isMobile)return t=i.isFocusable()?i:T(e.props.model,e)},P=function(){var e=i.getParentFrame();null!=e&&e.classList.remove("webobject-engage")},E={isRelated:u,needsToScroll:c,isScrollable:l,isScrollRelated:f,isDraggable:r,isDraggableRelated:v,isEventable:b,isEventableRelated:w,isRotatable:o,isRotatableRelated:m,isSlideableRelated:y,isDoubleClickRelated:d,activeMobileMenuItem:S,isMobileSlide:x,getGroupFocusTarget:C,removeEngageBorder:P,getChildAtLowestTabIndex:T,isHiddenRelated:g};return E}),function(){function e(e,t){e.prototype[t]=function(){var e=arguments.length?"set":"get",i=r.call(arguments);return i.unshift(t),this[e].apply(this,i)}}var t=this,i=t.Backbone;i||"undefined"==typeof require||(i=require("backbone"));var n="shorthand",r=Array.prototype.slice;i.Model.shorthandify=function(t){if(t=t||this.prototype[n],!t)return this;"string"==typeof t&&(t=[t]);for(var i=0,r=t.length;r>i;i++)e(this,t[i]);return this},"undefined"!=typeof exports&&(exports.shorthandify=i.Model.shorthandify)}(),define("shorthand",["backbone"],function(){}),define("mixins/subscribable",["require","lodash","helpers/pubSub","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/errorManager"),r=n.throwError("subscribable"),s={componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){this.resetSubscriptions();for(var e in this.subscriptions)this.subscriptions.hasOwnProperty(e)&&this.addSubscription(e,this.subscriptions[e]);return this},addSubscription:function(e,n){return t.isFunction(this[n])||r("addSubscription","this."+n,"is not a defined callback."),this.addSubscribedEvent(e).listenTo(i,e,this[n]),this},addSubscribedEvent:function(e){return this.subscribedEvents.push(e),this},removeSubscriptions:function(){return t.each(t.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(e,t){var n=this.subscribedEvents.indexOf(e);return this.stopListening(i,e,this[t]),n>-1&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}};return s}),define("mixins/ancestral",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e,i){return t.contains(t.values(i.associations),e)},n={isAncestral:!0,createParentReference:function(e){return e&&e.parent&&(this.parent=e.parent),this},getClosestAncestor:function(e,t){for(var i=t?this:this.parent;i&&!e(i);)i=i.parent;return i},getClosestAncestorWithAssoc:function(e){var n=t.partial(i,e);return this.getClosestAncestor(n)},getClosestAncestorByAttr:function(e,t,i){var n=function(i){return i.get(e)===t};return this.getClosestAncestor(n,i)},forEachAncestor:function(e,t){for(var i=t?this:this.parent,n=0;null!=i;){if(e(i,n++)===!1)return;i=i.parent}}};return n.getClosestAncestorByKind=t.partial(n.getClosestAncestorByAttr,"kind"),n}),define("helpers/resolver",["require","lodash","helpers/errorManager","helpers/constants"],function(e){"use strict";var t={};t.string=t.object=t["boolean"]=function(e){return e},t.num=t.number=function(e){return parseFloat(e)},t["var"]=t.variable=function(e,t){var i=this.resolvePath(e,t,{optional:!0});return null!=i?i.value():i},t.property=function(e,t){return this.resolvePath(e,t,{optional:!0})},t.drawid=function(e,t){return this.resolvePath(e,t,{optional:!0})},t.param=function(e,t,i){return this.getRef(i.params[e],t,i)},t.valueref=function(e,t,i){return this.getRef(n.findWhere(i.iterables,{name:e}),t,i)},t.actparam=function(e,t,i){return i[e]},t["default"]=function(e,t){return this.getRef(e,t)};var i,n=e("lodash"),r=e("helpers/errorManager"),s=e("helpers/constants"),o=r.throwError("resolver"),a=o("resolvePath"),l=o("getRef"),u=o("findReference"),c=/\$/,h=/\#/,p=/\$/g,d=/\#/g,f=/^\$/,m=/^\#/,g=new RegExp("^"+s.refs.PLAYER),v=function(e,t){return n.has(t.resolvers,e)},y=function(e,t){return e.prop&&e.hasOwnPlayerProp(b(t))},b=function(e){return e.replace(c,"")},w=function(e){return e.replace(h,"")},S=function(e){return c.test(e)},x=function(e){return h.test(e)},T=function(e){return e.split(s.PATH_DELIMITER)},C=function(e){return e.join(s.PATH_DELIMITER)},P=function(e){return!g.test(e)},E=function(e,t){var i;return n.find(e.resolveables,function(n){var r=e.get(n);return r?(i=r.isCollection?r.get(t):r.id===t?r:r[t],!i&&v(n,e)&&(i=e.resolvers[n].call(e,t,r)),i):!1},e),i},_=function(e){return m.test(e)&&-1!==e.indexOf(".")},k=function(e){return f.test(e)&&-1!==e.indexOf(".")},A=function(e,t){var i,n,r="$"===t?p:d;return i=e.replace(r,"").split("."),n=t+i.pop(),i.push(n),i.join(".")},R=n.partialRight(A,"$"),M=n.partialRight(A,"#"),I={initialize:function(e){i=e},getPresentationContext:function(){return i},resolvePath:function(e,t,i){return e?(_(e)?e=M(e):k(e)&&(e=R(e)),i=i||{},t&&n.isPlainObject(t)&&(i=t,t=void 0),this.resolvePathArray(T(e),t,i)):void a("Must provide a path to resolve")},resolvePathArray:function(e,t,r){var o=e.shift();switch(o){case s.refs.PLAYER:t=i;break;case s.refs.PLAYER_VARS:t=i.playerVars();break;case s.refs.PARENT:t=t.getClosestParentRef();break;case s.refs.CHILDREN:t=t.getChildren();break;case s.refs.SELF:t=t.getClosestThisRef();break;default:t=I.findReference(o,t)}return null==t?r.optional?void 0:void a("Path did not resolve at:",o):e.length?n.isArray(t)?n(t).map(function(t){var i=e.slice();return I.resolvePathArray(i,t,{optional:!0})}).compact().value():I.resolvePathArray(e,t,r):t},findReference:function(e,t){if(!e)return void u("Cannot find a reference with no ID");if(!t)return void u("Context must be defined.");var i,n,r;return t.isCollection&&t.get(e)?t.get(e):S(e)?t.prop(b(e)):x(e)?(r=w(e),t.getVariableProp&&(n=t.getVariableProp(r))?n.value():t.variables().get(w(e))):t.isModel||null==t[e]?(i=E(t,e),i?i:t.id===e?t:y(t,e)?t.prop(e):void 0):t[e]},getRef:function(e,i,n){if(!e)return void l("No reference passed in");if(!e.type)return void l("Type is undefined for the provided reference");var r=t[e.type]||t["default"];return r.call(this,e.value,i,n)}},O=function(e,t){var i,r,s;return e=e.split("."),i=n.first(e.splice(0,1)),s=e.some(function(e){return i+="."+e,r=I.resolvePath(i),t(r)}),s?r:null};return I.normalizePropRef=b,I.isPropRef=S,I.splitPath=T,I.joinPath=C,I.isRelativePath=P,I.resolveAbsolutePathWithFilter=O,I}),define("mixins/resolveable",["require","lodash","mixins/ancestral","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("mixins/ancestral"),n=e("helpers/resolver"),r=i.getClosestAncestor,s=function(e){return e.abilities.resolveAsThis},o=function(e){return e.abilities.resolveAsParent},a=function(e){return e.abilities.beEventTarget},l={resolvePath:function(e){return n.resolvePath(e,this.getClosestThisRef())},getClosestParentRef:t.partial(r,o),getClosestThisRef:t.partial(r,s,!0),getClosestEventTarget:t.partial(r,a,!0),getChildren:function(){return this.objects().slice()}};return l}),define("mixins/shortEventable",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=i.warn("shortEventable"),r=n("bindShortEvents"),s=i.backtick,o="Cannot listen to undefined object",a=function(e,i){return t.mapValues(i,function(t){return e[t]})},l=function(e,i){var n=e[i];return n?t.isFunction(n)?n.call(e):n:e.get?e.get(i):e.props&&e.props[i]},u={componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var e,t,i,n,u=Object.keys(this.shortEvents||{}),c=u.length;for(n=0;c>n;n++){if(e=u[n],t="self"===e?this:l(this,e),i=a(this,this.shortEvents[e]),!t)return void r(o,s(e));this.listenTo(t,i)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}};return u}),define("models/BaseModel",["require","shorthand","backbone","lodash","helpers/errorManager","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer","helpers/utils"],function(e){"use strict";e("shorthand");var t=e("backbone"),i=e("lodash"),n=e("helpers/errorManager"),r=e("mixins/subscribable"),s=e("mixins/resolveable"),o=e("mixins/ancestral"),a=e("mixins/shortEventable"),l=e("helpers/mixer"),u=e("helpers/utils"),c=n.throwError("BaseModel"),h=function(){},p=u.createSuper(t.Model),d=t.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[r,s,o,a],autoParse:!1,isModel:!0,constructor:function(e,n){i.bindAll(this,"createAbsoluteId");var r=this.initialize;this.initialize=h,this.autoParse&&(n=n||{},n.parse=!0),t.Model.call(this,e,n),this.createParentReference(n).buildAssociations().bindAssociations().createAbsoluteId(),l.initMixinsOf(this),this.initialize=r,this.initialize.apply(this,arguments),l.postInitMixinsOf(this)},index:function(){return this.collection||c("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(e){return this.collection||c("sibling","must have a `collection` defined"),e=e||0,this.collection.at(this.index()+e)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(e){return u.isTrue(e)?u.cloneDeeply(this):p("toJSON").call(this)},buildAssociations:function(e){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.buildAssociation(t);return this},buildAssociation:function(e,t){var i=t||this.get(e),n={parent:this},r=this.associations[e];return i instanceof r||(this.attributes[e]=u.buildDataStructure(r,n,i)),this},bindAssociation:function(e){return this.on("change:"+e,function(t,n,r){var s=this.previous(e);i.isFunction(s.set)?(s.set(n,{parent:this}),s.trigger("data:updated"),s.isCollection&&s.invoke("trigger","data:updated"),this.set(e,s,{silent:!0})):this.buildAssociation(e,n)}),this},bindAssociations:function(){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.bindAssociation(e);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var e=this,t=[this.id];e=e.parent;)e.id&&t.push(e.id);return t.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId(),this.on("data:updated",this.createAbsoluteId)},isType:function(e){return this.get("type")===e},isKind:function(e){return this.get("kind")===e}});d.addAssociation=function(e,t){this.prototype.associations.hasOwnProperty(e)||(this.prototype.associations[e]=t,this.shorthandify(e))};var f=d.extend;return d.extend=function(){var e=f.apply(this,arguments);return e.prototype.associations=i.extend({},e.prototype.associations,this.prototype.associations),e.shorthandify().shorthandify(i.keys(e.prototype.associations)),e},d}),define("helpers/appState",["require","lodash","helpers/constants","helpers/vow","models/BaseModel"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/vow"),r=e("models/BaseModel"),s=r.extend({shorthand:["currentLayout","currentScheme","currentVolume"],subscriptions:{"app:complete":"onAppComplete","controllayout:changed":"onLayoutChanged","scheme:changed":"onSchemeChanged","volume:changed":"onVolumeChanged","volume:toggle":"onToggleVolume"},initialize:function(){this.appCompleteDfd=new n.Deferred,this.onVolumeChanged(i.DEFAULT_VOLUME)},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(t.toArray(arguments).reduce(function(e,t){return e[t]=null,e},{})),this},onLayoutChanged:function(e,t){this.currentLayout(e),this.trigger("layout:changed",this,e,t)},onSchemeChanged:function(e){this.currentScheme(e)},onVolumeChanged:function(e){this.volumeToggle=!1,this.currentVolume(e)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle,this.currentVolume(this.volumeToggle?0:this.lastVolume)}});return new s}),define("views/events/touchHelper",["require","lodash","views/helpers/dom","helpers/slideObjectUtils","polyfills/detection","helpers/appState","helpers/utils"],function(e){var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/slideObjectUtils"),r=e("polyfills/detection"),s=e("helpers/appState"),o=e("helpers/utils"),a={},l=10,u=["touchstart","touchmove","touchend","touchcancel"],c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=function(e){return r.isMobile?c[e]:e};document.addEventListener("touchstart",function(e){1===e.touches.length?a.currentTouch=e.touches[0]:e.preventDefault()},!0);var p=function(e){return t.any(e.changedTouches,function(e){return e.id===a.currentTouch.id})},d=function(e,t){return function(r){r.touches&&r.touches.length>1||(p(r)&&e(r),!t||i.isInput(r.target)||n.isScrollRelated(r.target)||r.preventDefault())}},f=function(e,t,i,n){var r,s=d(function(e){r=e.target,r.addEventListener(t,i,n),r.addEventListener("touchend",o)}),o=function(){r&&(r.removeEventListener(t,i,n),r.removeEventListener("touchend",o))},a=function(){e.removeEventListener("touchstart",s),o()};return e.addEventListener("touchstart",s),a};a.on=function(e,t,i,n,r){var s="touchstart"===t,o=d(i,r!==!1);return s?(e.addEventListener(t,o,n),function(){e.removeEventListener(t,o,n)}):f(e,t,o,n)},a.isTouchEventName=function(e){return t.contains(u,e)},a.addEventListener=function(e,t,i,n){e.addEventListener(h(t),i,!!n)},a.removeEventListener=function(e,t,i){e.removeEventListener(h(t),i)},a.getPageLoc=function(e){var t={};return e.touches&&1===e.touches.length?(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY):(t.pageX=e.pageX,t.pageY=e.pageY),t};var m=function(e){this.started=!0,this.touchX=e.touches[0].pageX,this.touchY=e.touches[0].pageY,this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY,this.startScale=s.windowManager.getCurrentWindowSlide().currView.pinch.zoom},g=function(e){e.touches&&1===e.touches.length&&(this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY)},v=function(e){var t,i=s.windowManager.getCurrentWindowSlide().currView.pinch.zoom;this.started&&this.startScale===i&&(t=o.dist(this.touchX,this.touchY,this.currTouchX,this.currTouchY),this.started=!1,l>t&&this.callback())};return a.tap=function(e,t,i){var n={callback:i};t.addEventListener("touchstart",m.bind(n)),document.addEventListener("touchmove",g.bind(n)),t.addEventListener("touchend",v.bind(n))},a}),define("views/events/eventHelper",["require","lodash","views/helpers/dom","views/events/mouseEvents","views/events/touchHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("views/events/mouseEvents"),r=e("views/events/touchHelper"),s=function(e,t){n[e]=t(o(e))},o=function(e){return function(n,s,o,a,l,u){var c={type:e,node:n},h=function(e){var i=o?o(e):!0;i&&a(t.extend({},c,i,{origEvent:e}))};return r.isTouchEventName(s)?r.on(n,s,h,l,u):i.on(n,s,h,l)}},a=function(e){return e instanceof window.SVGElement&&"svg"!==e.tagName},l=function(e){return a(e.target)},u=function(e){return i.isVideoNode(e.target)},c=function(e){return 1===e.which},h=function(e){return 3===e.which},p=function(e){return e&&null!=e.getAttribute&&"events"===e.getAttribute("data-accepts")},d=function(e,t){return p(e.target.ownerSVGElement)||!!i.closest(e.target,p,t)},f=function(e){return["click","mouseup","mousedown"].indexOf(e.type)>=0&&(null==e.pageX||0===e.pageX)&&(null==e.pageY||0===e.pageY)};return{registerEvent:s,on:i.on,off:i.off,parentNodesOf:i.parentNodesOf,isNodeSvgEl:a,isTgtSvgEl:l,isTgtVideoEl:u,isLeftMouseBtn:c,isRightMouseBtn:h,doesEventTargetAcceptEvents:d,isSpacebarClick:f}}),define("helpers/tabFocusBox",["require","lodash","views/helpers/dom","helpers/utils","helpers/pubSub","helpers/appState","helpers/scaler","polyfills/detection","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/utils"),r=(e("helpers/pubSub"),e("helpers/appState")),s=e("helpers/scaler"),o=(e("polyfills/detection"),e("helpers/errorManager")),a=4,l=1.2,u={tryToSelect:function(e,t){var i=e.querySelector(t);return null==i&&o.throwError("tabFocusBox","invalid focus rule selector: ",t),i},focusRuleConfig:{VectorSlideObject:function(e){return u.tryToSelect(e,"svg g")},ImageSlideObject:function(e){return u.tryToSelect(e,"img")},VideoSlideObject:function(e){return u.tryToSelect(e,".video-slide-object")},ResourcesList:function(e){return e.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(e){"SlideObject"===e.displayName&&(e.props.model.forEachAncestor(function(i){"SlideObject"===t.get(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(i,"hidden",c),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",c)),(i.isSlideObject||i.isSlideLayer)&&e.listenTo(i,{hidden:c})}.bind(this)),e.listenTo(e.props.model,{hidden:c}))},show:function(e){null!=e&&(this.update(e),this.listenForHide(e),this.lastItemFocused=e)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl?this.borderEl:(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),i.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999}),this.borderEl)},slideObjectShouldUseCss:function(e){return"TextInputSlideObject"===t.get(e,"refs.innard.displayName")||e.decorators&&null!=e.decorators.slideable},domElShouldUseCss:function(e){return e.parentNode&&i.hasClass(e.parentNode,"search-clear")||i.hasClass(e,"lightbox-close-btn")||i.closest(e,function(e){return i.hasClass(e,"lightbox")})},update:function(e){var o,l,u,c,h,p,d,f,m,g=this.getOrCreateBorder(),v=0,y=0,b=1,w={left:0,top:0},S=this.defaultOffsets,x=0;if(null!=e.displayName){if(S=this.focusOffsetConfig[e.displayName]||this.defaultOffsets,v+=S.x,y+=S.y,this.slideObjectShouldUseCss(e))return void this.hide();o=e.el,d=null!=t.get(e,"refs.innard")?e.refs.innard.displayName:e.displayName,o=(this.focusRuleConfig[d]||t.identity)(o)}else{if(this.domElShouldUseCss(e))return void this.hide();o=e}u=o.getBoundingClientRect(),c=i.isWithinSlide(o),c?(p=r.windowManager.getCurrentWindow().getCurSlide(),l=p.el,w=l.getBoundingClientRect(),x=a,b=p.props.model.getScene().isMessageScene()?1:p.props.model.calculateTotalScale(),l.querySelector(".slide-top-container-main").appendChild(g)):(f=document.querySelector("#app-top-container"),f.appendChild(g),w=f.getBoundingClientRect(),b=1/(s.getScale()||1)),0!==u.width&&0!==u.height?(h=2*x,m=t.mapValues(this.constrainToSlide(c,p,{left:(u.left-w.left)*b+v-x,top:(u.top-w.top)*b+y-x,width:u.width*b+h+S.width,height:u.height*b+h+S.height}),n.pxify),m.display="block",i.setStyles(g,m),this.isShown=!0):this.hide()},constrainToSlide:function(e,t,i){var n,r,s,o;return e&&(n=i.left+i.width-t.props.model.get("width"),o=i.top+i.height-t.props.model.get("height"),r=i.left,s=i.top,n>0&&(i.width-=n-l),o>0&&(i.height-=o-l),0>r&&(i.width+=i.left,i.left=-l),0>s&&(i.height+=i.top,i.top=-l)),i}},c=u.onAncestorHidden.bind(u);return u}),define("helpers/keyManager",["require","lodash","react","react-dom","helpers/utils","helpers/constants","views/helpers/dom","helpers/pubSub","views/events/eventHelper","helpers/errorManager","helpers/tabFocusBox","helpers/slideObjectUtils"],function(e){"use strict";var t,i,n=e("lodash"),r=(e("react"),e("react-dom")),s=e("helpers/utils"),o=e("helpers/constants"),a=e("views/helpers/dom"),l=e("helpers/pubSub"),u=e("views/events/eventHelper"),c=e("helpers/errorManager"),h=e("helpers/tabFocusBox"),p=e("helpers/slideObjectUtils"),d=c.warn("keyManager"),f=c.throwError("keyManager"),m=function(e,t){return e.idx-t.idx},g=function(){var e=document.activeElement,t=e.nodeName.toLowerCase(),i=e.type&&e.type.toLowerCase();return"textarea"===t||"input"===t&&("text"===i||"number"===i||"search"===i)},v=function(){return T.keys.SPACE||T.keys.ENTER},y=function(){return T.keys.UP||T.keys.DOWN||T.keys.LEFT||T.keys.RIGHT},b=function(){return T.keys.LEFT||T.keys.DOWN},w=o.keys,S={mainWindow:{windowId:"mainWindow",slide:[],player:[]}};l.once("player:menuOptions",function(e){i=e.get("flow")});var x=function(e){var t=e.keyCode,i=String.fromCharCode(t),n=[];return t>=48&&90>=t?n.push(i):(null!=o.keys[t]?n.push(o.keys[t]):n=n.concat(["#",t]),n.unshift("["),n.push("]")),e.altKey&&n.unshift("[ALT] + "),e.shiftKey&&n.unshift("[SHIFT] + "),e.ctrlKey&&n.unshift("[CTRL] + "),{LastKeyCodeString:n.join(""),LastKeyCode:t,LastKeyValue:i,LastKeyCtrl:e.ctrlKey,LastKeyShift:e.shiftKey,LastKeyAlt:e.altKey}},T={currentIndex:-1,currentWindow:S.mainWindow,tabIndexTable:{},lastKeyPressTargets:[],initialize:function(e){var i=e.getCurrentWindow(),r=s.getPath(i,"props.model.id");this.keys={},t=e,n.bindAll(this,"prepare","removeWindow","addWindow","onSlideChanged","enableControlsKeyShortcuts"),l.on({"app:complete":this.prepare,"window:closed":this.removeWindow,"window:created":this.addWindow,"slide:started":this.onSlideChanged,"player:enableKeyboardShortcuts":this.enableControlsKeyShortcuts,"slide:willChange":this.onSlideWillChange}),this.currentWindow=S[r||"mainWindow"],this.tabIndexTable=this.currentWindow.tabIndexTable={Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]}},holdFocusBox:function(){if(h.isShown){var e=n.get(this,"lastCurrentItem.el")||this.lastCurrentItem;null==e||a.isWithinSlide(e)?this.unsetCurrentItemAndFocus():window.requestAnimationFrame(function(){return p.isHiddenRelated(e)?void this.unsetCurrentItemAndFocus():void this.currentWindow.tabbables.forEach(function(e){e===this.lastCurrentItem&&(this.focusItem(e),h.show(e))}.bind(this))}.bind(this))}},onSlideChanged:function(e){this.holdFocusBox()},onSlideWillChange:function(){null!=document.activeElement&&n.isFunction(document.activeElement.blur)&&document.activeElement.blur()},onHideFocusBox:function(e){u.isSpacebarClick(e)||h.hide()},updateKeyMap:function(e,t){var i=String.fromCharCode(e.which);null!=w[e.which]?this.keys[w[e.which]]=t:this.keys[i]=t,this.keys.keyCode=e.which},prepare:function(){document.body.addEventListener("keydown",this.checkKeyEvent.bind(this)),document.body.addEventListener("keyup",this.fixKeyUp.bind(this)),document.body.addEventListener("mousedown",this.clearTab.bind(this)),document.body.addEventListener("click",this.onHideFocusBox.bind(this))},getInnardOfCurrentItem:function(){return n.get(this,"currentItem.refs.innard")},checkKeyEvent:function(e){var i,r,s=!0,o=t.getCurrentWindowSlide();if(this.currSlide=o,this.updateKeyMap(e,!0),this.lastShift=e.shiftKey,e.metaKey!==!1||g()||e.preventDefault(),this.keys.TAB){if(r=this.getInnardOfCurrentItem(),null!=n.get(r,"exitStealTab")&&r.exitStealTab(r,e.shiftKey))return void this.delayCheckKeyUp(e);if(null!=n.get(r,"stealTab"))return r.stealTab(this.currentItem,e.shiftKey),void this.delayCheckKeyUp(e);this.changeFocus(e.shiftKey),h.show(this.currentItem),e.preventDefault()}if(this.shouldTriggerFrameControl(e)&&l.trigger("keyManager:frameControlKey",this.keys),null!=this.currentItem&&v()&&(s=!this.getCurrentFocusController().onActionKey(this.currentItem,this.keys.ENTER)),s&&null!=this.currentItem&&y()&&(s=!this.getCurrentFocusController().onTreeKey(this.currentItem,b(),this.keys)),null==this.currentItem||this.currentItem instanceof window.Node){if(null!==o&&null==this.currentItem){var a=o.slideLayers().getTopMostLayer();null!=a?this.executeKeypressEvent(a,e):this.executeKeypressEvent(o,e);
}}else i=this.currentItem.props.model,i&&i.isSlideObject&&this.executeKeypressEvent(this.currentItem.props.model,e);this.delayCheckKeyUp(e)},delayCheckKeyUp:function(e){window.requestAnimationFrame(function(){this.checkKeyUpEvent(e)}.bind(this))},fixKeyUp:function(e){return"SPACE"===w[e.keyCode]?(e.preventDefault(),e.returnValue=!1,!1):void 0},clearTab:function(e){null==this.currentItem||null!=e&&!u.isSpacebarClick(e)||this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null)},clearCurrentItem:function(e){this.currentItem&&(n.contains(this.currentWindow.slide,this.currentItem)||e)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},reset:function(){this.currentIndex=-1,this.focusNextItem()},clearSlide:function(e,t){t=t&&s.stripPlayer(t),null==t||"_current"===t||t===this.currentWindow.windowId?(this.clearCurrentItem(!1),this.currentWindow.slide=[]):(S[t]={windowId:t,slide:[],player:[]},this.currentWindow=S[t],this.tabIndexTable=this.currentWindow.tabIndexTable),this.currentIndex=-1,this.onBuildComplete()},getWindowId:function(e){return null!=e.props.model?e.props.model.id:"mainWindow"},addWindow:function(e){var t=this.getWindowId(e);S[t]=S[t]||{windowId:t,slide:[],player:[]},this.tabIndexTable=S[t].tabIndexTable||{Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]},this.currentWindow=S[t]},removeWindow:function(e){var i=this.getWindowId(e);this.clearTab(),S[i]=null,this.currentWindow=S[this.getWindowId(t.getCurrentWindow())],this.tabIndexTable=this.currentWindow.tabIndexTable,this.currentIndex=-1},addItem:function(e,t,i,n){var r,s=t?this.currentWindow.player:this.currentWindow.slide,o=e.idx,a=e.indexGroupName;null!=i&&(null==s[i]&&(s[i]=[]),s=s[i]),t?(a||(a=e.displayName),a&&this.tabIndexTable[a]&&(r=this.tabIndexTable[a],r.push(e)),this.onBuildComplete()):null==s[o]||n?s[o]=e:f("addItem","Already added an item with a tabindex of ",o)},removeItem:function(e,t,i){var n,r,s,o,a=e.idx;n=null!=i?this.currentWindow.slide[i]:t?this.currentWindow.player:this.currentWindow.slide,null!=n&&(n[a]===e?n[a]=null:(r=e.indexGroupName,null!=r&&this.tabIndexTable[r]&&(s=this.tabIndexTable[r],o=s.indexOf(e),-1!==o&&(s.splice(o,1),this.onBuildComplete())))),null!=i&&null!=this.currentWindow[i]&&0===this.currentWindow[i].length&&(this.currentWindow.slide[i]=null)},moveFocusObject:function(e,t){var i,r=this.tabIndexTable[e.indexGroupName],s=n.find(r,e),o=n.find(r,{idx:t});r=n.without(r,s),i=n.indexOf(r,o),r.splice(i,0,s),this.tabIndexTable[e.indexGroupName]=r,this.onBuildComplete()},onBuildComplete:function(){this.currentWindow.player=this.tabIndexTable.SlideControlButton.concat(this.tabIndexTable.Presenter).concat(this.tabIndexTable.SidebarTab).concat(this.tabIndexTable.TopTabsItem).concat(this.tabIndexTable.PlayerControlButton.sort(m)),this.currentWindow.tabbables=this.currentWindow.slide.reduce(function(e,t,i){var r=n.isArray(t)?n.compact(t):[t];return e.concat(r)}.bind(this),[]).concat(this.currentWindow.player),this.currentWindow.tabIndexTable=this.tabIndexTable},changeFocus:function(e){e?this.focusPrevItem():this.focusNextItem()},getCurrentItem:function(){return this.currentItem},setCurrentItem:function(e){this.currentItem=e,null==e?h.hide():this.lastCurrentItem=e},setCurrentItemAndFocus:function(e){this.setCurrentItem(e),h.show(e)},unsetCurrentItemAndFocus:function(){this.currentIndex=-1,this.setCurrentItem(null),h.hide()},incrementIndex:function(e){return e+1<this.currentWindow.tabbables.length?e+1:0},decrementIndex:function(e){return e-1>=0?e-1:this.currentWindow.tabbables.length-1},getCurrentTabbable:function(){return this.currentWindow.tabbables[this.currentIndex]},getCurrentFocusController:function(){return this.currentItem.dsFocusController?this.currentItem.dsFocusController:this.currentItem},getItemIsVisible:function(e){var t;return n.isFunction(e.isVisible)?e.isVisible()&&!a.closest(e.el,function(e){return a.hasClass(e,"hidden")})&&(!e.props.model||!e.props.model.isKind("expandinglabel")||e.getPlayerProp("Expanded")===!0):(t=r.findDOMNode(e),!a.closest(t,function(e){return a.hasClass(e,"hidden")}))},setCurrentModal:function(e){var t=p.getChildAtLowestTabIndex(e);null!=t&&(this.focusItem(t),this.focusPrevItem(),h.hide())},isOutsideModal:function(e){var i=t.getCurrentWindowSlide(),r=i.slideLayers().filter(function(e){return e.get("modal")&&e.visibleState});return r.length>0&&null!=n.get(e,"refs.innard")?!e.props.model.getClosestAncestorByAttr("modal",!0):!1},skipItem:function(e){return!this.getItemIsVisible(e)||!this.getItemIsTabbable(e)||this.isOutsideModal(e)},getItemIsTabbable:function(e){var t=e.refs&&e.refs.innard?e.refs.innard:e,i=t.isTabbable;return i?t.isTabbable():!0},focusMoveItem:function(e){var t=Math.max(0,this.currentIndex),i=this[e?"incrementIndex":"decrementIndex"].bind(this);if(0!==this.currentWindow.tabbables.length){for(this.currentIndex=i(this.currentIndex);this.skipItem(this.getCurrentTabbable());)if(this.currentIndex=i(this.currentIndex),this.currentIndex===t)return;this.implementFocus()}},focusItem:function(e,t){this.getItemIsVisible(e)&&this.getCurrentItem()!==e&&this.currentWindow.tabbables&&(this.currentIndex=this.currentWindow.tabbables.indexOf(e),this.implementFocus(t))},implementFocus:function(e){return this.currentItem&&this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(this.getCurrentTabbable()),null==this.getCurrentItem()?void d("implementFocus","Tried to focus on non-focusable item"):void this.getCurrentFocusController().gainFocus(this.currentItem,e)},copyTabIndicies:function(e){S[e].slide=S.mainWindow.slide,this.onBuildComplete()},enableControlsKeyShortcuts:function(e){this.frameControlKeysEnabled=e},checkKeyUpEvent:function(e){this.updateKeyMap(e,!1),this.clearLastKey()},shouldTriggerFrameControl:function(e){var t=e.which;return g()||!this.frameControlKeysEnabled||this.keys.SHIFT||this.keys.CONTROL||this.lastKeyEvent&&this.lastKeyEvent.which===t?!1:(this.lastKeyEvent=e,!e.altKey&&!e.ctrlKey&&!e.shiftKey)},executeKeypressEvent:function(e,i,r){var s,a,l,u;if(null==r&&(l=t.getCurrentWindowSlide(),r=null!=l?l.slideLayers().activeLayers.slice(0):[],u=n.findIndex(r,e),u>0&&(r.length=u)),this.lastKeyPressTargets.push(e),n.contains(["CONTROL","SHIFT","ALT"],o.keys[i.keyCode])||(e.prop(x(i)),e.executePlayerEvent("onanykeypress")),e.executeFilteredPlayerEvent(function(e){return e.keycode===i.keyCode&&e.shift===i.shiftKey&&e.ctrl===i.ctrlKey&&e.alt===i.altKey},"onkeypress"),e.isSlideObject&&(s=e.getClosestAncestor(function(e){return e.isSlideObject}),null==s&&(a=e.getLayer(),a.isBaseLayer()?r=[]:r.length=n.findIndex(r,a)+1)),null==s)do s=r.pop();while(null!=s&&!s.isOpen);null==s&&(s=e.getClosestAncestor(function(e){return e.isSlide})),null!=s&&this.executeKeypressEvent(s,i,r)},clearLastKey:function(){this.lastKeyEvent=null,n.forEach(this.lastKeyPressTargets,function(e){e.resetPropsExcept(n.difference(e.getPlayerProps().keys(),["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"]))}),this.lastKeyPressTargets=[]}};return n.extend(T,{focusNextItem:n.partial(T.focusMoveItem,!0),focusPrevItem:n.partial(T.focusMoveItem,!1)}),T}),define("helpers/stringTabler",["require"],function(e){"use strict";var t,i={initialize:function(e){var i=e.layouts().get(e.get("default_layout"));t=e.stringTables().get(i.string_table).string},getString:function(e){return t[e]}};return i}),define("views/mixins/stringable",["require","lodash","helpers/stringTabler"],function(e){"use strict";var t=e("lodash"),i=e("helpers/stringTabler"),n=function(e){return["i18n",e].join("")},r=function(e){var t=i.getString(e);return null!=t?t:e},s={getInitialState:function(){var e=t.result(this,"stringTitles");return e?t.transform(e,function(e,t,i){e[n(i)]=r(t)}):{}}};return s}),define("views/mixins/baseView",["require","lodash","backbone","react","react-dom","helpers/keyManager","mixins/subscribable","mixins/shortEventable","views/mixins/stringable","helpers/cssPrefix","helpers/errorManager","helpers/utils","helpers/vow","polyfills/detection"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),r=(e("react"),e("react-dom")),s=e("helpers/keyManager"),o=e("mixins/subscribable"),a=e("mixins/shortEventable"),l=e("views/mixins/stringable"),u=e("helpers/cssPrefix"),c=e("helpers/errorManager"),h=e("helpers/utils"),p=e("helpers/vow"),d=e("polyfills/detection"),f=c.backtick,m=c.throwError("baseView"),g="Must specify a "+f("displayName"),v=function(e){return i.values(e.refs)},y=function(e){return null!=e.currView},b={mixins:[n.Events,o,a,l],getInitialState:function(){return{isVisible:null!=this.initialVisibility?this.initialVisibility:!0}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||m("baseView",g),this.template||(this.template=t.getTemplate(this.displayName)),this.cssTransform=u.camelCase("transform"),this.cssTransformOrigin=u.camelCase("transform-origin"),this.cssTransitionDuration=u.camelCase("transition-duration"),this.cssTransitionProperty=u.camelCase("transition-property"),this.cssTransitionTimingFunc=u.camelCase("transition-timing-function")},componentDidMount:function(){this.el=r.findDOMNode(this),d.isMobile||this.setOrRemoveTabManagement(!0),null!=this.props.model&&(this.props.model.currView=this)},componentWillUnmount:function(){this.stopListening(),d.isMobile||this.setOrRemoveTabManagement(!1),null!=this.props.model&&(this.props.model.currView=null)},setOrRemoveTabManagement:function(e){if(null!=this.el&&["click","touchstart"].forEach(function(t){this.el[e?"addEventListener":"removeEventListener"](t,this.onFocusClick,!0)}.bind(this)),!this.props.model||this.props.model.get&&this.props.model.get("tabEnabled")!==!1){var t,i=this.props.model&&this.props.model.prop&&this.props.model.prop("tabIndex"),n=e===!0?"addItem":"removeItem",r=this.props.model&&this.props.model.isKind&&this.props.model.isKind("slideframe"),o=this.props.slideFrame,a=o&&o.props.model.prop("tabIndex");i>=0&&this.props.isInnard!==!0&&!r&&(this.idx=i,s[n](this,!1,a)),this.getTabbableItems&&(t=this.getTabbableItems(),null!=t&&t.forEach(function(e){s[n](e,!0)}))}},shouldComponentUpdate:function(e,t){return(!h.shallowEqual(this.props,e)||!h.shallowEqual(this.state,t))&&(this.shouldUpdate?this.shouldUpdate(e,t):!0)},htmlReady:function(e){window.requestAnimationFrame(e)},afterHtmlReady:function(e){this.htmlReady(function(){this.htmlReady(e)}.bind(this))},onShown:function(e){for(var t,n=this.props.model,r=[];null!=n;)n.currView.isVisible()||(t=new p.Deferred,n.once("shown",t.resolve),r.push(t.promise())),n=n.getClosestAncestor(y);p.after.apply(p,r).then(i.partial(this.htmlReady,e))},find:function(e){return this.el.querySelector(e)},findAll:function(e){return i.toArray(this.el.querySelectorAll(e))},findAllComponents:function(e){for(var t=0,n=v(this);t<n.length;)n.push.apply(n,v(n[t])),t++;return i.where(n,{displayName:e})},findComponent:function(e){for(var t,n=0,r=i.isString(e),s=v(this);(t=s[n])&&n<s.length;){if(r&&t.displayName===e||!r&&t===e)return t;s.push.apply(s,v(t)),n++}},render:function(){return this.beforeRender&&this.beforeRender(),this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(e){return e=null==e?!this.isVisible():e,this.setState({isVisible:e}),this},isVisible:function(){var e=null!=this.getPlayerProp?this.state:this.props.playerProps;return null!=this.props.model&&null!=this.props.model.isSlideObject?this.props.model.isKind("shufflegroup")?!0:e.OnStage&&!e.HiddenByLayer:this.state.isVisible},isEnabled:function(){return this.enabledHook?this.enabledHook():this.getPlayerProp&&this.getPlayerProp("Enabled")===!0},getPath:function(e){return h.getPath(this,e)},setTemplateManager:function(e){t=e},getTemplateManager:function(){return t},hex:function(e){return h.hexify(e)},quotify:function(e){return h.quote(e)},gainFocus:function(e,t){this.isMounted()&&(i.isFunction(this.stealFocus)?this.stealFocus(e,t):(t||this.setState({tabFocused:!0}),this.el.focus())),this.setLayerScroll()},loseFocus:function(e){this.isMounted()&&(i.isFunction(this.releaseFocus)?this.releaseFocus(e):(this.setState({tabFocused:!1}),this.el.blur()))},onActionKey:function(e,t){return i.isFunction(this.actionKeyCallback)?this.actionKeyCallback(e,t):!1},onTreeKey:function(e,t,n){return i.isFunction(this.treeKeyCallback)?this.treeKeyCallback(e,t,n):!1},previewMouseEvent:function(e){return d.isMobilePreview?e:null},onFocusClick:function(e){if(null!=this.getFocusTarget){var t=this.getFocusTarget(e);null!=t&&s.focusItem(t,!0)}},setLayerScroll:function(){i.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return b.show=i.partial(b.toggleVisibility,!0),b.hide=i.partial(b.toggleVisibility,!1),b}),define("views/SvgLibrary",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),r=e("views/mixins/baseView"),s=n.createClass({displayName:"SvgLibrary",mixins:[r],componentDidMount:function(){this.inlineCssRuleRefs()},inlineCssRuleRefs:function(){var e=document.createElement("style"),n=t.pluck(this.findAll("[id]"),"id"),r=new RegExp(n.join("|")),s=7,o=function(e){return e.type===s},a=function(e){return r.test(e.cssText)};return e.innerHTML=t(document.styleSheets).pluck("cssRules").map(t.values).flatten().filter(i.andify(i.not(o),a)).pluck("cssText").join("\n"),document.head.appendChild(e),this}});return s});var CryptoJS=CryptoJS||function(e,t){var i={},n=i.lib={},r=n.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var i=new e;return t&&i.mixIn(t),i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),s=n.WordArray=r.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,e=e.sigBytes;if(this.clamp(),n%4)for(var r=0;e>r;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-8*(r%4)&255)<<24-8*((n+r)%4);else if(65535<i.length)for(r=0;e>r;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-8*(i%4),t.length=e.ceil(i/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;t>n;n+=4)i.push(4294967296*e.random()|0);return s.create(i,t)}}),o=i.enc={},a=o.Hex={stringify:function(e){for(var t=e.words,e=e.sigBytes,i=[],n=0;e>n;n++){var r=t[n>>>2]>>>24-8*(n%4)&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-4*(n%8);return s.create(i,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,e=e.sigBytes,i=[],n=0;e>n;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-8*(n%4)&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-8*(n%4);return s.create(i,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},c=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=s.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0),t=a*o,r=e.min(4*t,r);if(t){for(var l=0;t>l;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=r}return s.create(l,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,i){return e.create(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return h.HMAC.create(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);!function(){var e=CryptoJS,t=e.lib,i=t.WordArray,t=t.Hasher,n=[],r=e.algo.SHA1=t.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=0;80>u;u++){if(16>u)n[u]=0|e[t+u];else{var c=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=c<<1|c>>>31}c=(r<<5|r>>>27)+l+n[u],c=20>u?c+((s&o|~s&a)+1518500249):40>u?c+((s^o^a)+1859775393):60>u?c+((s&o|s&a|o&a)-1894007588):c+((s^o^a)-899497514),l=a,a=o,o=s<<30|s>>>2,s=r,r=c}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+15]=i,e.sigBytes=4*t.length,this._process()}});e.SHA1=t._createHelper(r),e.HmacSHA1=t._createHmacHelper(r)}(),function(){var e=CryptoJS,t=e.lib,i=t.WordArray,n=e.enc;n.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],s=0;i>s;s+=3)for(var o=t[s>>>2]>>>24-s%4*8&255,a=t[s+1>>>2]>>>24-(s+1)%4*8&255,l=t[s+2>>>2]>>>24-(s+2)%4*8&255,u=o<<16|a<<8|l,c=0;4>c&&i>s+.75*c;c++)r.push(n.charAt(u>>>6*(3-c)&63));var h=n.charAt(64);if(h)for(;r.length%4;)r.push(h);return r.join("")},parse:function(e){e=e.replace(/\s/g,"");var t=e.length,n=this._map,r=n.charAt(64);if(r){var s=e.indexOf(r);-1!=s&&(t=s)}for(var o=[],a=0,l=0;t>l;l++)if(l%4){var u=n.indexOf(e.charAt(l-1))<<l%4*2,c=n.indexOf(e.charAt(l))>>>6-l%4*2;o[a>>>2]|=(u|c)<<24-a%4*8,a++}return i.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();var TinCan;!function(){"use strict";var e={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};TinCan=function(e){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(e)},TinCan.prototype={LOG_SRC:"TinCan",log:function(e,t){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(t=t||this.LOG_SRC||"TinCan",console.log("TinCan."+t+": "+e))},init:function(e){this.log("init");var t;if(e=e||{},e.hasOwnProperty("url")&&""!==e.url&&this._initFromQueryString(e.url),e.hasOwnProperty("recordStores")&&void 0!==e.recordStores)for(t=0;t<e.recordStores.length;t+=1)this.addRecordStore(e.recordStores[t]);e.hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),e.hasOwnProperty("actor")&&(e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),e.hasOwnProperty("registration")&&(this.registration=e.registration)},_initFromQueryString:function(t){this.log("_initFromQueryString");var i,n,r,s=TinCan.Utils.parseURL(t).params,o=["endpoint","auth"],a={},l=null;if(s.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+s.actor);try{this.actor=TinCan.Agent.fromJSON(s.actor),delete s.actor}catch(u){this.log("_initFromQueryString - failed to set actor: "+u)}}if(s.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:s.activity_id}),delete s.activity_id),(s.hasOwnProperty("activity_platform")||s.hasOwnProperty("registration")||s.hasOwnProperty("grouping"))&&(r={},s.hasOwnProperty("activity_platform")&&(r.platform=s.activity_platform,delete s.activity_platform),s.hasOwnProperty("registration")&&(r.registration=this.registration=s.registration,delete s.registration),s.hasOwnProperty("grouping")&&(r.contextActivities={},r.contextActivities.grouping=s.grouping,delete s.grouping),this.context=new TinCan.Context(r)),s.hasOwnProperty("endpoint")){for(i=0;i<o.length;i+=1)n=o[i],s.hasOwnProperty(n)&&(a[n]=s[n],delete s[n]);for(i in s)s.hasOwnProperty(i)&&(e.hasOwnProperty(i)?delete s[i]:(l=l||{},l[i]=s[i]));null!==l&&(a.extended=l),a.allowFail=!1,this.addRecordStore(a)}},addRecordStore:function(e){this.log("addRecordStore");var t;t=e instanceof TinCan.LRS?e:new TinCan.LRS(e),this.recordStores.push(t)},prepareStatement:function(e){return this.log("prepareStatement"),e instanceof TinCan.Statement||(e=new TinCan.Statement(e)),null===e.actor&&null!==this.actor&&(e.actor=this.actor),null===e.target&&null!==this.activity&&(e.target=this.activity),null!==this.context&&(null===e.context?e.context=this.context:(null===e.context.registration&&(e.context.registration=this.context.registration),null===e.context.platform&&(e.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===e.context.contextActivities?e.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===e.context.contextActivities.grouping&&(e.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===e.context.contextActivities.parent&&(e.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===e.context.contextActivities.other&&(e.context.contextActivities.other=this.context.contextActivities.other))))),e},sendStatement:function(e,t){this.log("sendStatement");var i,n,r,s=this,o=this.prepareStatement(e),a=this.recordStores.length,l=[],u=[];if(a>0)for("function"==typeof t&&(r=function(e,i){var n;s.log("sendStatement - callbackWrapper: "+a),a>1?(a-=1,u.push({err:e,xhr:i})):1===a?(u.push({err:e,xhr:i}),n=[u,o],t.apply(this,n)):s.log("sendStatement - unexpected record store count: "+a)}),n=0;a>n;n+=1)i=this.recordStores[n],l.push(i.saveStatement(o,{callback:r}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof t&&t.apply(this,[null,o]);return{statement:o,results:l}},getStatement:function(e,t){this.log("getStatement");var i;return this.recordStores.length>0?(i=this.recordStores[0],i.retrieveStatement(e,{callback:t})):void this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(e,t,i){this.log("voidStatement");var n,r,s,o,a,l=this,u=this.recordStores.length,c=[],h=[];if(e instanceof TinCan.Statement&&(e=e.id),"undefined"!=typeof i.actor?r=i.actor:null!==this.actor&&(r=this.actor),s=new TinCan.Statement({actor:r,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:e}}),u>0)for("function"==typeof t&&(a=function(e,i){var n;l.log("voidStatement - callbackWrapper: "+u),u>1?(u-=1,h.push({err:e,xhr:i})):1===u?(h.push({err:e,xhr:i}),n=[h,s],t.apply(this,n)):l.log("voidStatement - unexpected record store count: "+u)}),o=0;u>o;o+=1)n=this.recordStores[o],c.push(n.saveStatement(s,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof t&&t.apply(this,[null,s]);return{statement:s,results:c}},getVoidedStatement:function(e,t){this.log("getVoidedStatement");var i;return this.recordStores.length>0?(i=this.recordStores[0],i.retrieveVoidedStatement(e,{callback:t})):void this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(e,t){this.log("sendStatements");var i,n,r,s=this,o=[],a=this.recordStores.length,l=[],u=[];if(0===e.length)"function"==typeof t&&t.apply(this,[null,o]);else{for(n=0;n<e.length;n+=1)o.push(this.prepareStatement(e[n]));if(a>0)for("function"==typeof t&&(r=function(e,i){var n;s.log("sendStatements - callbackWrapper: "+a),a>1?(a-=1,u.push({err:e,xhr:i})):1===a?(u.push({err:e,xhr:i}),n=[u,o],t.apply(this,n)):s.log("sendStatements - unexpected record store count: "+a)}),n=0;a>n;n+=1)i=this.recordStores[n],l.push(i.saveStatements(o,{callback:r}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof t&&t.apply(this,[null,o])}return{statements:o,results:l}},getStatements:function(e){this.log("getStatements");var t,i,n={};return this.recordStores.length>0?(t=this.recordStores[0],e=e||{},i=e.params||{},e.sendActor&&null!==this.actor&&("0.9"===t.version||"0.95"===t.version?i.actor=this.actor:i.agent=this.actor),e.sendActivity&&null!==this.activity&&("0.9"===t.version||"0.95"===t.version?i.target=this.activity:i.activity=this.activity),"undefined"==typeof i.registration&&null!==this.registration&&(i.registration=this.registration),n={params:i},"undefined"!=typeof e.callback&&(n.callback=e.callback),t.queryStatements(n)):void this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(e,t){this.log("getState");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor,activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),"undefined"!=typeof t.callback&&(i.callback=t.callback),n.retrieveState(e,i)):void this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(e,t,i){this.log("setState");var n,r;return this.recordStores.length>0?(r=this.recordStores[0],i=i||{},n={agent:"undefined"!=typeof i.agent?i.agent:this.actor,activity:"undefined"!=typeof i.activity?i.activity:this.activity},"undefined"!=typeof i.registration?n.registration=i.registration:null!==this.registration&&(n.registration=this.registration),"undefined"!=typeof i.lastSHA1&&(n.lastSHA1=i.lastSHA1),"undefined"!=typeof i.contentType&&(n.contentType=i.contentType,"undefined"!=typeof i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),"undefined"!=typeof i.callback&&(n.callback=i.callback),r.saveState(e,t,n)):void this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(e,t){this.log("deleteState");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor,activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),"undefined"!=typeof t.callback&&(i.callback=t.callback),n.dropState(e,i)):void this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(e,t){this.log("getActivityProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.retrieveActivityProfile(e,i)):void this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(e,t,i){this.log("setActivityProfile");var n,r;return this.recordStores.length>0?(r=this.recordStores[0],i=i||{},n={activity:"undefined"!=typeof i.activity?i.activity:this.activity},"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&(n.lastSHA1=i.lastSHA1),"undefined"!=typeof i.contentType&&(n.contentType=i.contentType,"undefined"!=typeof i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),r.saveActivityProfile(e,t,n)):void this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(e,t){this.log("deleteActivityProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.dropActivityProfile(e,i)):void this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(e,t){this.log("getAgentProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.retrieveAgentProfile(e,i)):void this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(e,t,i){this.log("setAgentProfile");var n,r;return this.recordStores.length>0?(r=this.recordStores[0],i=i||{},n={agent:"undefined"!=typeof i.agent?i.agent:this.actor},"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&(n.lastSHA1=i.lastSHA1),"undefined"!=typeof i.contentType&&(n.contentType=i.contentType,"undefined"!=typeof i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),r.saveAgentProfile(e,t,n)):void this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(e,t){this.log("deleteAgentProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.dropAgentProfile(e,i)):void this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},"object"==typeof module&&(module.exports=TinCan)}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})},getISODateString:function(e){function t(e,t){var i,n;for("undefined"!=typeof e&&null!==e||(e=0),"undefined"!=typeof t&&null!==t||(t=2),i=Math.pow(10,t-1),n=e.toString();i>e&&i>1;)n="0"+n,i/=10;return n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+t(e.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(e){var t,i,n,r,s=e.indexOf("-")>=0,o=e.indexOf("T"),a=e.indexOf("H"),l=e.indexOf("M"),u=e.indexOf("S");if(-1===o||-1!==l&&o>l||-1!==e.indexOf("D")||-1!==e.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===a?(a=o,t=0):t=parseInt(e.slice(o+1,a),10),-1===l?(l=o,i=0):i=parseInt(e.slice(a+1,l),10),n=parseFloat(e.slice(l+1,u)),r=parseInt(1e3*(60*(60*t+i)+n),10),isNaN(r)&&(r=0),s&&(r=-1*r),r},convertMillisecondsToISO8601Duration:function(e){var t,i,n,r=parseInt(e,10),s="",o="";return 0>r&&(s="-",r=-1*r),t=parseInt(r/36e5,10),i=parseInt(r%36e5/6e4,10),n=r%36e5%6e4/1e3,o=s+"PT",t>0&&(o+=t+"H"),i>0&&(o+=i+"M"),o+=n+"S"},getSHA1String:function(e){return CryptoJS.SHA1(e).toString(CryptoJS.enc.Hex)},getBase64String:function(e){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(e))},getLangDictionaryValue:function(e,t){var i,n=this[e];if("undefined"!=typeof t&&"undefined"!=typeof n[t])return n[t];if("undefined"!=typeof n.und)return n.und;if("undefined"!=typeof n["en-US"])return n["en-US"];for(i in n)if(n.hasOwnProperty(i))return n[i];return""},parseURL:function(e){var t,i,n,r,s=/\+/g,o=/([^&=]+)=?([^&]*)/g,a=function(e){
return decodeURIComponent(e.replace(s," "))};if(t=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),i=e.match(t),n={protocol:i[1],host:i[2],hostname:i[3],port:i[4],pathname:i[5],search:i[6],hash:i[7],params:{}},n.path=n.protocol+"//"+n.host+n.pathname,""!==n.search)for(;r=o.exec(n.search.substring(1));)n.params[a(r[1])]=a(r[2]);return n},getServerRoot:function(e){var t=e.split("/");return t[0]+"//"+t[2]},getContentTypeFromHeader:function(e){return String(e).split(";")[0]},isApplicationJSON:function(e){return 0===TinCan.Utils.getContentTypeFromHeader(e).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var e=TinCan.LRS=function(e){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(e)};e.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=TinCan.versions(),n=!1;if(e=e||{},e.hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!e.hasOwnProperty("endpoint")||null===e.endpoint||""===e.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(e.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),e.hasOwnProperty("allowFail")&&(this.allowFail=e.allowFail),e.hasOwnProperty("auth")?this.auth=e.auth:e.hasOwnProperty("username")&&e.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(e.username+":"+e.password)),e.hasOwnProperty("extended")&&(this.extended=e.extended),this._initByEnvironment(e),"undefined"!=typeof e.version){for(this.log("version: "+e.version),t=0;t<i.length;t+=1)if(i[t]===e.version){n=!0;break}if(!n)throw this.log("[error] LRS invalid: version not supported ("+e.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+e.version+")"};this.version=e.version}else this.version=i[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(e){this.log("sendRequest");var t,i=this.endpoint+e.url,n={};if(0===e.url.indexOf("http")&&(i=e.url),null!==this.extended){e.params=e.params||{};for(t in this.extended)this.extended.hasOwnProperty(t)&&(e.params.hasOwnProperty(t)||null!==this.extended[t]&&(e.params[t]=this.extended[t]))}n.Authorization=this.auth,"0.9"!==this.version&&(n["X-Experience-API-Version"]=this.version);for(t in e.headers)e.headers.hasOwnProperty(t)&&(n[t]=e.headers[t]);return this._makeRequest(i,n,e)},about:function(e){this.log("about");var t,i,n;return e=e||{},t={url:"about",method:"GET",params:{}},"undefined"!=typeof e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.About.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),n?void 0:(null===i.err&&(i.xhr=TinCan.About.fromJSON(i.xhr.responseText)),i)},saveStatement:function(e,t){this.log("saveStatement");var i,n;t=t||{};try{n=e.asVersion(this.version)}catch(r){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+r),"undefined"!=typeof t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+r),"undefined"!=typeof t.callback?void t.callback(r,null):{err:r,xhr:null})}return i={url:"statements",data:JSON.stringify(n),headers:{"Content-Type":"application/json"}},null!==e.id?(i.method="PUT",i.params={statementId:e.id}):i.method="POST","undefined"!=typeof t.callback&&(i.callback=t.callback),this.sendRequest(i)},retrieveStatement:function(e,t){this.log("retrieveStatement");var i,n,r;return t=t||{},i={url:"statements",method:"GET",params:{statementId:e}},"undefined"!=typeof t.callback&&(r=function(e,i){var n=i;null===e&&(n=TinCan.Statement.fromJSON(i.responseText)),t.callback(e,n)},i.callback=r),n=this.sendRequest(i),r||(n.statement=null,null===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText))),n},retrieveVoidedStatement:function(e,t){this.log("retrieveVoidedStatement");var i,n,r;return t=t||{},i={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?i.params.statementId=e:i.params.voidedStatementId=e,"undefined"!=typeof t.callback&&(r=function(e,i){var n=i;null===e&&(n=TinCan.Statement.fromJSON(i.responseText)),t.callback(e,n)},i.callback=r),n=this.sendRequest(i),r||(n.statement=null,null===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText))),n},saveStatements:function(e,t){this.log("saveStatements");var i,n,r,s=[];if(t=t||{},0===e.length)return"undefined"!=typeof t.callback?void t.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(r=0;r<e.length;r+=1){try{n=e[r].asVersion(this.version)}catch(o){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+o),"undefined"!=typeof t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+o),"undefined"!=typeof t.callback?void t.callback(o,null):{err:o,xhr:null})}s.push(n)}return i={url:"statements",method:"POST",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}},"undefined"!=typeof t.callback&&(i.callback=t.callback),this.sendRequest(i)},queryStatements:function(e){this.log("queryStatements");var t,i,n;e=e||{},e.params=e.params||{};try{t=this._queryStatementsRequestCfg(e)}catch(r){return this.log("[error] Query statements failed - "+r),"undefined"!=typeof e.callback&&e.callback(r,{}),{err:r,statementsResult:null}}return"undefined"!=typeof e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.StatementsResult.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),i.config=t,n||(i.statementsResult=null,null===i.err&&(i.statementsResult=TinCan.StatementsResult.fromJSON(i.xhr.responseText))),i},_queryStatementsRequestCfg:function(e){this.log("_queryStatementsRequestCfg");var t,i,n={},r={url:"statements",method:"GET",params:n},s=["agent","actor","object","instructor"],o=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],e.params.hasOwnProperty("target")&&(e.params.object=e.params.target);for(i in e.params)if(e.params.hasOwnProperty(i)&&"undefined"==typeof l[i]&&"undefined"==typeof u[this.version].supported[i])throw"Unrecognized query parameter configured: "+i;for(t=0;t<s.length;t+=1)"undefined"!=typeof e.params[s[t]]&&(n[s[t]]=JSON.stringify(e.params[s[t]].asVersion(this.version)));for(t=0;t<o.length;t+=1)"undefined"!=typeof e.params[o[t]]&&(n[o[t]]=e.params[o[t]].id);for(t=0;t<a.length;t+=1)"undefined"!=typeof e.params[a[t]]&&(n[a[t]]=e.params[a[t]]);return r},moreStatements:function(e){this.log("moreStatements: "+e.url);var t,i,n,r,s;return e=e||{},r=TinCan.Utils.parseURL(e.url),s=TinCan.Utils.getServerRoot(this.endpoint),0===r.path.indexOf("/statements")&&(r.path=this.endpoint.replace(s,"")+r.path,this.log("converting non-standard more URL to "+r.path)),0!==r.path.indexOf("/")&&(r.path="/"+r.path),t={method:"GET",url:s+r.path,params:r.params},"undefined"!=typeof e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.StatementsResult.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),i.config=t,n||(i.statementsResult=null,null===i.err&&(i.statementsResult=TinCan.StatementsResult.fromJSON(i.xhr.responseText))),i},retrieveState:function(e,t){this.log("retrieveState");var i,n,r={},s={};if(r={stateId:e,activityId:t.activity.id},"0.9"===this.version?r.actor=JSON.stringify(t.agent.asVersion(this.version)):r.agent=JSON.stringify(t.agent.asVersion(this.version)),"undefined"!=typeof t.registration&&null!==t.registration&&("0.9"===this.version?r.registrationId=t.registration:r.registration=t.registration),s={url:"activities/state",method:"GET",params:r,ignore404:!0},"undefined"!=typeof t.callback&&(n=function(i,n){var r=n;if(null===i)if(404===n.status)r=null;else if(r=new TinCan.State({id:e,contents:n.responseText}),"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(n.responseText),"undefined"!=typeof n.contentType?r.contentType=n.contentType:"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(r.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(s){this.log("retrieveState - failed to deserialize JSON: "+s)}t.callback(i,r)},s.callback=n),i=this.sendRequest(s),!n&&(i.state=null,null===i.err&&404!==i.xhr.status&&(i.state=new TinCan.State({id:e,contents:i.xhr.responseText}),"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.state.etag=i.xhr.getResponseHeader("ETag"):i.state.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),"undefined"!=typeof i.xhr.contentType?i.state.contentType=i.xhr.contentType:"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.state.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.state.contentType))))try{i.state.contents=JSON.parse(i.state.contents)}catch(o){this.log("retrieveState - failed to deserialize JSON: "+o)}return i},saveState:function(e,t,i){this.log("saveState");var n,r;return"undefined"==typeof i.contentType&&(i.contentType="application/octet-stream"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),"undefined"!=typeof i.method&&"POST"===i.method||(i.method="PUT"),n={stateId:e,activityId:i.activity.id},"0.9"===this.version?n.actor=JSON.stringify(i.agent.asVersion(this.version)):n.agent=JSON.stringify(i.agent.asVersion(this.version)),"undefined"!=typeof i.registration&&null!==i.registration&&("0.9"===this.version?n.registrationId=i.registration:n.registration=i.registration),r={url:"activities/state",method:i.method,params:n,data:t,headers:{"Content-Type":i.contentType}},"undefined"!=typeof i.callback&&(r.callback=i.callback),"undefined"!=typeof i.lastSHA1&&null!==i.lastSHA1&&(r.headers["If-Match"]=i.lastSHA1),this.sendRequest(r)},dropState:function(e,t){this.log("dropState");var i,n;return i={activityId:t.activity.id},"0.9"===this.version?i.actor=JSON.stringify(t.agent.asVersion(this.version)):i.agent=JSON.stringify(t.agent.asVersion(this.version)),null!==e&&(i.stateId=e),"undefined"!=typeof t.registration&&null!==t.registration&&("0.9"===this.version?i.registrationId=t.registration:i.registration=t.registration),n={url:"activities/state",method:"DELETE",params:i},"undefined"!=typeof t.callback&&(n.callback=t.callback),this.sendRequest(n)},retrieveActivityProfile:function(e,t){this.log("retrieveActivityProfile");var i,n,r={};if(r={url:"activities/profile",method:"GET",params:{profileId:e,activityId:t.activity.id},ignore404:!0},"undefined"!=typeof t.callback&&(n=function(i,n){var r=n;if(null===i)if(404===n.status)r=null;else if(r=new TinCan.ActivityProfile({id:e,activity:t.activity,contents:n.responseText}),"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(n.responseText),"undefined"!=typeof n.contentType?r.contentType=n.contentType:"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(r.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(s){this.log("retrieveActivityProfile - failed to deserialize JSON: "+s)}t.callback(i,r)},r.callback=n),i=this.sendRequest(r),!n&&(i.profile=null,null===i.err&&404!==i.xhr.status&&(i.profile=new TinCan.ActivityProfile({id:e,activity:t.activity,contents:i.xhr.responseText}),"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.profile.etag=i.xhr.getResponseHeader("ETag"):i.profile.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),"undefined"!=typeof i.xhr.contentType?i.profile.contentType=i.xhr.contentType:"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.profile.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.profile.contentType))))try{i.profile.contents=JSON.parse(i.profile.contents)}catch(s){this.log("retrieveActivityProfile - failed to deserialize JSON: "+s)}return i},saveActivityProfile:function(e,t,i){this.log("saveActivityProfile");var n;return"undefined"==typeof i.contentType&&(i.contentType="application/octet-stream"),"undefined"!=typeof i.method&&"POST"===i.method||(i.method="PUT"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={url:"activities/profile",method:i.method,params:{profileId:e,activityId:i.activity.id},data:t,headers:{"Content-Type":i.contentType}},"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropActivityProfile:function(e,t){this.log("dropActivityProfile");var i,n;return i={profileId:e,activityId:t.activity.id},n={url:"activities/profile",method:"DELETE",params:i},"undefined"!=typeof t.callback&&(n.callback=t.callback),this.sendRequest(n)},retrieveAgentProfile:function(e,t){this.log("retrieveAgentProfile");var i,n,r={};if(r={method:"GET",params:{profileId:e},ignore404:!0},"0.9"===this.version?(r.url="actors/profile",r.params.actor=JSON.stringify(t.agent.asVersion(this.version))):(r.url="agents/profile",r.params.agent=JSON.stringify(t.agent.asVersion(this.version))),"undefined"!=typeof t.callback&&(n=function(i,n){var r=n;if(null===i)if(404===n.status)r=null;else if(r=new TinCan.AgentProfile({id:e,agent:t.agent,contents:n.responseText}),"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(n.responseText),"undefined"!=typeof n.contentType?r.contentType=n.contentType:"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(r.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(s){this.log("retrieveAgentProfile - failed to deserialize JSON: "+s)}t.callback(i,r)},r.callback=n),i=this.sendRequest(r),!n&&(i.profile=null,null===i.err&&404!==i.xhr.status&&(i.profile=new TinCan.AgentProfile({id:e,agent:t.agent,contents:i.xhr.responseText}),"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.profile.etag=i.xhr.getResponseHeader("ETag"):i.profile.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),"undefined"!=typeof i.xhr.contentType?i.profile.contentType=i.xhr.contentType:"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.profile.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.profile.contentType))))try{i.profile.contents=JSON.parse(i.profile.contents)}catch(s){this.log("retrieveAgentProfile - failed to deserialize JSON: "+s)}return i},saveAgentProfile:function(e,t,i){this.log("saveAgentProfile");var n;return"undefined"==typeof i.contentType&&(i.contentType="application/octet-stream"),"undefined"!=typeof i.method&&"POST"===i.method||(i.method="PUT"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={method:i.method,params:{profileId:e},data:t,headers:{"Content-Type":i.contentType}},"0.9"===this.version?(n.url="actors/profile",n.params.actor=JSON.stringify(i.agent.asVersion(this.version))):(n.url="agents/profile",n.params.agent=JSON.stringify(i.agent.asVersion(this.version))),"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropAgentProfile:function(e,t){this.log("dropAgentProfile");var i,n;return i={profileId:e},n={method:"DELETE",params:i},"0.9"===this.version?(n.url="actors/profile",i.actor=JSON.stringify(t.agent.asVersion(this.version))):(n.url="agents/profile",i.agent=JSON.stringify(t.agent.asVersion(this.version))),"undefined"!=typeof t.callback&&(n.callback=t.callback),this.sendRequest(n)}},e.syncEnabled=null}(),function(){"use strict";var e=TinCan.AgentAccount=function(e){this.log("constructor"),this.homePage=null,this.name=null,this.init(e)};e.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["name","homePage"];for(e=e||{},"undefined"!=typeof e.accountServiceHomePage&&(e.homePage=e.accountServiceHomePage),"undefined"!=typeof e.accountName&&(e.name=e.accountName),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){this.log("toString");var e="";return null!==this.name||null!==this.homePage?(e+=null!==this.name?this.name:"-",e+=":",e+=null!==this.homePage?this.homePage:"-"):e="AgentAccount: unidentified",e},asVersion:function(e){this.log("asVersion: "+e);var t={};return e=e||TinCan.versions()[0],"0.9"===e?(t.accountName=this.name,t.accountServiceHomePage=this.homePage):(t.name=this.name,t.homePage=this.homePage),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Agent=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(e)};e.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n=["name","mbox","mbox_sha1sum","openid"];for(e=e||{},"undefined"!=typeof e.lastName||"undefined"!=typeof e.firstName?(e.name="","undefined"!=typeof e.firstName&&e.firstName.length>0&&(e.name=e.firstName[0],e.firstName.length>1&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),"undefined"!=typeof e.lastName&&e.lastName.length>0&&(e.name+=e.lastName[0],e.lastName.length>1&&(this.degraded=!0))):"undefined"==typeof e.familyName&&"undefined"==typeof e.givenName||(e.name="","undefined"!=typeof e.givenName&&e.givenName.length>0&&(e.name=e.givenName[0],e.givenName.length>1&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),"undefined"!=typeof e.familyName&&e.familyName.length>0&&(e.name+=e.familyName[0],e.familyName.length>1&&(this.degraded=!0))),"object"==typeof e.name&&null!==e.name&&(e.name.length>1&&(this.degraded=!0),e.name=e.name[0]),"object"==typeof e.mbox&&null!==e.mbox&&(e.mbox.length>1&&(this.degraded=!0),e.mbox=e.mbox[0]),"object"==typeof e.mbox_sha1sum&&null!==e.mbox_sha1sum&&(e.mbox_sha1sum.length>1&&(this.degraded=!0),e.mbox_sha1sum=e.mbox_sha1sum[0]),"object"==typeof e.openid&&null!==e.openid&&(e.openid.length>1&&(this.degraded=!0),e.openid=e.openid[0]),"object"==typeof e.account&&null!==e.account&&"undefined"==typeof e.account.homePage&&"undefined"==typeof e.account.name&&(0===e.account.length?delete e.account:(e.account.length>1&&(this.degraded=!0),e.account=e.account[0])),e.hasOwnProperty("account")&&(e.account instanceof TinCan.AgentAccount?this.account=e.account:this.account=new TinCan.AgentAccount(e.account)),t=0;t<n.length;t+=1)e.hasOwnProperty(n[t])&&null!==e[n[t]]&&(i=e[n[t]],"mbox"===n[t]&&-1===i.indexOf("mailto:")&&(i="mailto:"+i),this[n[t]]=i)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(e){this.log("asVersion: "+e);var t={objectType:this.objectType};return e=e||TinCan.versions()[0],"0.9"===e?(null!==this.mbox?t.mbox=[this.mbox]:null!==this.mbox_sha1sum?t.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?t.openid=[this.openid]:null!==this.account&&(t.account=[this.account.asVersion(e)]),null!==this.name&&(t.name=[this.name])):(null!==this.mbox?t.mbox=this.mbox:null!==this.mbox_sha1sum?t.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?t.openid=this.openid:null!==this.account&&(t.account=this.account.asVersion(e)),null!==this.name&&(t.name=this.name)),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Group=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(e)};e.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(e){this.log("init");var t;if(e=e||{},TinCan.Agent.prototype.init.call(this,e),"undefined"!=typeof e.member)for(t=0;t<e.member.length;t+=1)e.member[t]instanceof TinCan.Agent?this.member.push(e.member[t]):this.member.push(new TinCan.Agent(e.member[t]))},toString:function(e){this.log("toString");var t=TinCan.Agent.prototype.toString.call(this,e);return t!==this.objectType+": unidentified"&&(t=this.objectType+": "+t),t},asVersion:function(e){this.log("asVersion: "+e);var t,i;if(e=e||TinCan.versions()[0],t=TinCan.Agent.prototype.asVersion.call(this,e),this.member.length>0)for(t.member=[],i=0;i<this.member.length;i+=1)t.member.push(this.member[i].asVersion(e));return t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},t=TinCan.Verb=function(e){this.log("constructor"),this.id=null,this.display=null,this.init(e)};t.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(t){this.log("init");var i,n,r=["id","display"];if("string"==typeof t){this.id=t,this.display={und:this.id};for(n in e)if(e.hasOwnProperty(n)&&e[n]===t){this.id=n;break}}else{for(t=t||{},i=0;i<r.length;i+=1)t.hasOwnProperty(r[i])&&null!==t[r[i]]&&(this[r[i]]=t[r[i]]);null===this.display&&"undefined"!=typeof e[this.id]&&(this.display={und:e[this.id]})}},toString:function(e){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",e):this.id},asVersion:function(t){this.log("asVersion");var i;return t=t||TinCan.versions()[0],"0.9"===t?i=e[this.id]:(i={id:this.id},null!==this.display&&(i.display=this.display)),i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var i=JSON.parse(e);return new t(i)}}(),function(){"use strict";var e=TinCan.Result=function(e){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(e)};e.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["completion","duration","extensions","response","success"];for(e=e||{},e.hasOwnProperty("score")&&null!==e.score&&(e.score instanceof TinCan.Score?this.score=e.score:this.score=new TinCan.Score(e.score)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(e){this.log("asVersion");var t,i={},n=["success","duration","response","extensions"],r=["score"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<r.length;t+=1)null!==this[r[t]]&&(i[r[t]]=this[r[t]].asVersion(e));return null!==this.completion&&("0.9"===e?this.completion&&(i.completion="Completed"):i.completion=this.completion),i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Score=function(e){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(e)};e.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["scaled","raw","min","max"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i={},n=["scaled","raw","min","max"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);return i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.InteractionComponent=function(e){this.log("constructor"),this.id=null,this.description=null,this.init(e)};e.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","description"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i,n={id:this.id},r=["description"];for(e=e||TinCan.versions()[0],t=0;t<r.length;t+=1)i=r[t],null!==this[i]&&(n[i]=this[i]);return n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},t=TinCan.ActivityDefinition=function(e){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(e)};t.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(t){this.log("init");var i,n,r,s=["name","description","moreInfo","extensions","correctResponsesPattern"],o=[];if(t=t||{},t.hasOwnProperty("type")&&null!==t.type){for(r in e)e.hasOwnProperty(r)&&e[r]===t.type&&(t.type=e[r]);this.type=t.type}if(t.hasOwnProperty("interactionType")&&null!==t.interactionType&&(this.interactionType=t.interactionType,"choice"===t.interactionType||"sequencing"===t.interactionType?o.push("choices"):"likert"===t.interactionType?o.push("scale"):"matching"===t.interactionType?(o.push("source"),o.push("target")):"performance"===t.interactionType&&o.push("steps"),o.length>0))for(i=0;i<o.length;i+=1)if(r=o[i],t.hasOwnProperty(r)&&null!==t[r])for(this[r]=[],n=0;n<t[r].length;n+=1)t[r][n]instanceof TinCan.InteractionComponent?this[r].push(t[r][n]):this[r].push(new TinCan.InteractionComponent(t[r][n]));for(i=0;i<s.length;i+=1)t.hasOwnProperty(s[i])&&null!==t[s[i]]&&(this[s[i]]=t[s[i]])},toString:function(e){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",e):null!==this.description?this.getLangDictionaryValue("description",e):""},asVersion:function(t){this.log("asVersion");var i,n,r,s={},o=["name","description","interactionType","correctResponsesPattern","extensions"],a=["choices","scale","source","target","steps"];for(t=t||TinCan.versions()[0],null!==this.type&&("0.9"===t?s.type=e[this.type]:s.type=this.type),i=0;i<o.length;i+=1)r=o[i],null!==this[r]&&(s[r]=this[r]);for(i=0;i<a.length;i+=1)if(r=a[i],null!==this[r])for(s[r]=[],n=0;n<this[r].length;n+=1)s[r].push(this[r][n].asVersion(t));return 0!==t.indexOf("0.9")&&null!==this.moreInfo&&(s.moreInfo=this.moreInfo),s},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var i=JSON.parse(e);return new t(i)}}(),function(){"use strict";var e=TinCan.Activity=function(e){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(e)};e.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for(e=e||{},e.hasOwnProperty("definition")&&(e.definition instanceof TinCan.ActivityDefinition?this.definition=e.definition:this.definition=new TinCan.ActivityDefinition(e.definition)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){this.log("toString");var t="";return null!==this.definition&&(t=this.definition.toString(e),""!==t)?t:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(e){this.log("asVersion");var t={id:this.id,objectType:this.objectType};return e=e||TinCan.versions()[0],null!==this.definition&&(t.definition=this.definition.asVersion(e)),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.ContextActivities=function(e){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(e)};e.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,r,s=["category","parent","grouping","other"];for(e=e||{},t=0;t<s.length;t+=1)if(n=s[t],e.hasOwnProperty(n)&&null!==e[n])if("[object Array]"===Object.prototype.toString.call(e[n]))for(i=0;i<e[n].length;i+=1)this.add(n,e[n][i]);else r=e[n],this.add(n,r)},add:function(e,t){return"category"===e||"parent"===e||"grouping"===e||"other"===e?(null===this[e]&&(this[e]=[]),t instanceof TinCan.Activity||(t="string"==typeof t?{id:t}:t,t=new TinCan.Activity(t)),this[e].push(t),this[e].length-1):void 0},asVersion:function(e){this.log("asVersion");var t,i,n={},r=["parent","grouping","other"];for(e=e||TinCan.versions()[0],t=0;t<r.length;t+=1)if(null!==this[r[t]]&&this[r[t]].length>0)if("0.9"===e||"0.95"===e)this[r[t]].length>1&&this.log("[warning] version does not support multiple values in: "+r[t]),n[r[t]]=this[r[t]][0].asVersion(e);else for(n[r[t]]=[],i=0;i<this[r[t]].length;i+=1)n[r[t]].push(this[r[t]][i].asVersion(e));if(null!==this.category&&this.category.length>0){if("0.9"===e||"0.95"===e)throw this.log("[error] version does not support the 'category' property: "+e),new Error(e+" does not support the 'category' property");
for(n.category=[],t=0;t<this.category.length;t+=1)n.category.push(this.category[t].asVersion(e))}return n}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Context=function(e){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(e)};e.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,r=["registration","revision","platform","language","extensions"],s=["instructor","team"];for(e=e||{},t=0;t<r.length;t+=1)i=r[t],e.hasOwnProperty(i)&&null!==e[i]&&(this[i]=e[i]);for(t=0;t<s.length;t+=1)i=s[t],e.hasOwnProperty(i)&&null!==e[i]&&(n=e[i],"undefined"!=typeof n.objectType&&"Person"!==n.objectType||(n.objectType="Agent"),"Agent"!==n.objectType||n instanceof TinCan.Agent?"Group"!==n.objectType||n instanceof TinCan.Group||(n=new TinCan.Group(n)):n=new TinCan.Agent(n),this[i]=n);e.hasOwnProperty("contextActivities")&&null!==e.contextActivities&&(e.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=e.contextActivities:this.contextActivities=new TinCan.ContextActivities(e.contextActivities)),e.hasOwnProperty("statement")&&null!==e.statement&&(e.statement instanceof TinCan.StatementRef?this.statement=e.statement:e.statement instanceof TinCan.SubStatement?this.statement=e.statement:"StatementRef"===e.statement.objectType?this.statement=new TinCan.StatementRef(e.statement):"SubStatement"===e.statement.objectType?this.statement=new TinCan.SubStatement(e.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(e){this.log("asVersion");var t,i={},n=["registration","revision","platform","language","extensions"],r=["instructor","team","contextActivities","statement"];if(e=e||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==e&&"0.95"!==e)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+e),new Error(e+" does not support SubStatements in the 'statement' property");for(t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<r.length;t+=1)null!==this[r[t]]&&(i[r[t]]=this[r[t]].asVersion(e));return i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.StatementRef=function(e){this.log("constructor"),this.id=null,this.init(e)};e.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){return this.log("toString"),this.id},asVersion:function(e){this.log("asVersion");var t={objectType:this.objectType,id:this.id};return"0.9"===e&&(t.objectType="Statement"),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.SubStatement=function(e){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(e)};e.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["timestamp"];for(e=e||{},e.hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&("undefined"!=typeof e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:("undefined"==typeof e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i,n=["timestamp"],r=["actor","verb","result","context"];for(t={objectType:this.objectType},e=e||TinCan.versions()[0],i=0;i<n.length;i+=1)null!==this[n[i]]&&(t[n[i]]=this[n[i]]);for(i=0;i<r.length;i+=1)null!==this[r[i]]&&(t[r[i]]=this[r[i]].asVersion(e));return null!==this.target&&(t.object=this.target.asVersion(e)),"0.9"===e&&(t.objectType="Statement"),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Statement=function(e,t){this.log("constructor"),t="number"==typeof t?{storeOriginal:t}:t||{},"undefined"==typeof t.storeOriginal&&(t.storeOriginal=null),"undefined"==typeof t.doStamp&&(t.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(e,t)};e.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(e,t){this.log("init");var i,n=["id","stored","timestamp","version","inProgress","voided"];for(e=e||{},t.storeOriginal&&(this.originalJSON=JSON.stringify(e,null,t.storeOriginal)),e.hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&("undefined"!=typeof e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("authority")&&("undefined"!=typeof e.authority.objectType&&"Person"!==e.authority.objectType||(e.authority.objectType="Agent"),"Agent"===e.authority.objectType?e.authority instanceof TinCan.Agent?this.authority=e.authority:this.authority=new TinCan.Agent(e.authority):"Group"===e.authority.objectType&&(e.actor instanceof TinCan.Group?this.authority=e.authority:this.authority=new TinCan.Group(e.authority))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:("undefined"==typeof e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),i=0;i<n.length;i+=1)e.hasOwnProperty(n[i])&&null!==e[n[i]]&&(this[n[i]]=e[n[i]]);t.doStamp&&this.stamp()},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i={},n=["id","timestamp"],r=["actor","verb","result","context","authority"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<r.length;t+=1)null!==this[r[t]]&&(i[r[t]]=this[r[t]].asVersion(e));return null!==this.target&&(i.object=this.target.asVersion(e)),"0.9"!==e&&"0.95"!==e||null!==this.voided&&(i.voided=this.voided),"0.9"===e&&null!==this.inProgress&&(i.inProgress=this.inProgress),i},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.StatementsResult=function(e){this.log("constructor"),this.statements=null,this.more=null,this.init(e)};e.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(e){this.log("init"),e=e||{},e.hasOwnProperty("statements")&&(this.statements=e.statements),e.hasOwnProperty("more")&&(this.more=e.more)}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i,n,r,s=[];try{i=JSON.parse(t)}catch(o){e.prototype.log("fromJSON - JSON.parse error: "+o)}if(i){for(r=0;r<i.statements.length;r+=1){try{n=new TinCan.Statement(i.statements[r],4)}catch(a){e.prototype.log("fromJSON - statement instantiation failed: "+a+" ("+JSON.stringify(i.statements[r])+")"),n=new TinCan.Statement({id:i.statements[r].id},4)}s.push(n)}i.statements=s}return new e(i)}}(),function(){"use strict";var e=TinCan.State=function(e){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.ActivityProfile=function(e){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},e.hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.AgentProfile=function(e){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},e.hasOwnProperty("agent")&&(e.agent instanceof TinCan.Agent?this.agent=e.agent:this.agent=new TinCan.Agent(e.agent)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.About=function(e){this.log("constructor"),this.version=null,this.init(e)};e.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["version"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;return"undefined"==typeof window?void log("'window' not defined",LOG_SRC):(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(e){var t,i,n="";if(e instanceof Object){if(e.constructor===Array){for(t=0;t<e.length;t+=1)n+=this.stringify(e[t])+",";return"["+n.substr(0,n.length-1)+"]"}if(e.toString!==Object.prototype.toString)return'"'+e.toString().replace(/"/g,"\\$&")+'"';for(i in e)e.hasOwnProperty(i)&&(n+='"'+i.replace(/"/g,"\\$&")+'":'+this.stringify(e[i])+",");return"{"+n.substr(0,n.length-1)+"}"}return"string"==typeof e?'"'+e.replace(/"/g,"\\$&")+'"':String(e)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(e,t,i){log("requestComplete: "+i.finished+", xhr.status: "+e.status,LOG_SRC);var n,r,s;return s="undefined"==typeof e.status?i.fakeStatus:1223===e.status?204:e.status,i.finished?n:(i.finished=!0,r=t.ignore404&&404===s,s>=200&&400>s||r?t.callback?void t.callback(null,e):n={err:null,xhr:e}:(n={err:s,xhr:e},0===s?log("[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+s+")",LOG_SRC):log("[warning] There was a problem communicating with the Learning Record Store. ("+s+" | "+e.responseText+")",LOG_SRC),t.callback&&t.callback(s,e),n))},__IEModeConversion=function(e,t,i,n){var r;for(r in t)t.hasOwnProperty(r)&&i.push(r+"="+encodeURIComponent(t[r]));return"undefined"!=typeof n.data&&i.push("content="+encodeURIComponent(n.data)),t["Content-Type"]="application/x-www-form-urlencoded",e+="?method="+n.method,n.method="POST",n.params={},i.length>0&&(n.data=i.join("&")),e},nativeRequest=function(e,t,i){log("sendRequest using XMLHttpRequest",LOG_SRC);var n,r,s,o,a=this,l=[],u={finished:!1,fakeStatus:null},c="undefined"!=typeof i.callback,h=e,p=2048;log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC);for(r in i.params)i.params.hasOwnProperty(r)&&l.push(r+"="+encodeURIComponent(i.params[r]));if(l.length>0&&(h+="?"+l.join("&")),h.length>=p){if("undefined"!=typeof t["Content-Type"]&&"application/json"!==t["Content-Type"])return o=new Error("Unsupported content type for IE Mode request"),"undefined"!=typeof i.callback&&i.callback(o,null),{err:o,xhr:null};if("undefined"==typeof i.method)return o=new Error("method must not be undefined for an IE Mode Request conversion"),"undefined"!=typeof i.callback&&i.callback(o,null),{err:o,xhr:null};e=__IEModeConversion(e,t,l,i)}else e=h;n="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.open(i.method,e,c);for(r in t)t.hasOwnProperty(r)&&n.setRequestHeader(r,t[r]);"undefined"!=typeof i.data&&(i.data+=""),s=i.data,c&&(n.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+n.readyState,LOG_SRC),4===n.readyState&&requestComplete.call(a,n,i,u)});try{n.send(s)}catch(d){log("sendRequest caught send exception: "+d,LOG_SRC)}return c?n:requestComplete.call(this,n,i,u)},xdrRequest=function(e,t,i){log("sendRequest using XDomainRequest",LOG_SRC);var n,r,s,o,a,l=this,u=[],c={finished:!1,fakeStatus:null};if("undefined"!=typeof t["Content-Type"]&&"application/json"!==t["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),i.callback?(i.callback(a,null),null):{err:a,xhr:null};e+="?method="+i.method;for(s in i.params)i.params.hasOwnProperty(s)&&u.push(s+"="+encodeURIComponent(i.params[s]));for(s in t)t.hasOwnProperty(s)&&u.push(s+"="+encodeURIComponent(t[s]));"undefined"!=typeof i.data&&u.push("content="+encodeURIComponent(i.data)),r=u.join("&"),n=new XDomainRequest,n.open("POST",e),i.callback?(n.onload=function(){c.fakeStatus=200,requestComplete.call(l,n,i,c)},n.onerror=function(){c.fakeStatus=400,requestComplete.call(l,n,i,c)},n.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,n,i,c)}):(n.onload=function(){c.fakeStatus=200},n.onerror=function(){c.fakeStatus=400},n.ontimeout=function(){c.fakeStatus=0}),n.onprogress=function(){},n.timeout=0;try{n.send(r)}catch(h){log("sendRequest caught send exception: "+h,LOG_SRC)}if(!i.callback){for(o=1e4+Date.now(),log("sendRequest - until: "+o+", finished: "+c.finished,LOG_SRC);Date.now()<o&&null===c.fakeStatus;)__delay();return requestComplete.call(l,n,i,c)}return n},TinCan.LRS.prototype._initByEnvironment=function(e){log("_initByEnvironment",LOG_SRC);var t,i,n,r;if(e=e||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,t=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/),null===t)throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(n=location.port,i=location.protocol.toLowerCase()===t[1],""===n&&(n="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),r=!i||location.hostname.toLowerCase()!==t[2]||n!==(null!==t[3]&&"undefined"!=typeof t[3]&&""!==t[3]?t[3]:"http:"===t[1]?"80":"https:"===t[1]?"443":""))if(env.hasCORS){if(env.useXDR&&i)this._makeRequest=xdrRequest;else if(env.useXDR&&!i){if(!e.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!e.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var e=new XMLHttpRequest,t=window.location+"?forcenocache="+TinCan.Utils.getUUID();e.open("GET",t,!1),e.send(null)},void(TinCan.LRS.syncEnabled=!0))}(),define("tincan",function(){}),define("helpers/external/tinCan",["require","lodash","helpers/vow","helpers/utils","tincan"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/vow"),r=e("helpers/utils"),s=(e("tincan"),window.TinCan),o=s.Utils.convertMillisecondsToISO8601Duration,a=s.Utils.getUUID,l="/",u="Activity",c="resume",h="choice",p="fill-in",d="matching",f="numeric",m="sequencing",g="likert",v="completed",y="passed",b="failed",w="attempted",S="experienced",x="answered",T="http://adlnet.gov/expapi/activities/course",C="http://adlnet.gov/expapi/activities/objective",P="http://adlnet.gov/expapi/activities/module",E="http://adlnet.gov/expapi/activities/cmi.interaction",_="[.]",k="[,]",A="und",R="http://",M=/file/.test(window.location.protocol),I=function(e){var t={id:e.id,description:{}};return t.description[A]=e.lmstext,t},O={};O[h]=O[m]=function(e,t){e.choices=t.choices().map(I)},O[d]=function(e,t){e.target=t.choices().map(I),e.source=t.statements().map(I)};var L={};L.likert=g,L.sequence=m,L.multiplechoice=L.truefalse=L.hotspot=L.wordbank=L.multipleresponse=h,L.numeric=f,L.fillin=p,L.matching=d;var D=function(e){return e===d||e===m||e===h},N={};N.multiplechoice=N.hotspot=N.wordbank=N.sequence=N.truefalse=N.multipleresponse=function(e){var t=e&&e.choiceResponse,i=null!=t?t:e;return r.stripChoice(i)},N.essay=N.fillin=N.numeric=i.identity,N.matching=function(e){return[r.stripStatement(e.statementResponse),r.stripChoice(e.choiceResponse)].join(_)};var V={queue:[],tinCan:null,resumer:null,scoring:null,version:0,setTotalSlides:i.noop,reportStatus:i.noop,initialize:function(e,t,i,n){if(window.globals.tinCanPresent){this.setPreso(n);var o=r.queryStringToObj();return this.urlParams=o,this.version=t,null!=o.activity_id&&(R=o.activity_id.replace(/\/$/,"")),this.scoring=i||{},this.tinCan=M?new s:new s({url:window.location.toString().replace("&tincan=true","")}),this}},setPreso:function(e){t=e},setResumer:function(e){this.resumer=e},createConfig:function(e){return null==this.urlParams.activity_id&&(e.activity={id:"http://"+t.get("courseId")}),e},getItem:function(){this.resumeDfd=new n.Deferred;var e=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState(c,e),M&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(e,t){var n=this.createConfig({callback:i.noop});this.tinCan.setState(c,t,n)},sendResumeReady:function(e,t){null==e&&this.resumeDfd.resolve(t&&t.contents)},courseStarted:function(e){var t=this.getStmtObj({type:T,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb(w)});e||(t.result={completion:!1}),this.queueStatement(t)},quizComplete:function(e){var t=e.get("lmstext"),i=this.getStmtObj(e.id,{type:C,name:t,description:t,verb:this.getVerb(this.getCompletedVerb(e))});e.get("issurvey")||(i.result={score:{scaled:e.prop("PercentScore")/100,raw:e.prop("Score"),min:0,max:e.maxPoints},success:e.isPassed()}),this.queueStatement(i)},courseComplete:function(e,t){if(!t){var i=this.getStmtObj({type:T,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb(this.getCompletedVerb(e))}),n=e.isType("survey");i.result={duration:o(this.resumer.getCourseTime()),completion:!0},n||(i.result.score={scaled:e.getPercentScore()},i.result.success=e.isPassed()),this.queueStatement(i)}},viewedComplete:function(e){var t=this.getStmtObj({type:T,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb(v)}),i={};i[this.formatUri("viewcount")]=e.viewedSlides,t.result={completion:!0,duration:o(this.resumer.getCourseTime()),extensions:i},this.queueStatement(t)},slideViewed:function(e){var t=e.get("title"),i=this.getStmtObj(e.id,{type:P,name:t,description:t,verb:this.getVerb(S)});this.queueStatement(i)},interactionAnswered:function(e,t){var i=t.isType("likert")?"logLikert":"logQuestion";this[i](e,t)},logLikert:function(e,t){t.hasResponses()&&t.responses.forEach(function(i,n){var s=t.statements()[n].lmstext,o=r.stripStatement(i.statementResponse),a=[t.parent.id,t.id,o],l={scale:t.choices().map(I),interactionType:L.likert},u=this.getStmtObj(a,{type:E,name:s,description:s,verb:this.getVerb(x),parent:this.formatUri(e.id)});this.setDefinitions(u,l),u.result={response:r.stripChoice(i.choiceResponse)},this.queueStatement(u)}.bind(this))},logQuestion:function(e,t){if(t.hasResponses()){var n=t.get("lmstext"),r=t.type(),s=L[r],o=N[r],a=O[s]||i.noop,l={interactionType:s},u={response:t.responses.map(o).join(k)},c=[t.parent.id,t.id],h=this.getStmtObj(c,{type:E,name:n,description:n,verb:this.getVerb(x),parent:this.formatUri(e.id)});D(s)&&(l.correctResponsesPattern=[this.getCorrectResponses(t)]),a(l,t),this.setDefinitions(h,l),t.get("issurvey")||(u.success=t.isPassing(),u.score={raw:t.prop("Score")}),h.result=u,this.queueStatement(h)}},formatUri:function(){var e=i.compact(arguments),t=[R],n=this.version<1?".":l;return t.concat(e).join(n)},getCorrectResponses:function(e){var t=e.prop("CorrectResponse"),i=e.isType("sequence");return t.map(function(e){var t=e.id;return i?t=e.choice.id:e.choice&&e.statement&&(t=[e.statement.id,e.choice.id].join(_)),t}).join(k)},getVerb:function(e){var t=new s.Verb(e);return t.display["en-US"]=t.display.und,delete t.display.und,t},getCompletedVerb:function(e){return this.scoring.isType("survey")?v:e.isPassed()?y:b},setDefinitions:function(e,t){i.extend(e.object.definition,t)},getStmtObj:function(e,t){i.isPlainObject(e)&&(t=e,e=void 0);var n={name:{},description:{}};return n.name[A]=t.name||"",n.description[A]=t.description||"",n.type=t.type,i.isArray(e)||(e=[e]),{id:a(),object:{id:this.formatUri.apply(this,e),definition:n},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:t.parent||R,objectType:"Activity"}]}},verb:t.verb,objectType:u}},queueStatement:function(e){0===this.queue.length?this.sendStatement(e):this.queue.unshift(e)},popQueue:function(){this.queue.length>0&&this.sendStatement(this.queue.pop())},sendStatement:function(e){this.tinCan.sendStatement(e,this.popQueue.bind(this))}};return V}),define("external/Emitter",["require"],function(e){function t(e){return e?i(e):void 0}function i(e){for(var i in t.prototype)e[i]=t.prototype[i];return e}return t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===t||n.fn===t){i.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,r=i.length;r>n;++n)i[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length},t}),define("external/superagent",["require","external/Emitter"],function(e){function t(){}function i(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function n(e){return e===Object(e)}function r(e){if(!n(e))return e;var t=[];for(var i in e)null!=e[i]&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function s(e){for(var t,i,n={},r=e.split("&"),s=0,o=r.length;o>s;++s)i=r[s],t=i.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function o(e){var t,i,n,r,s=e.split(/\r?\n/),o={};s.pop();for(var a=0,l=s.length;l>a;++a)i=s[a],t=i.indexOf(":"),n=i.slice(0,t).toLowerCase(),r=m(i.slice(t+1)),o[n]=r;return o}function a(e){return e.split(/ *; */).shift()}function l(e){return d(e.split(/ *; */),function(e,t){var i=t.split(/ *= */),n=i.shift(),r=i.shift();return n&&r&&(e[n]=r),e},{})}function u(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=o(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var i=this;p.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new u(i)}catch(n){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=n,i.callback(e)}if(i.emit("response",t),e)return i.callback(e,t);if(t.status>=200&&t.status<300||0===t.status)return i.callback(e,t);var r=new Error(t.statusText||"Unsuccessful HTTP response");r.original=e,r.response=t,r.status=t.status,i.callback(e||r,t)})}function h(e,t){return"function"==typeof t?new c("GET",e).end(t):1==arguments.length?new c("GET",e):new c(e,t)}var p=e("external/Emitter"),d=function(e,t,i){for(var n=0,r=e.length,s=3==arguments.length?i:e[n++];r>n;)s=t.call(null,s,e[n],++n,e);return s},f="undefined"==typeof window?this||self:window;h.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var m="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};return h.serializeObject=r,h.parseString=s,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},u.prototype.get=function(e){return this.header[e.toLowerCase()]},u.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=a(t);var i=l(t);for(var n in i)this[n]=i[n]},u.prototype.parseBody=function(e){var t=h.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},u.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},u.prototype.toError=function(){var e=this.req,t=e.method,i=e.url,n="cannot "+t+" "+i+" ("+this.status+")",r=new Error(n);return r.status=this.status,r.method=t,r.url=i,r},h.Response=u,p(c.prototype),c.prototype.use=function(e){return e(this),this},c.prototype.timeout=function(e){return this._timeout=e,this},c.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},c.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},c.prototype.set=function(e,t){if(n(e)){for(var i in e)this.set(i,e[i]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},c.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},c.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},c.prototype.type=function(e){return this.set("Content-Type",h.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",h.types[e]||e),this},c.prototype.auth=function(e,t){var i=btoa(e+":"+t);return this.set("Authorization","Basic "+i),this},c.prototype.query=function(e){return"string"!=typeof e&&(e=r(e)),e&&this._query.push(e),this},c.prototype.field=function(e,t){return this._formData||(this._formData=new f.FormData),this._formData.append(e,t),this},c.prototype.attach=function(e,t,i){return this._formData||(this._formData=new f.FormData),this._formData.append(e,t,i),this},c.prototype.send=function(e){var t=n(e),r=this.getHeader("Content-Type");if(t&&n(this._data))for(var s in e)this._data[s]=e[s];else"string"==typeof e?(r||this.type("form"),r=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||i(e)?this:(r||this.type("json"),this)},c.prototype.callback=function(e,t){var i=this._callback;this.clearTimeout(),i(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");
e.crossDomain=!0,this.callback(e)},c.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},c.prototype.withCredentials=function(){return this._withCredentials=!0,this},c.prototype.end=function(e){var n=this,r=this.xhr=h.getXHR(),s=this._query.join("&"),o=this._timeout,a=this._formData||this._data;this._callback=e||t,r.onreadystatechange=function(){if(4==r.readyState){var e;try{e=r.status}catch(t){if(n.timedout)return n.timeoutError();if(n.aborted)return;return n.crossDomainError()}n.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),n.emit("progress",e)};this.hasListeners("progress")&&(r.onprogress=l);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=l)}catch(u){}if(o&&!this._timer&&(this._timer=setTimeout(function(){n.timedout=!0,n.abort()},o)),s&&(s=h.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!i(a)){var c=h.serialize[this.getHeader("Content-Type")];c&&(a=c(a))}for(var p in this.header)null!=this.header[p]&&r.setRequestHeader(p,this.header[p]);return this.emit("request",this),r.send(a),this},h.Request=c,h.get=function(e,t,i){var n=h("GET",e);return"function"==typeof t&&(i=t,t=null),t&&n.query(t),i&&n.end(i),n},h.head=function(e,t,i){var n=h("HEAD",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.del=function(e,t){var i=h("DELETE",e);return t&&i.end(t),i},h.patch=function(e,t,i){var n=h("PATCH",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.post=function(e,t,i){var n=h("POST",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.put=function(e,t,i){var n=h("PUT",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h}),function(e){"use strict";var t=e.GreenSockGlobals||e;if(!t.TweenLite){var i,n,r,s,o,a=function(e){var i,n=e.split("."),r=t;for(i=0;n.length>i;i++)r[n[i]]=r=r[n[i]]||{};return r},l=a("com.greensock"),u=1e-10,c=[].slice,h=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),d={},f=function(i,n,r,s){this.sc=d[i]?d[i].sc:[],d[i]=this,this.gsClass=null,this.func=r;var o=[];this.check=function(l){for(var u,c,h,p,m=n.length,g=m;--m>-1;)(u=d[n[m]]||new f(n[m],[])).gsClass?(o[m]=u.gsClass,g--):l&&u.sc.push(this);if(0===g&&r)for(c=("com.greensock."+i).split("."),h=c.pop(),p=a(c.join("."))[h]=this.gsClass=r.apply(r,o),s&&(t[h]=p,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+i.split(".").join("/"),[],function(){return p}):"undefined"!=typeof module&&module.exports&&(module.exports=p)),m=0;this.sc.length>m;m++)this.sc[m].check()},this.check(!0)},m=e._gsDefine=function(e,t,i,n){return new f(e,t,i,n)},g=l._class=function(e,t,i){return t=t||function(){},m(e,[],function(){return t},i),t};m.globals=t;var v=[0,0,1,1],y=[],b=g("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?v.concat(t):v},!0),w=b.map={},S=b.register=function(e,t,i,n){for(var r,s,o,a,u=t.split(","),c=u.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(s=u[c],r=n?g("easing."+s,null,!0):l.easing[s]||{},o=h.length;--o>-1;)a=h[o],w[s+"."+a]=w[a+s]=r[a]=e.getRatio?e:e[a]||new e};for(r=b.prototype,r._calcEnd=!1,r.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=i.length;--n>-1;)r=i[n]+",Power"+n,S(new b(null,null,1,n),r,"easeOut",!0),S(new b(null,null,2,n),r,"easeIn"+(0===n?",easeNone":"")),S(new b(null,null,3,n),r,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var x=g("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});r=x.prototype,r.addEventListener=function(e,t,i,n,r){r=r||0;var a,l,u=this._listeners[e],c=0;for(null==u&&(this._listeners[e]=u=[]),l=u.length;--l>-1;)a=u[l],a.c===t&&a.s===i?u.splice(l,1):0===c&&r>a.pr&&(c=l+1);u.splice(c,0,{c:t,s:i,up:n,pr:r}),this!==s||o||s.wake()},r.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},r.dispatchEvent=function(e){var t,i,n,r=this._listeners[e];if(r)for(t=r.length,i=this._eventTarget;--t>-1;)n=r[t],n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i)};var T=e.requestAnimationFrame,C=e.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},E=P();for(i=["ms","moz","webkit","o"],n=i.length;--n>-1&&!T;)T=e[i[n]+"RequestAnimationFrame"],C=e[i[n]+"CancelAnimationFrame"]||e[i[n]+"CancelRequestAnimationFrame"];g("Ticker",function(e,t){var i,n,r,a,l,u=this,c=P(),p=t!==!1&&T,d=function(e){E=P(),u.time=(E-c)/1e3;var t,s=u.time-l;(!i||s>0||e===!0)&&(u.frame++,l+=s+(s>=a?.004:a-s),t=!0),e!==!0&&(r=n(d)),t&&u.dispatchEvent("tick")};x.call(u),u.time=u.frame=0,u.tick=function(){d(!0)},u.sleep=function(){null!=r&&(p&&C?C(r):clearTimeout(r),n=h,r=null,u===s&&(o=!1))},u.wake=function(){null!==r&&u.sleep(),n=0===i?h:p&&T?T:function(e){return setTimeout(e,0|1e3*(l-u.time)+1)},u===s&&(o=!0),d(2)},u.fps=function(e){return arguments.length?(i=e,a=1/(i||60),l=this.time+a,void u.wake()):i},u.useRAF=function(e){return arguments.length?(u.sleep(),p=e,void u.fps(i)):p},u.fps(e),setTimeout(function(){p&&(!r||5>u.frame)&&u.useRAF(!1)},1500)}),r=l.Ticker.prototype=new l.events.EventDispatcher,r.constructor=l.Ticker;var _=g("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,F){o||s.wake();var i=this.vars.useFrames?B:F;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});s=_.ticker=new l.Ticker,r=_.prototype,r._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1;var k=function(){o&&P()-E>2e3&&s.wake(),setTimeout(k,2e3)};k(),r.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},r.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},r.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},r.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},r.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},r.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},r.render=function(){},r.invalidate=function(){return this},r.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},r._enabled=function(e,t){return o||s.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(){return this._enabled(!1,!1)},r.kill=function(e,t){return this._kill(e,t),this},r._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},r._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},r.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},r.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},r.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},r.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},r.totalTime=function(e,t,i){if(o||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&this.render(e,t,!1)}return this},r.progress=r.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},r.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},r.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||u,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},r.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},r.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){o||e||s.wake();var t=this._timeline,i=t.rawTime(),n=i-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?i:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&this.render(t.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var A=g("core.SimpleTimeline",function(e){_.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});r=A.prototype=new _,r.constructor=A,r.kill()._gc=!1,r._first=r._last=null,r._sortChildren=!1,r.add=r.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},r._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},r.render=function(e,t,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)n=r._next,(r._active||e>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=n},r.rawTime=function(){return o||s.wake(),this._totalTime};var R=g("TweenLite",function(t,i,n){if(_.call(this,i,n),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:R.selector(t)||t;var r,s,o,a=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?j[R.defaultOverwrite]:"number"==typeof l?l>>0:j[l],(a||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=o=c.call(t,0),this._propLookup=[],this._siblings=[],r=0;o.length>r;r++)s=o[r],s?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(c.call(s,0))):(this._siblings[r]=U(s,this,!1),1===l&&this._siblings[r].length>1&&H(s,this,null,1,this._siblings[r])):(s=o[r--]=R.selector(s),"string"==typeof s&&o.splice(r+1,1)):o.splice(r--,1);else this._propLookup={},this._siblings=U(t,this,!1),1===l&&this._siblings.length>1&&H(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),M=function(t){return t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},I=function(e,t){var i,n={};for(i in e)V[i]||i in t&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!L[i]||L[i]&&L[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n};r=R.prototype=new _,r.constructor=R,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=!1,R.version="1.11.8",R.defaultEase=r._ease=new b(null,null,1,1),R.defaultOverwrite="auto",R.ticker=s,R.autoSleep=!0,R.selector=e.$||e.jQuery||function(t){return e.$?(R.selector=e.$,e.$(t)):e.document?e.document.getElementById("#"===t.charAt(0)?t.substr(1):t):t};var O=R._internals={isArray:p,isSelector:M},L=R._plugins={},D=R._tweenLookup={},N=0,V=O.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},B=_._rootFramesTimeline=new A,F=_._rootTimeline=new A;F._startTime=s.time,B._startTime=s.frame,F._active=B._active=!0,_._updateRoot=function(){if(F.render((s.time-F._startTime)*F._timeScale,!1,!1),B.render((s.frame-B._startTime)*B._timeScale,!1,!1),!(s.frame%120)){var e,t,i;for(i in D){for(t=D[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete D[i]}if(i=F._first,(!i||i._paused)&&R.autoSleep&&!B._first&&1===s._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||s.sleep()}}},s.addEventListener("tick",_._updateRoot);var U=function(e,t,i){var n,r,s=e._gsTweenID;if(D[s||(e._gsTweenID=s="t"+N++)]||(D[s]={target:e,tweens:[]}),t&&(n=D[s].tweens,n[r=n.length]=t,i))for(;--r>-1;)n[r]===t&&n.splice(r,1);return D[s].tweens},H=function(e,t,i,n,r){var s,o,a,l;if(1===n||n>=4){for(l=r.length,s=0;l>s;s++)if((a=r[s])!==t)a._gc||a._enabled(!1,!1)&&(o=!0);else if(5===n)break;return o}var c,h=t._startTime+u,p=[],d=0,f=0===t._duration;for(s=r.length;--s>-1;)(a=r[s])===t||a._gc||a._paused||(a._timeline!==t._timeline?(c=c||q(t,0,f),0===q(a,c,f)&&(p[d++]=a)):h>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>h&&((f||!a._initted)&&2e-10>=h-a._startTime||(p[d++]=a)));for(s=d;--s>-1;)a=p[s],2===n&&a._kill(i,e)&&(o=!0),(2!==n||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(o=!0);return o},q=function(e,t,i){for(var n=e._timeline,r=n._timeScale,s=e._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>t?s-t:i&&s===t||!e._initted&&2*u>s-t?u:(s+=e.totalDuration()/e._timeScale/r)>t+u?0:s-t-u};r._init=function(){var e,t,i,n,r=this.vars,s=this._overwrittenProps,o=this._duration,a=r.immediateRender,l=r.ease;if(r.startAt){if(this._startAt&&this._startAt.render(-1,!0),r.startAt.overwrite=0,r.startAt.immediateRender=!0,this._startAt=R.to(this.target,0,r.startAt),a)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(r.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{i={};for(n in r)V[n]&&"autoCSS"!==n||(i[n]=r[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=R.to(this.target,0,i),r.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=l?l instanceof b?r.easeParams instanceof Array?l.config.apply(l,r.easeParams):l:"function"==typeof l?new b(l,r.easeParams):w[l]||R.defaultEase:R.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s);if(t&&R._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},r._initProps=function(t,i,n,r){var s,o,a,l,u,c;if(null==t)return!1;this.vars.css||t.style&&t!==e&&t.nodeType&&L.css&&this.vars.autoCSS!==!1&&I(this.vars,t);for(s in this.vars){if(c=this.vars[s],V[s])c&&(c instanceof Array||c.push&&p(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(L[s]&&(l=new L[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=u={_next:this._firstPT,t:t,p:s,f:"function"==typeof t[s],n:s,pg:!1,pr:0},u.s=u.f?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),u.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-u.s||0;u&&u._next&&(u._next._prev=u)}return r&&this._kill(r,t)?this._initProps(t,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&H(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,r)):a},r.render=function(e,t,i){var n,r,s,o,a=this._time,l=this._duration;if(e>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete"),0===l&&(o=this._rawPrevTime,this._startTime===this._timeline._duration&&(e=0),(0===e||0>o||o===u)&&o!==e&&(i=!0,o>u&&(r="onReverseComplete")),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:u);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&this._rawPrevTime>0&&this._rawPrevTime!==u)&&(r="onReverseComplete",n=this._reversed),0>e?(this._active=!1,0===l&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:u)):this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/l,h=this._easeType,p=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:.5>e/l?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==a&&e>=0&&(this._active=!0),0===a&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),r&&(this._gc||(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||y),0===l&&this._rawPrevTime===u&&o!==u&&(this._rawPrevTime=0)))}},r._kill=function(e,t){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:R.selector(t)||t;var i,n,r,s,o,a,l,u;if((p(t)||M(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i])&&(a=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){o=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){l=e||o,u=e!==n&&"all"!==n&&e!==o&&("object"!=typeof e||!e._tempKill);for(r in l)(s=o[r])&&(s.pg&&s.t._kill(l)&&(a=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete o[r]),u&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},r.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},r._enabled=function(e,t){if(o||s.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=U(n[i],this,!0);else this._siblings=U(this.target,this,!0)}return _.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?R._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},R.to=function(e,t,i){return new R(e,t,i)},R.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new R(e,t,i)},R.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new R(e,t,n)},R.delayedCall=function(e,t,i,n,r){return new R(t,0,{delay:e,onComplete:t,onCompleteParams:i,onCompleteScope:n,onReverseComplete:t,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:r,overwrite:0})},R.set=function(e,t){return new R(e,0,t)},R.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:R.selector(e)||e;var i,n,r,s;if((p(e)||M(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(R.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=U(e).concat(),i=n.length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},R.killTweensOf=R.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=R.getTweensOf(e,t),r=n.length;--r>-1;)n[r]._kill(i,e)};var W=g("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=W.prototype},!0);if(r=W.prototype,W.version="1.10.1",W.API=2,r._firstPT=null,r._addTween=function(e,t,i,n,r,s){var o,a;return null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:e,p:t,s:i,c:o,f:"function"==typeof e[t],n:r||t,r:s},a._next&&(a._next._prev=a),a):void 0},r.setRatio=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.c*e+i.s,i.r?t=Math.round(t):n>t&&t>-n&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},r._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},r._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},R._onPluginEvent=function(e,t){var i,n,r,s,o,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=t._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(i=!0),a=a._next;return i},W.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===W.API&&(L[(new e[t])._propName]=e[t]);return!0},m.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,r=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=g("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){W.call(this,i,n),this._overwriteProps=r||[]},e.global===!0),a=o.prototype=new W(i);a.constructor=o,o.API=e.API;for(t in s)"function"==typeof e[t]&&(a[s[t]]=e[t]);return o.version=e.version,W.activate([o]),o},i=e._gsQueue){for(n=0;i.length>n;n++)i[n]();for(r in d)d[r].func||e.console.log("GSAP encountered missing dependency: com.greensock."+r)}o=!1}}(window),define("tween-lite",function(e){return function(){var t;return t||e.TweenLite}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,n,r=window.GreenSockGlobals||window,s=r.com.greensock,o=2*Math.PI,a=Math.PI/2,l=s._class,u=function(t,i){var n=l("easing."+t,function(){},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,n},c=e.register||function(){},h=function(e,t,i,n){var r=l("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return c(r,e),r},p=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},d=function(t,i){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e){return new n(e)},n},f=h("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=l("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=m.prototype=new e;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,i){return new m(e,t,i)},t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),g=t.prototype=new e,g.constructor=t,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=t.config=function(e){return new t(e)},i=l("easing.RoughEase",function(t){t=t||{};for(var i,n,r,s,o,a,l=t.taper||"none",u=[],c=0,h=0|(t.points||20),d=h,f=t.randomize!==!1,m=t.clamp===!0,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)i=f?Math.random():1/h*d,n=g?g.getRatio(i):i,"none"===l?r=v:"out"===l?(s=1-i,r=s*s*v):"in"===l?r=i*i*v:.5>i?(s=2*i,r=.5*s*s*v):(s=2*(1-i),r=.5*s*s*v),f?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),u[c++]={x:i,y:n};for(u.sort(function(e,t){return e.x-t.x}),a=new p(1,1,null),d=h;--d>-1;)o=u[d],a=new p(o.x,o.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0),g=i.prototype=new e,g.constructor=i,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new i(e)},i.ease=new i,h("Bounce",u("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,i,n){var r=l("easing."+t,function(e,t){this._p1=e||1,this._p2=t||n,this._p3=this._p2/o*(Math.asin(1/this._p1)||0)},!0),s=r.prototype=new e;return s.constructor=r,s.getRatio=i,s.config=function(e,t){return new r(e,t)},r},h("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*o/this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*o/this._p2))},.3),n("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*o/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*o/this._p2)+1},.45)),h("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return Math.sin(e*a)}),u("SineIn",function(e){return-Math.cos(e*a)+1}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(t,"SteppedEase","ease,"),f},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("ease-pack",function(e){return function(){var t;return t||e.EasePack}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,r,s,o=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},a={},l=o.prototype=new e("css");l.constructor=o,o.version="1.11.8",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",l="px",o.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,c,h,p,d,f,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/[^\d\-\.]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/,S=/opacity:([^;]*)/,x=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,C=/([A-Z])/g,P=/-([a-z])/gi,E=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,_=function(e,t){return t.toUpperCase()},k=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,I=Math.PI/180,O=180/Math.PI,L={},D=document,N=D.createElement("div"),V=D.createElement("img"),j=o._internals={_specialProps:a},B=navigator.userAgent,F=function(){var e,t=B.indexOf("Android"),i=D.createElement("div");return h=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===t||Number(B.substr(t+8,1))>3),d=h&&6>Number(B.substr(B.indexOf("Version/")+8,1)),p=-1!==B.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)&&(f=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",e=i.getElementsByTagName("a")[0],e?/^0.55/.test(e.style.opacity):!1}(),U=function(e){return w.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1;
},H=function(e){window.console&&console.log(e)},q="",W="",G=function(e,t){t=t||N;var i,n,r=t.style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+e];);return n>=0?(W=3===n?"ms":i[n],q="-"+W.toLowerCase()+"-",W+e):null},z=D.defaultView?D.defaultView.getComputedStyle:function(){},X=o.getStyle=function(e,t,i,n,r){var s;return F||"opacity"!==t?(!n&&e.style[t]?s=e.style[t]:(i=i||z(e,null))?s=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(C,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):U(e)},Y=j.convertToPixels=function(e,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var a,l,u,c=k.test(i),h=e,p=N.style,d=0>n;if(d&&(n=-n),"%"===r&&-1!==i.indexOf("border"))a=n/100*(c?e.clientWidth:e.clientHeight);else{if(p.cssText="border:0 solid red;position:"+X(e,"position")+";line-height:0;","%"!==r&&h.appendChild)p[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=e.parentNode||D.body,l=h._gsCache,u=t.ticker.frame,l&&c&&l.time===u)return l.width*n/100;p[c?"width":"height"]=n+r}h.appendChild(N),a=parseFloat(N[c?"offsetWidth":"offsetHeight"]),h.removeChild(N),c&&"%"===r&&o.cacheWidths!==!1&&(l=h._gsCache=h._gsCache||{},l.time=u,l.width=100*(a/n)),0!==a||s||(a=Y(e,i,n,r,!0))}return d?-a:a},Q=j.calculateOffset=function(e,t,i){if("absolute"!==X(e,"position",i))return 0;var n="left"===t?"Left":"Top",r=X(e,"margin"+n,i);return e["offset"+n]-(Y(e,t,parseFloat(r),r.replace(b,""))||0)},K=function(e,t){var i,n,r={};if(t=t||z(e,null))if(i=t.length)for(;--i>-1;)r[t[i].replace(P,_)]=t.getPropertyValue(t[i]);else for(i in t)r[i]=t[i];else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===r[i]&&(r[i.replace(P,_)]=t[i]);return F||(r.opacity=U(e)),n=Ce(e,t,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,xe&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},$=function(e,t,i,n,r){var s,o,a,l={},u=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(s=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[o]||""===t[o].replace(y,"")?s:0:Q(e,o),void 0!==u[o]&&(a=new he(u,o,u[o],a)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:a}},J={width:["Left","Right"],height:["Top","Bottom"]},Z=["marginLeft","marginRight","marginTop","marginBottom"],ee=function(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=J[t],s=r.length;for(i=i||z(e,null);--s>-1;)n-=parseFloat(X(e,"padding"+r[s],i,!0))||0,n-=parseFloat(X(e,"border"+r[s]+"Width",i,!0))||0;return n},te=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],r=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==r?r="0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==r.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===r.charAt(1),t.ox=parseFloat(n.replace(y,"")),t.oy=parseFloat(r.replace(y,""))),n+" "+r+(i.length>2?" "+i[2]:"")},ie=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},ne=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},re=function(e,t,i,n){var r,s,o,a,l=1e-6;return null==e?a=t:"number"==typeof e?a=e:(r=360,s=e.split("_"),o=Number(s[0].replace(y,""))*(-1===e.indexOf("rad")?1:O)-("="===e.charAt(1)?0:t),s.length&&(n&&(n[i]=t+o),-1!==e.indexOf("short")&&(o%=r,o!==o%(r/2)&&(o=0>o?o+r:o-r)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*r)%r-(0|o/r)*r:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*r)%r-(0|o/r)*r)),a=t+o),l>a&&a>-l&&(a=0),a},se={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},oe=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(i-t)*e:.5>e?i:2>3*e?t+6*(i-t)*(2/3-e):t)+.5},ae=function(e){var t,i,n,r,s,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),se[e]?se[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),i=e.charAt(2),n=e.charAt(3),e="#"+t+t+i+i+n+n),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(m),r=Number(e[0])%360/360,s=Number(e[1])/100,o=Number(e[2])/100,i=.5>=o?o*(s+1):o+s-o*s,t=2*o-i,e.length>3&&(e[3]=Number(e[3])),e[0]=oe(r+1/3,t,i),e[1]=oe(r,t,i),e[2]=oe(r-1/3,t,i),e):(e=e.match(m)||se.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):se.black},le="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in se)le+="|"+l+"\\b";le=RegExp(le+")","gi");var ue=function(e,t,i,n){if(null==e)return function(e){return e};var r,s=t?(e.match(le)||[""])[0]:"",o=e.split(s).join("").match(v)||[],a=e.substr(0,e.indexOf(o[0])),l=")"===e.charAt(e.length-1)?")":"",u=-1!==e.indexOf(" ")?" ":",",c=o.length,h=c>0?o[0].replace(m,""):"";return c?r=t?function(e){var t,p,d,f;if("number"==typeof e)e+=h;else if(n&&M.test(e)){for(f=e.replace(M,"|").split("|"),d=0;f.length>d;d++)f[d]=r(f[d]);return f.join(",")}if(t=(e.match(le)||[s])[0],p=e.split(t).join("").match(v)||[],d=p.length,c>d--)for(;c>++d;)p[d]=i?p[0|(d-1)/2]:o[d];return a+p.join(u)+u+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,p;if("number"==typeof e)e+=h;else if(n&&M.test(e)){for(s=e.replace(M,"|").split("|"),p=0;s.length>p;p++)s[p]=r(s[p]);return s.join(",")}if(t=e.match(v)||[],p=t.length,c>p--)for(;c>++p;)t[p]=i?t[0|(p-1)/2]:o[p];return a+t.join(u)+l}:function(e){return e}},ce=function(e){return e=e.split(","),function(t,i,n,r,s,o,a){var l,u=(i+"").split(" ");for(a={},l=0;4>l;l++)a[e[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(t,a,s,o)}},he=(j._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,r,s=this.data,o=s.proxy,a=s.firstMPT,l=1e-6;a;)t=o[a.v],a.r?t=Math.round(t):l>t&&t>-l&&(t=0),a.t[a.p]=t,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===e)for(a=s.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;a=a._next}},function(e,t,i,n,r){this.t=e,this.p=t,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),pe=(j._parseToProxy=function(e,t,i,n,r,s){var o,a,l,u,c,h=n,p={},d={},f=i._transform,m=L;for(i._transform=null,L=t,n=c=i.parse(e,t,n,r),L=m,s&&(i._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(1>=n.type&&(a=n.p,d[a]=n.s+n.c,p[a]=n.s,s||(u=new he(n,"s",a,u,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,a=n.p+"_"+l,d[a]=n.data[l],p[a]=n[l],s||(u=new he(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:p,end:d,firstMPT:u,pt:c}},j.CSSPropTween=function(e,t,n,r,o,a,l,u,c,h,p){this.t=e,this.p=t,this.s=n,this.c=r,this.n=l||t,e instanceof pe||s.push(this.n),this.r=u,this.type=a||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===p?n+r:p,o&&(this._next=o,o._prev=this)}),de=o.parseComplex=function(e,t,i,n,r,s,o,a,l,c){i=i||s||"",o=new pe(e,t,0,0,o,c?2:1,null,!1,a,i,n),n+="";var h,p,d,f,v,y,b,w,S,x,C,P,E=i.split(", ").join(",").split(" "),_=n.split(", ").join(",").split(" "),k=E.length,A=u!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(E=E.join(" ").replace(M,", ").split(" "),_=_.join(" ").replace(M,", ").split(" "),k=E.length),k!==_.length&&(E=(s||"").split(" "),k=E.length),o.plugin=l,o.setRatio=c,h=0;k>h;h++)if(f=E[h],v=_[h],w=parseFloat(f),w||0===w)o.appendXtra("",w,ie(v,w),v.replace(g,""),A&&-1!==v.indexOf("px"),!0);else if(r&&("#"===f.charAt(0)||se[f]||T.test(f)))P=","===v.charAt(v.length-1)?"),":")",f=ae(f),v=ae(v),S=f.length+v.length>6,S&&!F&&0===v[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(_[h]).join("transparent")):(F||(S=!1),o.appendXtra(S?"rgba(":"rgb(",f[0],v[0]-f[0],",",!0,!0).appendXtra("",f[1],v[1]-f[1],",",!0).appendXtra("",f[2],v[2]-f[2],S?",":P,!0),S&&(f=4>f.length?1:f[3],o.appendXtra("",f,(4>v.length?1:v[3])-f,P,!1)));else if(y=f.match(m)){if(b=v.match(g),!b||b.length!==y.length)return o;for(d=0,p=0;y.length>p;p++)C=y[p],x=f.indexOf(C,d),o.appendXtra(f.substr(d,x-d),Number(C),ie(b[p],C),"",A&&"px"===f.substr(x+C.length,2),0===p),d=x+C.length;o["xs"+o.l]+=f.substr(d)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==n.indexOf("=")&&o.data){for(P=o.xs0+o.data.s,h=1;o.l>h;h++)P+=o["xs"+h]+o.data["xn"+h];o.e=P+o["xs"+h]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},fe=9;for(l=pe.prototype,l.l=l.pr=0;--fe>0;)l["xn"+fe]=0,l["xs"+fe]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,i,n,r,s){var o=this,a=o.l;return o["xs"+a]+=s&&a?" "+e:e||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",a>0?(o.data["xn"+a]=t+i,o.rxp["xn"+a]=r,o["xn"+a]=t,o.plugin||(o.xfirst=new pe(o,"xn"+a,t,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=r,o)):(o["xs"+a]+=t+(n||""),o)};var me=function(e,t){t=t||{},this.p=t.prefix?G(e)||e:e,a[e]=a[this.p]=this,this.format=t.formatter||ue(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ge=j._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,r,s=e.split(","),o=t.defaultValue;for(i=i||[o],n=0;s.length>n;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||o,r=new me(s[n],t)},ve=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ge(e,{parser:function(e,i,n,r,s,o,l){var u=(window.GreenSockGlobals||window).com.greensock.plugins[t];return u?(u._cssRegister(),a[n].parse(e,i,n,r,s,o,l)):(H("Error: "+t+" js file not loaded."),s)}})}};l=me.prototype,l.parseComplex=function(e,t,i,n,r,s){var o,a,l,u,c,h,p=this.keyword;if(this.multi&&(M.test(i)||M.test(t)?(a=t.replace(M,"|").split("|"),l=i.replace(M,"|").split("|")):p&&(a=[t],l=[i])),l){for(u=l.length>a.length?l.length:a.length,o=0;u>o;o++)t=a[o]=a[o]||this.dflt,i=l[o]=l[o]||this.dflt,p&&(c=t.indexOf(p),h=i.indexOf(p),c!==h&&(i=-1===h?l:a,i[o]+=" "+p));t=a.join(", "),i=l.join(", ")}return de(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,r,s)},l.parse=function(e,t,i,n,s,o){return this.parseComplex(e.style,this.format(X(e,this.p,r,!1,this.dflt)),this.format(t),s,o)},o.registerSpecialProp=function(e,t,i){ge(e,{parser:function(e,n,r,s,o,a){var l=new pe(e,r,0,0,o,2,r,!1,i);return l.plugin=a,l.setRatio=t(e,n,s._tween,r),l},priority:i})};var ye="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective".split(","),be=G("transform"),we=q+"transform",Se=G("transformOrigin"),xe=null!==G("perspective"),Te=j.Transform=function(){this.skewY=0},Ce=j.getTransform=function(e,t,i,n){if(e._gsTransform&&i&&!n)return e._gsTransform;var r,s,a,l,u,c,h,p,d,f,m,g,v,y=i?e._gsTransform||new Te:new Te,b=0>y.scaleX,w=2e-5,S=1e5,x=179.99,T=x*I,C=xe?parseFloat(X(e,Se,t,!1,"0 0 0").split(" ")[2])||y.zOrigin||0:0;for(be?r=X(e,we,t,!0):e.currentStyle&&(r=e.currentStyle.filter.match(A),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),y.x||0,y.y||0].join(","):""),s=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],a=s.length;--a>-1;)l=Number(s[a]),s[a]=(u=l-(l|=0))?(0|u*S+(0>u?-.5:.5))/S+l:l;if(16===s.length){var P=s[8],E=s[9],_=s[10],k=s[12],R=s[13],M=s[14];if(y.zOrigin&&(M=-y.zOrigin,k=P*M-s[12],R=E*M-s[13],M=_*M+y.zOrigin-s[14]),!i||n||null==y.rotationX){var L,D,N,V,j,B,F,U=s[0],H=s[1],q=s[2],W=s[3],G=s[4],z=s[5],Y=s[6],Q=s[7],K=s[11],$=Math.atan2(Y,_),J=-T>$||$>T;y.rotationX=$*O,$&&(V=Math.cos(-$),j=Math.sin(-$),L=G*V+P*j,D=z*V+E*j,N=Y*V+_*j,P=G*-j+P*V,E=z*-j+E*V,_=Y*-j+_*V,K=Q*-j+K*V,G=L,z=D,Y=N),$=Math.atan2(P,U),y.rotationY=$*O,$&&(B=-T>$||$>T,V=Math.cos(-$),j=Math.sin(-$),L=U*V-P*j,D=H*V-E*j,N=q*V-_*j,E=H*j+E*V,_=q*j+_*V,K=W*j+K*V,U=L,H=D,q=N),$=Math.atan2(H,z),y.rotation=$*O,$&&(F=-T>$||$>T,V=Math.cos(-$),j=Math.sin(-$),U=U*V+G*j,D=H*V+z*j,z=H*-j+z*V,Y=q*-j+Y*V,H=D),F&&J?y.rotation=y.rotationX=0:F&&B?y.rotation=y.rotationY=0:B&&J&&(y.rotationY=y.rotationX=0),y.scaleX=(0|Math.sqrt(U*U+H*H)*S+.5)/S,y.scaleY=(0|Math.sqrt(z*z+E*E)*S+.5)/S,y.scaleZ=(0|Math.sqrt(Y*Y+_*_)*S+.5)/S,y.skewX=0,y.perspective=K?1/(0>K?-K:K):0,y.x=k,y.y=R,y.z=M}}else if(!(xe&&!n&&s.length&&y.x===s[4]&&y.y===s[5]&&(y.rotationX||y.rotationY)||void 0!==y.x&&"none"===X(e,"display",t))){var Z=s.length>=6,ee=Z?s[0]:1,te=s[1]||0,ie=s[2]||0,ne=Z?s[3]:1;y.x=s[4]||0,y.y=s[5]||0,c=Math.sqrt(ee*ee+te*te),h=Math.sqrt(ne*ne+ie*ie),p=ee||te?Math.atan2(te,ee)*O:y.rotation||0,d=ie||ne?Math.atan2(ie,ne)*O+p:y.skewX||0,f=c-Math.abs(y.scaleX||0),m=h-Math.abs(y.scaleY||0),Math.abs(d)>90&&270>Math.abs(d)&&(b?(c*=-1,d+=0>=p?180:-180,p+=0>=p?180:-180):(h*=-1,d+=0>=d?180:-180)),g=(p-y.rotation)%180,v=(d-y.skewX)%180,(void 0===y.skewX||f>w||-w>f||m>w||-w>m||g>-x&&x>g&&!1|g*S||v>-x&&x>v&&!1|v*S)&&(y.scaleX=c,y.scaleY=h,y.rotation=p,y.skewX=d),xe&&(y.rotationX=y.rotationY=y.z=0,y.perspective=parseFloat(o.defaultTransformPerspective)||0,y.scaleZ=1)}y.zOrigin=C;for(a in y)w>y[a]&&y[a]>-w&&(y[a]=0);return i&&(e._gsTransform=y),y},Pe=function(e){var t,i,n=this.data,r=-n.rotation*I,s=r+n.skewX*I,o=1e5,a=(0|Math.cos(r)*n.scaleX*o)/o,l=(0|Math.sin(r)*n.scaleX*o)/o,u=(0|Math.sin(s)*-n.scaleY*o)/o,c=(0|Math.cos(s)*n.scaleY*o)/o,h=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-u,u=-i,t=p.filter,h.filter="";var d,m,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==p.position,S="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+c,x=n.x,T=n.y;if(null!=n.ox&&(d=(n.oxp?.01*g*n.ox:n.ox)-g/2,m=(n.oyp?.01*v*n.oy:n.oy)-v/2,x+=d-(d*a+m*l),T+=m-(d*u+m*c)),y?(d=g/2,m=v/2,S+=", Dx="+(d-(d*a+m*l)+x)+", Dy="+(m-(d*u+m*c)+T)+")"):S+=", sizingMethod='auto expand')",h.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(R,S):S+" "+t,(0===e||1===e)&&1===a&&0===l&&0===u&&1===c&&(y&&-1===S.indexOf("Dx=0, Dy=0")||w.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&h.removeAttribute("filter")),!y){var C,P,E,_=8>f?1:-1;for(d=n.ieOffsetX||0,m=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*v))/2+x),n.ieOffsetY=Math.round((v-((0>c?-c:c)*v+(0>u?-u:u)*g))/2+T),fe=0;4>fe;fe++)P=Z[fe],C=p[P],i=-1!==C.indexOf("px")?parseFloat(C):Y(this.t,P,parseFloat(C),C.replace(b,""))||0,E=i!==n[P]?2>fe?-n.ieOffsetX:-n.ieOffsetY:2>fe?d-n.ieOffsetX:m-n.ieOffsetY,h[P]=(n[P]=Math.round(i-E*(0===fe||2===fe?1:_)))+"px"}}},Ee=j.set3DTransformRatio=function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,f,m,g,v,y,b,w,S,x,T,C=this.data,P=this.t.style,E=C.rotation*I,_=C.scaleX,k=C.scaleY,A=C.scaleZ,R=C.perspective;if(p){var M=1e-4;M>_&&_>-M&&(_=A=2e-5),M>k&&k>-M&&(k=A=2e-5),!R||C.z||C.rotationX||C.rotationY||(R=0)}if(E||C.skewX)y=Math.cos(E),b=Math.sin(E),e=y,r=b,C.skewX&&(E-=C.skewX*I,y=Math.cos(E),b=Math.sin(E),"simple"===C.skewType&&(w=Math.tan(C.skewX*I),w=Math.sqrt(1+w*w),y*=w,b*=w)),t=-b,s=y;else{if(!(C.rotationY||C.rotationX||1!==A||R))return void(P[be]="translate3d("+C.x+"px,"+C.y+"px,"+C.z+"px)"+(1!==_||1!==k?" scale("+_+","+k+")":""));e=s=1,t=r=0}c=1,i=n=o=a=l=u=h=d=f=0,m=R?-1/R:0,g=C.zOrigin,v=1e5,E=C.rotationY*I,E&&(y=Math.cos(E),b=Math.sin(E),l=c*-b,d=m*-b,i=e*b,o=r*b,c*=y,m*=y,e*=y,r*=y),E=C.rotationX*I,E&&(y=Math.cos(E),b=Math.sin(E),w=t*y+i*b,S=s*y+o*b,x=u*y+c*b,T=f*y+m*b,i=t*-b+i*y,o=s*-b+o*y,c=u*-b+c*y,m=f*-b+m*y,t=w,s=S,u=x,f=T),1!==A&&(i*=A,o*=A,c*=A,m*=A),1!==k&&(t*=k,s*=k,u*=k,f*=k),1!==_&&(e*=_,r*=_,l*=_,d*=_),g&&(h-=g,n=i*h,a=o*h,h=c*h+g),n=(w=(n+=C.x)-(n|=0))?(0|w*v+(0>w?-.5:.5))/v+n:n,a=(w=(a+=C.y)-(a|=0))?(0|w*v+(0>w?-.5:.5))/v+a:a,h=(w=(h+=C.z)-(h|=0))?(0|w*v+(0>w?-.5:.5))/v+h:h,P[be]="matrix3d("+[(0|e*v)/v,(0|r*v)/v,(0|l*v)/v,(0|d*v)/v,(0|t*v)/v,(0|s*v)/v,(0|u*v)/v,(0|f*v)/v,(0|i*v)/v,(0|o*v)/v,(0|c*v)/v,(0|m*v)/v,n,a,h,R?1+-h/R:1].join(",")+")"},_e=j.set2DTransformRatio=function(e){var t,i,n,r,s,o=this.data,a=this.t,l=a.style;return o.rotationX||o.rotationY||o.z||o.force3D?(this.setRatio=Ee,void Ee.call(this,e)):void(o.rotation||o.skewX?(t=o.rotation*I,i=t-o.skewX*I,n=1e5,r=o.scaleX*n,s=o.scaleY*n,l[be]="matrix("+(0|Math.cos(t)*r)/n+","+(0|Math.sin(t)*r)/n+","+(0|Math.sin(i)*-s)/n+","+(0|Math.cos(i)*s)/n+","+o.x+","+o.y+")"):l[be]="matrix("+o.scaleX+",0,0,"+o.scaleY+","+o.x+","+o.y+")")};ge("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType",{parser:function(e,t,i,n,s,a,l){if(n._transform)return s;var u,c,h,p,d,f,m,g=n._transform=Ce(e,r,!0,l.parseTransform),v=e.style,y=1e-6,b=ye.length,w=l,S={};if("string"==typeof w.transform&&be)h=v.cssText,v[be]=w.transform,v.display="block",u=Ce(e,null,!1),v.cssText=h;else if("object"==typeof w){if(u={scaleX:ne(null!=w.scaleX?w.scaleX:w.scale,g.scaleX),scaleY:ne(null!=w.scaleY?w.scaleY:w.scale,g.scaleY),scaleZ:ne(w.scaleZ,g.scaleZ),x:ne(w.x,g.x),y:ne(w.y,g.y),z:ne(w.z,g.z),perspective:ne(w.transformPerspective,g.perspective)},m=w.directionalRotation,null!=m)if("object"==typeof m)for(h in m)w[h]=m[h];else w.rotation=m;u.rotation=re("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:g.rotation,g.rotation,"rotation",S),xe&&(u.rotationX=re("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",S),u.rotationY=re("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",S)),u.skewX=null==w.skewX?g.skewX:re(w.skewX,g.skewX),u.skewY=null==w.skewY?g.skewY:re(w.skewY,g.skewY),(c=u.skewY-g.skewY)&&(u.skewX+=c,u.rotation+=c)}for(xe&&null!=w.force3D&&(g.force3D=w.force3D,f=!0),g.skewType=w.skewType||g.skewType||o.defaultSkewType,d=g.force3D||g.z||g.rotationX||g.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,d||null==w.scale||(u.scaleZ=1);--b>-1;)i=ye[b],p=u[i]-g[i],(p>y||-y>p||null!=L[i])&&(f=!0,s=new pe(g,i,g[i],p,s),i in S&&(s.e=S[i]),s.xs0=0,s.plugin=a,n._overwriteProps.push(s.n));return p=w.transformOrigin,(p||xe&&d&&g.zOrigin)&&(be?(f=!0,i=Se,p=(p||X(e,i,r,!1,"50% 50%"))+"",s=new pe(v,i,0,0,s,-1,"transformOrigin"),s.b=v[i],s.plugin=a,xe?(h=g.zOrigin,p=p.split(" "),g.zOrigin=(p.length>2&&(0===h||"0px"!==p[2])?parseFloat(p[2]):h)||0,s.xs0=s.e=v[i]=p[0]+" "+(p[1]||"50%")+" 0px",s=new pe(g,"zOrigin",0,0,s,-1,s.n),s.b=h,s.xs0=s.e=g.zOrigin):s.xs0=s.e=v[i]=p):te(p+"",g)),f&&(n._transformType=d||3===this._transformType?3:2),s},prefix:!0}),ge("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ge("borderRadius",{defaultValue:"0px",parser:function(e,t,i,s,o){t=this.format(t);var a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=e.style;for(m=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),a=t.split(" "),l=0;T.length>l;l++)this.p.indexOf("border")&&(T[l]=G(T[l])),h=c=X(e,T[l],r,!1,"0px"),-1!==h.indexOf(" ")&&(c=h.split(" "),h=c[0],c=c[1]),p=u=a[l],d=parseFloat(h),y=h.substr((d+"").length),b="="===p.charAt(1),b?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),v=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),v=p.substr((f+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=Y(e,"borderLeft",d,y),S=Y(e,"borderTop",d,y),"%"===v?(h=100*(w/m)+"%",c=100*(S/g)+"%"):"em"===v?(x=Y(e,"borderLeft",1,"em"),h=w/x+"em",c=S/x+"em"):(h=w+"px",c=S+"px"),b&&(p=parseFloat(h)+f+v,u=parseFloat(c)+f+v)),o=de(C,T[l],h+" "+c,p+" "+u,!1,"0px",o);return o},prefix:!0,formatter:ue("0px 0px 0px 0px",!1,!0)}),ge("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,s,o){var a,l,u,c,h,p,d="background-position",m=r||z(e,null),g=this.format((m?f?m.getPropertyValue(d+"-x")+" "+m.getPropertyValue(d+"-y"):m.getPropertyValue(d):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&(p=X(e,"backgroundImage").replace(E,""),p&&"none"!==p)){for(a=g.split(" "),l=v.split(" "),V.setAttribute("src",p),u=2;--u>-1;)g=a[u],c=-1!==g.indexOf("%"),c!==(-1!==l[u].indexOf("%"))&&(h=0===u?e.offsetWidth-V.width:e.offsetHeight-V.height,a[u]=c?parseFloat(g)/100*h+"px":100*(parseFloat(g)/h)+"%");g=a.join(" ")}return this.parseComplex(e.style,g,v,s,o)},formatter:te}),ge("backgroundSize",{defaultValue:"0 0",formatter:te}),ge("perspective",{defaultValue:"0px",prefix:!0}),ge("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ge("transformStyle",{prefix:!0}),ge("backfaceVisibility",{prefix:!0}),ge("userSelect",{prefix:!0}),ge("margin",{parser:ce("marginTop,marginRight,marginBottom,marginLeft")}),ge("padding",{parser:ce("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ge("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,s,o){var a,l,u;return 9>f?(l=e.currentStyle,u=8>f?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",t=this.format(t).split(",").join(u)):(a=this.format(X(e,this.p,r,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,a,t,s,o)}}),ge("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ge("autoRound,strictUnits",{parser:function(e,t,i,n,r){return r}}),ge("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,s,o){return this.parseComplex(e.style,this.format(X(e,"borderTopWidth",r,!1,"0px")+" "+X(e,"borderTopStyle",r,!1,"solid")+" "+X(e,"borderTopColor",r,!1,"#000")),this.format(t),s,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(le)||["#000"])[0]}}),ge("borderWidth",{parser:ce("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ge("float,cssFloat,styleFloat",{parser:function(e,t,i,n,r){var s=e.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new pe(s,o,0,0,r,-1,i,!1,0,s[o],t)}});var ke=function(e){var t,i=this.t,n=i.filter||X(this.data,"filter"),r=0|this.s+this.c*e;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!X(this.data,"filter")):(i.filter=n.replace(x,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("opacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(w,"opacity="+r))};ge("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,s,o){var a=parseFloat(X(e,"opacity",r,!1,"1")),l=e.style,u="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+a),u&&1===a&&"hidden"===X(e,"visibility",r)&&0!==t&&(a=0),F?s=new pe(l,"opacity",a,t-a,s):(s=new pe(l,"opacity",100*a,100*(t-a),s),s.xn1=u?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=o,s.setRatio=ke),u&&(s=new pe(l,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===t?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Ae=function(e,t){t&&(e.removeProperty?("ms"===t.substr(0,2)&&(t="M"+t.substr(1)),e.removeProperty(t.replace(C,"-$1").toLowerCase())):e.removeAttribute(t))},Re=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.className=0===e?this.b:this.e;for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Ae(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};ge("className",{parser:function(e,t,n,s,o,a,l){var u,c,h,p,d,f=e.className,m=e.style.cssText;if(o=s._classNamePT=new pe(e,n,0,0,o,2),o.setRatio=Re,o.pr=-11,i=!0,o.b=f,c=K(e,r),h=e._gsClassPT){for(p={},d=h.data;d;)p[d.p]=1,d=d._next;h.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:f.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),s._tween._duration&&(e.className=o.e,u=$(e,c,K(e),l,p),e.className=f,o.data=u.firstMPT,e.style.cssText=m,o=o.xfirst=s.parse(e,u.difs,o,a)),o}});var Me=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,r,s=this.t.style,o=a.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(t=this.e.split(","),n=t.length;--n>-1;)i=t[n],a[i]&&(a[i].parse===o?r=!0:i="transformOrigin"===i?Se:a[i].p),Ae(s,i);r&&(Ae(s,be),this.t._gsTransform&&delete this.t._gsTransform)}};for(ge("clearProps",{parser:function(e,t,n,r,s){return s=new pe(e,n,0,0,s,2),s.setRatio=Me,s.e=t,s.pr=-10,s.data=r._tween,i=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),fe=l.length;fe--;)ve(l[fe]);l=o.prototype,l._firstPT=null,l._onInitTween=function(e,t,a){if(!e.nodeType)return!1;this._target=e,this._tween=a,this._vars=t,u=t.autoRound,i=!1,n=t.suffixMap||o.suffixMap,r=z(e,""),s=this._overwriteProps;var l,p,f,m,g,v,y,b,w,x=e.style;if(c&&""===x.zIndex&&(l=X(e,"zIndex",r),("auto"===l||""===l)&&(x.zIndex=0)),"string"==typeof t&&(m=x.cssText,l=K(e,r),x.cssText=m+";"+t,l=$(e,l,K(e)).difs,!F&&S.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,x.cssText=m),this._firstPT=p=this.parse(e,t,null),this._transformType){for(w=3===this._transformType,be?h&&(c=!0,""===x.zIndex&&(y=X(e,"zIndex",r),("auto"===y||""===y)&&(x.zIndex=0)),d&&(x.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):x.zoom=1,f=p;f&&f._next;)f=f._next;b=new pe(e,"transform",0,0,null,2),this._linkCSSP(b,null,f),b.setRatio=w&&xe?Ee:be?_e:Pe,b.data=this._transform||Ce(e,r,!0),s.pop()}if(i){for(;p;){for(v=p._next,f=m;f&&f.pr>p.pr;)f=f._next;(p._prev=f?f._prev:g)?p._prev._next=p:m=p,(p._next=f)?f._prev=p:g=p,p=v}this._firstPT=m}return!0},l.parse=function(e,t,i,s){var o,l,c,h,p,d,f,m,g,v,y=e.style;for(o in t)d=t[o],l=a[o],l?i=l.parse(e,d,o,this,i,s,t):(p=X(e,o,r)+"",g="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||g&&T.test(d)?(g||(d=ae(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=de(y,o,p,d,!0,"transparent",i,0,s)):!g||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(c=parseFloat(p),f=c||0===c?p.substr((c+"").length):"",(""===p||"auto"===p)&&("width"===o||"height"===o?(c=ee(e,o,r),f="px"):"left"===o||"top"===o?(c=Q(e,o,r),f="px"):(c="opacity"!==o?0:1,f="")),v=g&&"="===d.charAt(1),v?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),m=d.replace(b,"")):(h=parseFloat(d),m=g?d.substr((h+"").length)||"":""),""===m&&(m=o in n?n[o]:f),d=h||0===h?(v?h+c:h)+m:t[o],f!==m&&""!==m&&(h||0===h)&&c&&(c=Y(e,o,c,f),"%"===m?(c/=Y(e,o,100,"%")/100,t.strictUnits!==!0&&(p=c+"%")):"em"===m?c/=Y(e,o,1,"em"):"px"!==m&&(h=Y(e,o,h,m),m="px"),v&&(h||0===h)&&(d=h+c+m)),v&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==y[o]&&(d||"NaN"!=d+""&&null!=d)?(i=new pe(y,o,h||c||0,0,i,-1,o,!1,0,p,d),i.xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:p):H("invalid "+o+" tween value: "+t[o]):(i=new pe(y,o,c,h-c,i,0,o,u!==!1&&("px"===m||"zIndex"===o),0,p,d),i.xs0=m)):i=de(y,o,p,d,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);return i},l.setRatio=function(e){var t,i,n,r=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):s>t&&t>-s&&(t=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+t+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(e),r=r._next},l._enableTransforms=function(e){this._transformType=e||3===this._transformType?3:2,this._transform=this._transform||Ce(this._target,r,!0)},l._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},l._kill=function(t){var i,n,r,s=t;if(t.autoAlpha||t.alpha){s={};for(n in t)s[n]=t[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return t.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),e.prototype._kill.call(this,s)};var Ie=function(e,t,i){var n,r,s,o;if(e.slice)for(r=e.length;--r>-1;)Ie(e[r],t,i);else for(n=e.childNodes,r=n.length;--r>-1;)s=n[r],o=s.type,s.style&&(t.push(K(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Ie(s,t,i)};return o.cascadeTo=function(e,i,n){var r,s,o,a=t.to(e,i,n),l=[a],u=[],c=[],h=[],p=t._internals.reservedProps;for(e=a._targets||a.target,Ie(e,u,h),a.render(i,!0),Ie(e,c),a.render(0,!0),a._enabled(!0),r=h.length;--r>-1;)if(s=$(h[r],u[r],c[r]),s.firstMPT){s=s.difs;for(o in n)p[o]&&(s[o]=n[o]);l.push(t.to(h[r],i,s))}return l},e.activate([o]),o},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css-plugin",function(e){return function(){var t;return t||e.CSSPlugin}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=180/Math.PI,t=[],i=[],n=[],r={},s=function(e,t,i,n){this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,i,n){var r={a:e},s={},o={},a={c:n},l=(e+t)/2,u=(t+i)/2,c=(i+n)/2,h=(l+u)/2,p=(u+c)/2,d=(p-h)/8;return r.b=l+(e-l)/4,s.b=h+d,r.c=s.a=(r.b+s.b)/2,s.c=o.a=(h+p)/2,o.b=p-d,a.b=c+(n-c)/4,o.c=a.a=(o.b+a.b)/2,[r,s,o,a]},l=function(e,r,s,o,l){var u,c,h,p,d,f,m,g,v,y,b,w,S,x=e.length-1,T=0,C=e[0].a;for(u=0;x>u;u++)d=e[T],c=d.a,h=d.d,p=e[T+1].d,l?(b=t[u],w=i[u],S=.25*(w+b)*r/(o?.5:n[u]||.5),f=h-(h-c)*(o?.5*r:0!==b?S/b:0),m=h+(p-h)*(o?.5*r:0!==w?S/w:0),g=h-(f+((m-f)*(3*b/(b+w)+.5)/4||0))):(f=h-.5*(h-c)*r,m=h+.5*(p-h)*r,g=h-(f+m)/2),f+=g,m+=g,d.c=v=f,d.b=0!==u?C:C=d.a+.6*(d.c-d.a),d.da=h-c,d.ca=v-c,d.ba=C-c,s?(y=a(c,C,v,h),e.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,C=m;d=e[T],d.b=C,d.c=C+.4*(d.d-C),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=C-d.a,s&&(y=a(d.a,C,d.c,d.d),e.splice(T,1,y[0],y[1],y[2],y[3]))},u=function(e,n,r,o){var a,l,u,c,h,p,d=[];if(o)for(e=[o].concat(e),l=e.length;--l>-1;)"string"==typeof(p=e[l][n])&&"="===p.charAt(1)&&(e[l][n]=o[n]+Number(p.charAt(0)+p.substr(2)));if(a=e.length-2,0>a)return d[0]=new s(e[0][n],0,0,e[-1>a?0:1][n]),d;for(l=0;a>l;l++)u=e[l][n],c=e[l+1][n],d[l]=new s(u,0,0,c),r&&(h=e[l+2][n],t[l]=(t[l]||0)+(c-u)*(c-u),i[l]=(i[l]||0)+(h-c)*(h-c));return d[l]=new s(e[l][n],0,0,e[l+1][n]),d},c=function(e,s,a,c,h,p){var d,f,m,g,v,y,b,w,S={},x=[],T=p||e[0];h="string"==typeof h?","+h+",":o,null==s&&(s=1);for(f in e[0])x.push(f);if(e.length>1){for(w=e[e.length-1],b=!0,d=x.length;--d>-1;)if(f=x[d],Math.abs(T[f]-w[f])>.05){b=!1;break}b&&(e=e.concat(),p&&e.unshift(p),e.push(e[1]),p=e[e.length-3])}for(t.length=i.length=n.length=0,d=x.length;--d>-1;)f=x[d],r[f]=-1!==h.indexOf(","+f+","),S[f]=u(e,f,r[f],p);for(d=t.length;--d>-1;)t[d]=Math.sqrt(t[d]),i[d]=Math.sqrt(i[d]);if(!c){for(d=x.length;--d>-1;)if(r[f])for(m=S[x[d]],
y=m.length-1,g=0;y>g;g++)v=m[g+1].da/i[g]+m[g].da/t[g],n[g]=(n[g]||0)+v*v;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=x.length,g=a?4:1;--d>-1;)f=x[d],m=S[f],l(m,s,a,c,r[f]),b&&(m.splice(0,g),m.splice(m.length-g,g));return S},h=function(e,t,i){t=t||"soft";var n,r,o,a,l,u,c,h,p,d,f,m={},g="cubic"===t?3:2,v="soft"===t,y=[];if(v&&i&&(e=[i].concat(e)),null==e||g+1>e.length)throw"invalid Bezier data";for(p in e[0])y.push(p);for(u=y.length;--u>-1;){for(p=y[u],m[p]=l=[],d=0,h=e.length,c=0;h>c;c++)n=null==i?e[c][p]:"string"==typeof(f=e[c][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&c>1&&h-1>c&&(l[d++]=(n+l[d-2])/2),l[d++]=n;for(h=d-g+1,d=0,c=0;h>c;c+=g)n=l[c],r=l[c+1],o=l[c+2],a=2===g?0:l[c+3],l[d++]=f=3===g?new s(n,r,o,a):new s(n,(2*r+n)/3,(2*r+o)/3,o);l.length=d}return m},p=function(e,t,i){for(var n,r,s,o,a,l,u,c,h,p,d,f=1/i,m=e.length;--m>-1;)for(p=e[m],s=p.a,o=p.d-s,a=p.c-s,l=p.b-s,n=r=0,c=1;i>=c;c++)u=f*c,h=1-u,n=r-(r=(u*u*o+3*h*(u*a+h*l))*u),d=m*i+c-1,t[d]=(t[d]||0)+n*n},d=function(e,t){t=t>>0||6;var i,n,r,s,o=[],a=[],l=0,u=0,c=t-1,h=[],d=[];for(i in e)p(e[i],o,t);for(r=o.length,n=0;r>n;n++)l+=Math.sqrt(o[n]),s=n%t,d[s]=l,s===c&&(u+=l,s=n/t>>0,h[s]=d,a[s]=u,l=0,d=[]);return{length:u,lengths:a,segments:h}},f=window._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.2",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,r,s,o,a,l=t.values||[],u={},p=l[0],f=t.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;for(n in p)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof e[n],u[n]=r?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?c(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,a):h(l,t.type,u),this._segCount=this._beziers[n].length,this._timeRes){var m=d(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),s=f.length;--s>-1;){for(o=0;3>o;o++)n=f[s][o],this._func[n]="function"==typeof e[n]?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=f[s][2],this._initialRotations[s]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,r,s,o,a,l,u,c,h,p=this._segCount,d=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,t*=this._length,r=this._li,t>this._l2&&p-1>r){for(u=p-1;u>r&&t>=(this._l2=c[++r]););this._l1=c[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(this._l1>t&&r>0){for(;r>0&&(this._l1=c[--r])>=t;);0===r&&this._l1>t?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=r,t-=this._l1,r=this._si,t>this._s2&&h.length-1>r){for(u=h.length-1;u>r&&t>=(this._s2=h[++r]););this._s1=h[r-1],this._si=r}else if(this._s1>t&&r>0){for(;r>0&&(this._s1=h[--r])>=t;);0===r&&this._s1>t?this._s1=0:r++,this._s2=h[r],this._si=r}a=(r+(t-this._s1)/(this._s2-this._s1))*this._prec}else i=0>t?0:t>=1?p-1:p*t>>0,a=(t-i*(1/p))*p;for(n=1-a,r=this._props.length;--r>-1;)s=this._props[r],o=this._beziers[s][i],l=(a*a*o.da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._round[s]&&(l=Math.round(l)),d[s]?f[s](l):f[s]=l;if(this._autoRotate){var g,v,y,b,w,S,x,T=this._autoRotate;for(r=T.length;--r>-1;)s=T[r][2],S=T[r][3]||0,x=T[r][4]===!0?1:e,o=this._beziers[T[r][0]],g=this._beziers[T[r][1]],o&&g&&(o=o[i],g=g[i],v=o.a+(o.b-o.a)*a,b=o.b+(o.c-o.b)*a,v+=(b-v)*a,b+=(o.c+(o.d-o.c)*a-b)*a,y=g.a+(g.b-g.a)*a,w=g.b+(g.c-g.b)*a,y+=(w-y)*a,w+=(g.c+(g.d-g.c)*a-w)*a,l=m?Math.atan2(w-y,b-v)*x+S:this._initialRotations[r],d[s]?f[s](l):f[s]=l)}}}),m=f.prototype;f.bezierThrough=c,f.cubicToQuadratic=a,f._autoCSS=!0,f.quadraticToCubic=function(e,t,i){return new s(e,(2*t+e)/3,(2*t+i)/3,i)},f._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,r=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,s,o,a,l){t instanceof Array&&(t={values:t}),l=new f;var u,c,h,p=t.values,d=p.length-1,m=[],g={};if(0>d)return a;for(u=0;d>=u;u++)h=i(e,p[u],o,a,l,d!==u),m[u]=h.end;for(c in t)g[c]=t[c];return g.values=m,a=new r(e,"bezier",0,0,h.pt,2),a.data=h,a.plugin=l,a.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",u,!1]]:null!=h.end.x?[["x","y","rotation",u,!1]]:!1),g.autoRotate&&(o._transform||o._enableTransforms(!1),h.autoRotate=o._target._gsTransform),l._onInitTween(h.proxy,g,o._tween),a}})}},m._roundProps=function(e,t){for(var i=this._overwriteProps,n=i.length;--n>-1;)(e[i[n]]||e.bezier||e.bezierThrough)&&(this._round[i[n]]=t)},m._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);return this._super._kill.call(this,e)}}),window._gsDefine&&window._gsQueue.pop()(),define("bezier-plugin",function(e){return function(){var t;return t||e.BezierPlugin}}(this)),define("helpers/GsapTweenLite",["require","tween-lite","ease-pack","css-plugin","bezier-plugin"],function(e){"use strict";var t=e("tween-lite");return e("ease-pack"),e("css-plugin"),e("bezier-plugin"),t.defaultOverwrite=!1,t}),define("helpers/external/ao",["require","lodash","external/superagent","polyfills/detection","helpers/utils","helpers/resolver","helpers/GsapTweenLite","helpers/vow","views/helpers/dom"],function(e){"use strict";var t,i,n=e("lodash"),r=e("external/superagent"),s=e("polyfills/detection"),o=e("helpers/utils"),a=(e("helpers/resolver"),e("helpers/GsapTweenLite")),l=e("helpers/vow"),u=e("views/helpers/dom"),c=0,h="SavePlayerData",p="SaveResume",d="GetResumeInfo",f="RefreshSession",m="GetSessionId",g="GetResumeInfoResponse",v="GetSessionIdResponse",y=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),b="</soap:Body></soap:Envelope>",w=window.location.origin,S=n.first(window.location.toString().split("#")),x="http://articulate.com",T=function(e){var t=n.rest(arguments);return[e].concat(t).join("/")},C="",P={};P[d]="sendResumeReady",P[m]="onSessionId",P[f]="dontDoAnything",P[p]="dontDoAnything",P[h]="dontDoAnything";var E={queue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(e,t){return window.globals.aoSupport?(this.activityId=e,this.scoring=t||{},this.sessionId=Date.now().toString(),window.addEventListener("beforeunload",this.onBeforeUnload.bind(this)),window.addEventListener("unload",this.onBeforeUnload.bind(this)),this):void 0},setTotalSlides:function(e){this.totalSlides=e},setResumer:function(e){this.resumer=e,this.queueRequest(m)},interactionAnswered:function(e,t){this.updateResults()},quizComplete:function(e){this.updateResults()},courseComplete:function(e){this.updateResults().sendResultsData(),this.scoring.markAttemptsSent(),this.updateResults()},courseStarted:n.noop,reportStatus:n.noop,viewedComplete:n.noop,slideViewed:function(e){var t=[u.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(e){t.push(e)}),t.push(u.writeCloseNode("viewdata")),this.updateViewData(t.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.scoring.isPastViewThreshold()&&this.sendResultsData())},getViewedEls:function(e){return e.reduce(function(e,t){return e.push(u.writeNode("slide",{id:o.stripPlayer(t.absoluteId),viewgroupid:t.getViewGroupId()},!0)),e},[])},setViewedResults:function(){var e=[u.writeNode("results"),u.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),u.writeCloseNode("results")].join("");this.updateResultsData(e,!0)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var e=[u.writeNode("results"),u.writeNode("summary",this.getSummaryAttributes(),!0),u.writeNode("quizzes")];return null!=this.scoring.quiz&&e.push(this.scoring.quiz.getAoSoapXml()),e.push(u.writeCloseNode("quizzes"),u.writeCloseNode("results")),this.updateResultsData(e.join(""),!1),this}},getSummaryAttributes:function(e){return e={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(e.score=this.scoring.prop("PercentScore"),e.possibleScore=100),e.duration=this.resumer.getCourseTime(),e.status=this.scoring.prop("Status")),e},onSessionId:function(e){this.sessionId=e.querySelector(v).textContent,this.createRefreshInterval()},killRefreshInterval:function(){a.killDelayedCallsTo(this.onIntervalComplete)},createRefreshInterval:function(){a.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(f).createRefreshInterval()},dontDoAnything:n.noop,getItem:function(){return this.resumeDfd=new l.Deferred,this.queueRequest(d),this.resumeDfd.promise()},setItem:function(e,t){t!==this.lastData&&(this.lastData=t,this.updateResumeData(t))},sendResumeReady:function(e){var t=e.querySelector(g);this.resumeDfd.resolve(t.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(e){var i;t=["<resumeData>",e,"</resumeData>"].join(""),i=['<playerdata sessionid="',this.sessionId,'">',t,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(p,i),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(e){i=e,this.prepareHtmlUpdate()},updateResultsData:function(e,t){C=e,t&&this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',c,'">',t,i,C,"</playerdata>"].join("")},sendResultsData:function(){var e=this.getPlayerData();c++,this.queueRequest(h,e,!0),this.htmlUpdate=t=i=C=""},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(e){var t;this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,t=s.isIE()?"sendSyncRequest":"sendRequest",this[t]({command:this.hasResultsData()?h:p,xmlData:this.htmlUpdate}))},queueRequest:function(e,t,i){var n=i?"push":"unshift",r={command:e,xmlData:t};return 0===this.queue.length&&this.awaitingResponse===!1?this.sendRequest(r):this.queue[n](r),this},requestCallback:function(e,t,i){var n,r;this.awaitingResponse=!1,t||(n=new window.DOMParser,r=n.parseFromString(i.text,"application/xml")),this[e](r),this.popQueue()},popQueue:function(){this.queue.length>0&&this.sendRequest(this.queue.pop())},sendRequest:function(e,t){s.isIE()&&this.hasEnded&&this.sendSyncRequest(e);var i=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),o=this.createSoapRequest(e),a=P[e.command];this.awaitingResponse=!0,r.post(i).set("Content-Type","text/xml").set("soapaction",n).send(o).end(this.requestCallback.bind(this,a))},createActionUrl:n.partial(T,x),createBaseUrl:n.partial(T,w),createSoapRequest:function(e){return[y,"<command ".replace("command",e.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",x),"<contentUrl>",window.escape(S),"</contentUrl>",null!=e.xmlData?e.xmlData:"","</command>".replace("command",e.command),b].join("")},sendSyncRequest:function(e){var t=this.createBaseUrl("services/content/api.asmx"),i=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),n=this.createSoapRequest(e),r=new window.XMLHttpRequest;r.open("POST",t,!1),r.setRequestHeader("SOAPAction",i),r.send(n)}};return window.handleBeforeUnload=E.onBeforeUnload.bind(E),E}),define("helpers/external/lmsInteractionMethods",["require","lodash","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/constants"),"_"),n="|#|",r=function(e){return null==e&&(e=""),window.CreateResponseIdentifier(e.substr(0,1),e)},s=function(e,t){return e.push(r(t)),e},o=function(e,t,i){var n=t.statement.lmstext||t.statement,r=t.choice.lmstext||t.choice,s=window.CreateResponseIdentifier(i.toString(),n),o=window.CreateResponseIdentifier(n.charAt(0),r);return e.push(new window.MatchingResponse(s,o)),e},a=function(e){return null==e.choice&&""===e?e=i:""===e.choice&&(e.choice=i),e},l={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},u=function(e){var i=t.first(e).toUpperCase();return l[i]||e},c=function(e){return null!=e?"true"===e.lmstext.toLowerCase():!1},h=function(e,t){var i,n=t,r=[t.prop("AttemptCount")-1,e.getAttempts()];do i=n.get("lmsId"),i&&r.push(i);while(n=n.parent);return r.reverse().join("_")},p={truefalse:function(e,i,n){window.RecordTrueFalseInteraction(h(e,i),c(t.first(i.getResponseValues())),u(i.prop("Status")),c(t.first(i.getCorrectValues())),i.get("lmstext"),e.prop("Weight"),n,e.get("lmstext"))},multiEtc:function(e,i,n,o){var l,c,p,d,f=n.isType("sequence");f?(c=function(e,t,i){return e.push(r(t.statement.lmstext),r(t.choice.lmstext)),e},p=n.getResponseValues().reduce(c,[]),d=a(n.getCorrectValues()).reduce(c,[])):(l=function(e){return t.isString(e)?e:null!=e.choice?e.choice.lmstext:e.lmstext},p=n.getResponseValues().map(l).reduce(s,[]),d=a(n.getCorrectValues().map(l)).reduce(s,[])),window[e](h(i,n),p,u(n.prop("Status")),d,n.get("lmstext"),i.prop("Weight"),o,i.get("lmstext"))},numeric:function(e,t,i,n){window.RecordFillInInteraction(h(e,t),t.getResponseValues(),u(t.prop("Status")),n||t.getCorrectValues(),t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},fillin:function(e,t,i){var r=t.getCorrectValues().map(function(e){return e.lmstext}).join(n);p.numeric(e,t,i,r)},matching:function(e,t,i){var n=t.getResponseValues().reduce(o,[]),r=t.getCorrectValues();r=a(r).reduce(o,[]),window.RecordMatchingInteraction(h(e,t),n,u(t.prop("Status")),r,t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},likert:function(e,i,r){var s=t.flatten(i.getResponseValues().map(function(e){return[e.statement.lmstext,e.choice.lmstext]})).join(n);window.RecordLikertInteraction(h(e,i),window.CreateResponseIdentifier(s.substr(0,1),s),u(i.prop("Status")),"",i.get("lmstext"),e.prop("Weight"),r,e.get("lmstext"))}};return p.wordbank=p.hotspot=p.multiplechoice=p.multipleresponse=t.partial(p.multiEtc,"RecordMultipleChoiceInteraction"),p.sequence=t.partial(p.multiEtc,"RecordSequencingInteraction"),p.essay=p.numeric,p}),define("helpers/external/lms",["require","lodash","helpers/external/lmsInteractionMethods","helpers/GsapTweenLite","helpers/vow","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/external/lmsInteractionMethods"),n=e("helpers/GsapTweenLite"),r=e("helpers/vow"),s=(e("helpers/utils"),{complete:function(e){e.api.SetReachedEnd()},incomplete:function(e){e.api.ResetStatus()},fail:function(e){e.api.SetFailed()},pass:function(e){e.api.SetPassed()}}),o={queue:[],resumer:null,scoring:null,api:null,lessonCompleted:!1,setTotalSlides:t.noop,courseStarted:t.noop,quizComplete:t.noop,slideViewed:t.noop,initialize:function(e,t){var i=this.startWindow();return i&&(this.scoring=t,this.courseId=e,window.addEventListener("beforeunload",this.lmsUnload.bind(this)),this.initCommitTimeout()),i===!0?this:i},startWindow:function(){this.api=window;var e=t.isFunction(this.api.Start);return e&&this.api.Start(),e},setResumer:function(e){this.resumer=e},getItem:function(e){var t;return this.resumeDfd=this.resumeDfd||new r.Deferred,null!=this.api.IsLoaded&&this.api.IsLoaded()?(t=this.api.GetDataChunk(),this.resumeDfd.resolve(t),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):n.delayedCall(.5,this.getItem,void 0,this),null!=e?this.resumeDfd.promise():void 0},listenToResumer:function(){var e=this;this.resumer.resumeDfd.always(function(){"rejected"===this.state()&&(e.lastStatus="incomplete",s.incomplete(e))})},setItem:function(e,t){this.resumeData=t,this.sendDataCall||(this.sendDataCall=n.delayedCall(5,this.sendData,void 0,this))},initCommitTimeout:function(){n.delayedCall(60,this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall=null,n.killDelayedCallsTo(this.sendData),this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(e,t){if(this.scoring){var n=i[t.type()];n(e,t,this.resumer.getCourseTime())}},reportStatus:function(){return this.updateScore(),this.updateStatus(),this},updateStatus:function(){var e=this.scoring.prop("Status"),i=s[e]||t.noop;return this.lastStatus&&this.lastStatus===e||(this.lastStatus=e,i(this)),this},updateScore:function(){if(!this.scoring.isView()&&this.scoring.quiz.attempted()){var e=this.scoring.prop("PercentScore");this.lastScore!==e&&(this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return s.pass(this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(){this.reportStatus(),this.api.ConcedeControl(),this.api.Unload()},commit:function(){return this.api.CommitData(),this},courseComplete:function(){return this.reportStatus().forceCommit(),this}};return o}),define("helpers/resume/localStorageHelper",["require","lodash","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n="path=/",r=4048,s=function(e){return e.split("=")},o=function(e){return e[0]},a=function(){var e=new Date(Date.now()+31536e7);return["expires",e.toGMTString()].join("=")},l={setCookie:function(e,t){var i=[e,t].join("=");return document.cookie=[i,a(),n].join("; "),this},getCookies:function(e){var t=document.cookie.split("; "),i=function(t){return 0===t[0].indexOf(e)};return t.map(s).filter(i)},getItem:function(e){var n=new i.Deferred,r=t(this.getCookies(e)).sortBy(o).reduce(function(e,t){return e+t[1]},"");return n.resolve(r),n.promise()},setItem:function(e,t){for(var i,n,s=0;t.length>0;)n=[e,s++].join("_"),i=t.slice(0,r),this.setCookie(n,i),t=t.slice(r);return this}},u={getItem:function(e){var t=new i.Deferred,n=window.localStorage.getItem(e);return t.resolve(n),t.promise()},setItem:function(e,t){var i;try{i=window.localStorage.setItem(e,t)}catch(n){console.warn(n)}return i}},c={setResumer:t.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!t.isUndefined(window.localStorage)}catch(e){return!1}},getStorage:function(){return t.extend(c,this.hasStorage()?u:l)}}}),define("helpers/resume/Chunk",["require","lodash","models/BaseModel"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=64,r=6,s="abcdefghijklmnopqrstuvwxyz",o=function(e){return e.toString()},a=t.union(t.range(10).map(o),s.split(""),s.toUpperCase().split(""),"_$".split("")),l=function(e){return a.indexOf(e)},u=/([^a-zA-Z0-9_$])/,c=i.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(e){var t,i=1,n=0;"~"===this.fullString().charAt(0)&&(n=2,i=parseInt(this.fullString().charAt(1))),t=n+i,this.encodedLength(this.fullString().slice(n,t)),this.strLength(parseInt(c.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(t,t+this.strLength())),this.remainder(this.fullString().slice(t+this.strLength()))},getDecodedValue:function(e){var t=this.encodedString();return u.test(t)||(t=c[e](t)),t},reChunk:function(){return new c({fullString:this.remainder()})}}),h=c.prototype;return h.getSignedValue=t.partial(h.getDecodedValue,"fromSignedString64"),h.getUnsignedValue=t.partial(h.getDecodedValue,"fromUnsignedString64"),c.EMPTY_CHUNK=0,c.create=function(e){null==e&&(e="");var t="",i=e.toString().length,n=c.toUnsignedString64(i);return i>63&&(t+="~"+n.length),t+=n+e},c.packData=function(e){return[c.create(c.toUnsignedString64(e.length)),e].join("")},c.toUnsignedString64=function(e,i,s){var o="",l=!0,u=e,h=0;for(s=s||c.EMPTY_CHUNK;u>0||l;)l=!1,h=u&n-1,o+=a[h],u>>=r;return o+=t.times(i-o.length,t.partial(t.identity,s)).join("")},c.toSignedString64=function(e,t){var i,r=e,s=0>e,o=1,a=0;for(t=t||-1;Math.pow(n,o)/2<=Math.abs(e);)o++;if(i=Math.max(t,o),s){for(;-e>=Math.pow(n,a)/2;)a++;r=Math.pow(n,a)+e}return c.toUnsignedString64(r,i,s?"$":"0")},c.fromUnsignedString64=function(e){var t=e.toString().split(""),i=function(e,t,i){return e+=l(t)<<r*i};return t.reduce(i,0)},c.fromSignedString64=function(e){var t=c.fromUnsignedString64(e.toString()),i=Math.pow(n,e.length)/2;return t>=i&&(t-=2*i),t},c}),define("helpers/resume/courseStateHelper",["require","lodash","helpers/utils","helpers/vow","helpers/resume/Chunk"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/utils"),s=e("helpers/vow"),o=e("helpers/resume/Chunk"),a={initialize:function(){var e,t,i={},r=window.vRestoreStateData;if(this.hasData=!n.isEmpty(r),this.hasData){for(e=new o({fullString:r}),this.resumeData=e.encodedString(),e=e.reChunk(),e=new o({fullString:e.encodedString()}),t=e.encodedString();t.length>0;)e=e.reChunk(),i[t]=e.encodedString(),e=e.reChunk(),t=e.encodedString();this.slideStateData=i}},setResumer:function(e){t=e},setWindowManager:function(e){i=e},getSlideStateData:function(e){return this.hasData?this.slideStateData[r.stripPlayer(e)]:void 0},clearSlideStateData:function(e){delete this.slideStateData[r.stripPlayer(e)]},getState:function(){return n.map([o.packData(t.collectResumeData()),this.getActiveSlideStates()],o.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var e=new s.Deferred;return e.resolve(),e.promise()},setItem:n.noop,setResumer:n.noop}},getActiveSlideStates:function(){return i.windows.map(function(e){var t=e.getCurrentSlide();return null==t?"":(t.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),n.map([r.stripPlayer(t.absoluteId),t.getResumeData()],o.create).join(""))}).join("")}};return a.initialize(),a}),define("helpers/PostMessaging",["require","helpers/vow","helpers/errorManager"],function(e){"use strict";var t=e("helpers/vow"),i=e("helpers/errorManager"),n={},r="request",s="response",o="SUCCESS",a="ERROR",l=[r,s],u=function(e,t){return n[e]=t,function(){delete n[e]}},c=function(e){return null!=e&&null!=e.id&&null!=e.type&&-1!==l.indexOf(e.type)},h=function(e){var t,r=i.throwError("PostMessaging");if(null!=e.data){try{t=JSON.parse(e.data)}catch(s){return}c(t)&&(null!=n[t.connectionId]?n[t.connectionId](t,e):r("No listener exists for connectionId: ",t.connectionId))}};window.addEventListener("message",h,!1);var p=function(e,n){var l,c,h,p=i.throwError("PostMessaging"),d={},f=0,m=new t.Deferred,g=n,v=function(e){return null!=e&&"function"==typeof e.then},y=function(e,i,n,s,a){var l=++f,u=new t.Deferred,c={type:i,connectionId:g};return d[l]=u,i===r?(c.method=n,c.params=s,c.id=l):(c.id=n,c.data=s,c.status=null!=a?a:o),e.postMessage(JSON.stringify(c),"*"),u.always(function(){delete d[l]}).fail(function(e){delete d[l],p(e.message)}),u.promise()},b=function(e){l=function(t,i){return m.then(function(){return y(e,r,t,i)})},c=function(t,i,n){return m.then(function(){return y(e,s,t,i,n)})}},w=function(t,i){var n,l;if(t.type===r)if("connect"===t.method)b(i.source),y(i.source,s,t.id),m.resolve();else if(null!=e[t.method])try{l=e[t.method].apply(void 0,Array.isArray(t.params)?t.params:[t.params]),v(l)?l.then(function(e){c(t.id,e)}):c(t.id,l)}catch(u){c(t.id,u.message,a)}else c(t.id,["No handler for this method ",t.method].join(""),a);else{if(n=d[t.id],null!=n)return void(t.status===o?n.resolve(t.data,i):n.reject(t.data,i));c(t.id,["No pending requests for this response id ",t.id].join(""),a)}};h=u(g,w),this.ready=function(){return m},this.connect=function(e){return b(e),y(e,r,"connect").then(m.resolve),m},this.request=function(){return null!=l?l.apply(void 0,arguments):void p("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){h(),window.removeEventListener("message",w,!1)}};return p}),define("helpers/webObjectHelper",["require","lodash","polyfills/detection","helpers/utils","helpers/errorManager","helpers/pubSub","helpers/vow","helpers/PostMessaging"],function(e){"use strict";var t,i,n=e("lodash"),r=e("polyfills/detection"),s=e("helpers/utils"),o=e("helpers/errorManager"),a=e("helpers/pubSub"),l=e("helpers/vow"),u=e("helpers/PostMessaging"),c=new l.Deferred,h=o.throwError("webObjectHelper"),p=!1;(new l.Deferred).reject().promise();a.once("data:initialized",function(){p=!0});var d=function(e){t=e,r.isWebObject?(i=new u(m,s.queryStringToObj().id),i.ready().then(c.resolve),i.connect(window.parent)):c.reject()},f=function(){null!=i&&i.tearDown()},m={setVolume:function(e){a.trigger("volume:changed",e)},executeFilteredPlayerEvent:function(e){if(!p)throw new Error("data is not yet initialized");t.executeFilteredPlayerEvent(g(e),"onhostevent")}},g=function(e){return function(t){return t.eventname===e}},v=function(e){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",e)},y=function(){return c.then(function(){return i.request("getResumeData").then(function(e){return e}).fail(h.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))})},b=function(e){return i.request("setResumeData",e).fail(h.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))},w=function(e){return n.extend({},e,{getItem:y,setItem:function(t,i){return b(i),e.setItem.apply(e,arguments)}})};return{initialize:d,tearDown:f,triggerHostEvent:v,getResumer:w}}),define("helpers/resume/resumer",["require","lodash","helpers/appState","helpers/pubSub","helpers/external/tinCan","helpers/external/ao","helpers/external/lms","helpers/resume/localStorageHelper","helpers/resume/Chunk","helpers/vow","helpers/errorManager","polyfills/detection","helpers/resume/courseStateHelper","helpers/webObjectHelper"],function(e){"use strict";var t,i,n,r,s=e("lodash"),o=e("helpers/appState"),a=e("helpers/pubSub"),l=e("helpers/external/tinCan"),u=e("helpers/external/ao"),c=e("helpers/external/lms"),h=e("helpers/resume/localStorageHelper"),p=e("helpers/resume/Chunk"),d=e("helpers/vow"),f=e("helpers/errorManager"),m=e("polyfills/detection"),g=e("helpers/resume/courseStateHelper"),v=e("helpers/webObjectHelper"),y="",b=(f.warn("resumer"),function(e){return e.remainder().length===e.getUnsignedValue()}),w=function(e){return e.match(/.{2}/g)},S=function(e){return e.getViewGroupId()},x={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,initialize:function(e){return s.bindAll(this,"savePresentationData"),t=e,i=e.resume()||{},this.resumeDfd=new d.Deferred,this.resumeDfd.fail(function(){this.setViewedSlidesFromString("")}.bind(this)),g.setResumer(this),this.setProperLms(),a.on("player:closing",this.closePlayer.bind(this)),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=(new d.Deferred).resolve().promise(),this.checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!r},setProperLms:function(){var e=t.get("scoring"),n=t.get("courseId");return this.hasLms=!0,window.globals.tinCanPresent?r=l.initialize(n,t.get("tincanVersion"),e,t):window.globals.aoSupport?r=u.initialize(n,e):window.globals.lmsPresent?(r=c.initialize(n,e),this.hasLms=this.isResumable()):i.flashresume===!0?(this.hasLms=!1,r=h.getStorage()):g.shouldShimLMS()?(this.hasLms=!1,r=g.getLMSShim()):this.hasLms=!1,m.isWebObject&&(r=v.getResumer(r)),null!=r&&this.hasLms&&!i.lmsresume&&this.neverResumeLms(r),this},neverResumeLms:function(e){e.setItem=s.noop,e.getItem=function(){var e=new d.Deferred;return e.resolve(),e.promise()}},informExternals:function(){return r.setResumer(this),this},setListeners:function(){return a.on({"slide:viewed":this.slideViewed.bind(this),"actionlink:event":this.onActionLink.bind(this)}),this.hasLms&&a.on({"interaction:evaluated":this.onInteractionEvaluated,"quiz:completed":r.quizComplete.bind(r),"course:completed":r.courseComplete.bind(r),"course:viewed":r.viewedComplete.bind(r),"status:updated":r.reportStatus.bind(r)}),this},onInteractionEvaluated:function(e,t){e.hasScoring()&&r.interactionAnswered(e,t)},closePlayer:function(){t.isPreview()?a.trigger("preview:notify","PREVIEW_CLOSE_WND"):null!=r&&s.isFunction(r.lmsUnload)?r.lmsUnload():window.top.window.open("","_self","").close()},setWindowManager:function(e){n=e,g.setWindowManager(e),this.lmsDfd.done(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=t.scenes().map(function(e,t){return p.EMPTY_CHUNK}),this},callForLightboxClose:function(){return a.trigger("window:closing",i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),a.trigger("resume:setdata",this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),a.trigger("resume:setdata"),this},check:function(e){m.isMobileAndNotPreview?o.getAppCompletePromise().done(function(){a.trigger("mobileStart:requesting",e)}):e()},initResumeData:function(){this.lmsDfd=r.getItem(i.id).done(function(e){var t=!1;g.hasData&&(e=g.resumeData),null!=e&&e.length&&(t=this.processResumeData(e)),t?this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(e){var t=!1,i=new p({fullString:e});return b(i)?(this.resumeData=i.reChunk(),t=!0):f.warn("processResumeData","the data is the incorrect length, resume not attempted"),t},checkApplyResumeData:function(){return i.prompt&&!g.hasData&&o.getAppCompletePromise().done(function(){a.trigger("nextSlide:requesting",i.slideId,i.window)}),this},checkQuickResume:function(){null==this.resumeData||i.prompt&&!g.hasData||this.checkAndResolve()},applyResumeData:function(e){var t=e?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[t]()},slideViewed:function(e){e.get("trackViews")&&(this.addSlideToViewedList(e),this.hasLms&&r.slideViewed(e))},onActionLink:function(e){var i=s.findIndex(t.get("actionlinks"),{id:e});-1!==i&&(this.viewedActionLinks[e]=i)},addSlideToViewedList:function(e){this.viewedSlides.push(e),this.viewedSlides=s.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=s.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(e,t){return e+p.toUnsignedString64(t.prop("Index")+1,2)},"")},setViewedSlidesFromString:function(e){if(e.length){var i=t.getFlatSlides(),n=t.get("scoring");this.totalViewedSlides=s(w(e)).map(p.fromUnsignedString64).map(function(e){var t=i[e-1];return null!=t&&n.incrementViewed(t),t}.bind(this)).compact().value()}this.hasLms&&t.getDrawPromise().done(function(){r.setTotalSlides(t.getUniqueSlides().length)})},getUniqueSlides:function(e){return s.uniq(this[e],S)},getViewedActionLinksString:function(){return s.reduce(this.viewedActionLinks,function(e,t){
return e+p.toUnsignedString64(t,2)},"")},setViewedActionLinksFromString:function(e){if(e.length>0){var i=t.get("actionlinks");null!=i&&(this.viewedActionLinks=w(e).map(p.fromUnsignedString64).reduce(function(e,t){var n=i[t];return null!=n&&(e[n.id]=t),e},{}))}},collectResumeData:function(){return[p.create(this.getViewedSlidesString()),p.create(n.getResumeData()),t.variables().length>0?p.create(t.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),t.quizzes().getResumeData(),t.timers().length>0?t.timers().getResumeData():"",p.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(e){if(!this.isResumable()||d.isPending(this.resumeDfd))return this;var t=n.getCurrentWindowSlide();this.saveSceneData(e),null!=t&&(this.resumeData=this.collectResumeData(),r.setItem(i.id,p.packData(this.resumeData)))},saveSceneData:function(e){null!=e&&(this.sceneResume[e.index()]=p.create(e.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.done(this.setResumeData.bind(this)),this},setResumeData:function(){var e,i,r,s=this.resumeData.encodedString(),o=t.variables().length>0,a=this.resumeData.reChunk(),l=o?a.reChunk():null,u=o?l.reChunk():a.reChunk();o&&t.variables().setResumeData(l.encodedString()),e=this.setSceneResumeData(u),i=t.quizzes().setResumeData(e),t.timers().length>0&&t.timers().setResumeData(i),r=i,t.createSlideIndices(),this.setViewedSlidesFromString(s),this.setViewedActionLinksFromString(r.encodedString()),n.setResumeData(a.encodedString())},setSceneResumeData:function(e){return t.scenes().forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e},courseStarted:function(e){this.courseStartTime=Date.now(),this.hasLms&&r.courseStarted(e)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){t.scenes().forEach(function(e){e.clearResumeData()}),t.getUniqueSlides().forEach(function(e){e.clearResumeData()}),n.setResumeData(y),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&r.setItem(i.id,y)}};return x.getUniqueViewedSlides=s.partial(x.getUniqueSlides,"viewedSlides"),x.getUniqueTotalSlides=s.partial(x.getUniqueSlides,"totalViewedSlides"),x.checkAndReject=s.partial(x.check,x.rejectDeferred.bind(x)),x.checkAndResolve=s.partial(x.check,x.resolveDeferred.bind(x)),x}),define("helpers/slidesController",["require","lodash","backbone","mixins/subscribable","helpers/pubSub","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),r=e("mixins/subscribable"),s=(e("helpers/pubSub"),e("helpers/resolver")),o=i.extend({initialize:function(e){t=e,this.addSubscriptions()},ensureSlideIsSlide:function(e){return e.isScene&&(e=this.getStartingSlide(e)),e.isSlideDraw&&(e=e.slides().first()),e},getSlide:function(e,i){var n=s.isRelativePath(e)?i:t,r=s.resolvePath(e,n,{optional:!0});return null!=r&&(r=this.ensureSlideIsSlide(r)),r},getRef:function(e){var i=t.slideMap().slideRefs();return i.get(e.fullId())||i.get(e.id)},getStartingSlide:function(e){return s.resolvePath(e.startingSlide(),t)},getEntrypoint:function(){return t.entryPoint()},loadSlide:function(e,n){var r=i.isString(e)?this.getSlide(e,n):e,s=r.load(this.getRef(r));return t.slideMap().setCurrent(r.absoluteId,s),s},getSlideFromIndices:function(e,i){return t.scenes().at(e).slides().at(i)},getDrawFromIndices:function(e,i,n){return t.scenes().at(i).slidedraws().at(e).slides().at(n)}},n.Events,r);return o}),function(){"use strict";var e=10,t=16,i=4.5,n=1.5,r=[0,0,0,.5],s=!1,o={};window.captionator=o,o.CaptionatorCueStructure=function(e,t){var i=this;this.isTimeDependent=!1,this.cueSource=e,this.options=t,this.processedCue=null,this.toString=function n(r){if(t.processCueHTML!==!1){var n=function(e,t){if(null===i.processedCue){var s,o,a="";for(s in e)s.match(/^\d+$/)&&e.hasOwnProperty(s)&&(o=e[s],o instanceof Object&&o.children&&o.children.length?"v"===o.token?a+='<q data-voice="'+o.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+o.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+o.voice.replace(/[\"]/g,"")+'">'+n(o.children,t+1)+"</q>":"c"===o.token?a+="<span class='webvtt-span webvtt-class-span "+o.classes.join(" ")+"'>"+n(o.children,t+1)+"</span>":o.timeIn>0?null===r||void 0===r||r>0&&r>=o.timeIn?a+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+o.token+"' data-timestamp-seconds='"+o.timeIn+"'>"+n(o.children,t+1)+"</span>":r<o.timeIn&&(a+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+o.token+"' data-timestamp-seconds='"+o.timeIn+"'>"+n(o.children,t+1)+"</span>"):a+=o.rawToken+n(o.children,t+1)+"</"+o.token+">":(o instanceof String||"string"==typeof o||"number"==typeof o)&&(a+=o));return!i.isTimeDependent&&0===t&&(i.processedCue=a),a}return i.processedCue};return n(this,0)}return e},this.getPlain=function(i){if(t.processCueHTML!==!1){var n=function(e,t){var r,s,o="";for(r in e)r.match(/^\d+$/)&&e.hasOwnProperty(r)&&(s=e[r],s instanceof Object&&s.children&&s.children.length?s.timeIn>0?(null===i||void 0===i||i>0&&i>=s.timeIn)&&(o+=n(s.children,t+1)):o+=n(s.children,t+1):(s instanceof String||"string"==typeof s||"number"==typeof s)&&(o+=s));return o};return n(this,0)}return e.replace(/<[^>]*>/gi,"")}},o.CaptionatorCueStructure.prototype=[],o.TextTrack=function(e,t,i,n,r,s){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=e||"",this.internalMode=o.TextTrack.OFF,this.cues=new o.TextTrackCueList(this),this.activeCues=new o.ActiveTextTrackCueList(this.cues,this),this.kind=t||"subtitles",this.label=i||"",this.language=n||"",this.src=r||"",this.readyState=o.TextTrack.NONE,this.internalDefault=s||!1,this.getMode=function(){return this.internalMode},this.setMode=function(e){var t=[o.TextTrack.OFF,o.TextTrack.HIDDEN,o.TextTrack.SHOWING];if(-1===t.indexOf(e))throw new Error("Illegal mode value for track: "+e);e!==this.internalMode&&(this.internalMode=e,this.readyState===o.TextTrack.NONE&&this.src.length>0&&e>o.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,o.rebuildCaptions(this.videoNode),e===o.TextTrack.OFF&&(this.cues.length=0,this.readyState=o.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(e,t){var i,n=new XMLHttpRequest;if(this.readyState===o.TextTrack.LOADED)t instanceof Function&&t(i);else{this.src=e,this.readyState=o.TextTrack.LOADING;var r=this;n.open("GET",e,!0),n.onreadystatechange=function(e){if(4===n.readyState)if(200===n.status){var s=r.videoNode._captionatorOptions||{};"metadata"===r.kind&&(s.processCueHTML=!1,s.sanitiseCueHTML=!1),i=o.parseCaptions(n.responseText,s),r.readyState=o.TextTrack.LOADED,r.cues.loadCues(i),r.activeCues.refreshCues.apply(r.activeCues),r.videoNode._captionator_dirtyBit=!0,o.rebuildCaptions(r.videoNode),r.onload.call(this),t instanceof Function&&t.call(r,i)}else r.readyState=o.TextTrack.ERROR,r.onerror()};try{n.send(null)}catch(s){r.readyState=o.TextTrack.ERROR,r.onerror(s)}}},this.addCue=function(e){if(!(e&&e instanceof o.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(e)},this.removeCue=function(){}},o.TextTrack.NONE=0,o.TextTrack.LOADING=1,o.TextTrack.LOADED=2,o.TextTrack.ERROR=3,o.TextTrack.OFF=0,o.TextTrack.HIDDEN=1,o.TextTrack.SHOWING=2,o.TextTrackCue=function(e,t,i,n,r,s,a){if(this.id=e,this.track=a instanceof o.TextTrack?a:null,this.startTime=parseFloat(t),this.endTime=parseFloat(i)>=this.startTime?parseFloat(i):this.startTime,this.text="string"==typeof n||n instanceof o.CaptionatorCueStructure?n:"",this.settings="string"==typeof r?r:"",this.intSettings={},this.pauseOnExit=!!s,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var l=this.intSettings,u=this;r=r.split(/\s+/).filter(function(e){return e.length>0}),r instanceof Array&&r.forEach(function(e){var t={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};e=e.split(":"),t[e[0]]&&(l[t[e[0]]]=e[1]),t[e[0]]in u&&(u[t[e[0]]]=e[1])})}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var e=document.createDocumentFragment(),t=document.createElement("div");return t.innerHTML=String(this.text),Array.prototype.forEach.call(t.childNodes,function(t){e.appendChild(t.cloneNode(!0))}),e},this.isActive=function(){var e=0;if(this.track instanceof o.TextTrack&&(this.track.mode===o.TextTrack.SHOWING||this.track.mode===o.TextTrack.HIDDEN)&&this.track.readyState===o.TextTrack.LOADED)try{if(e=this.track.videoNode.currentTime,this.startTime<=e&&this.endTime>=e)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(t){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},o.TextTrackCueList=function(e){this.track=e instanceof o.TextTrack?e:null,this.getCueById=function(e){return this.filter(function(t){return t.id===e})[0]},this.loadCues=function(e){for(var t=0;t<e.length;t++)e[t].track=this.track,Array.prototype.push.call(this,e[t])},this.addCue=function(e){if(!(e&&e instanceof o.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(e.track!==this.track&&e.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,e)},this.toString=function(){return"[TextTrackCueList]"}},o.TextTrackCueList.prototype=[],o.ActiveTextTrackCueList=function(e,t){this.refreshCues=function(){if(e.length){var i=this,n=!1,r=[].slice.call(this,0);if(this.length=0,e.forEach(function(e){e.active&&(i.push(e),i[i.length-1]!==r[i.length-1]&&(n=!0))}),n)try{t.oncuechange()}catch(s){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},o.ActiveTextTrackCueList.prototype=new o.TextTrackCueList(null);var a=function(e){this.targetObject=e,this.currentTime=0;var t=function(){};this.addEventListener=function(e,t,i){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.attachEvent=function(e,t){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.updateTime=function(e){isNaN(e)||(this.currentTime=e,t())}};o.rebuildCaptions=function(e){var t=e.textTracks||[],i=(e._captionatorOptions instanceof Object?e._captionatorOptions:{},e.currentTime),n=[],r=!1,s=[],a=[];if(t.forEach(function(e,t){e.mode===o.TextTrack.SHOWING&&e.readyState===o.TextTrack.LOADED&&(a=[].slice.call(e.activeCues,0),a=a.sort(function(e,t){return e.startTime>t.startTime?-1:1}),n=n.concat(a))}),s=n.map(function(e){return e.track.id+"."+e.id+":"+e.text.toString(i).length}),r=!o.compareArray(s,e._captionator_previousActiveCues),r||e._captionator_dirtyBit){e._captionator_dirtyBit=!1,e._captionator_availableCueArea=null,e._captionator_previousActiveCues=s,o.styleCueCanvas(e);var l=[].slice.call(e._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(e._containerObject.getElementsByTagName("div"),0));l.forEach(function(e){e.cueObject&&!e.cueObject.active&&(e.cueObject.rendered=!1,e.cueObject.domNode=null,e.parentElement.removeChild(e))}),n.forEach(function(t){var n,r;"metadata"!==t.track.kind&&t.mode!==o.TextTrack.HIDDEN&&(t.rendered?(n=t.domNode,r=n.getElementsByClassName("captionator-cue-inner")[0],t.text.toString(i)!==n.currentText&&(n.currentText=t.text.toString(i),r.innerHTML=n.currentText,r.spanified=!1)):(n=document.createElement("div"),r=document.createElement("span"),r.className="captionator-cue-inner",n.id=String(t.id).length?t.id:o.generateID(),n.className="captionator-cue",n.appendChild(r),n.cueObject=t,t.domNode=n,n.setAttribute("lang",t.track.language),n.currentText=t.text.toString(i),r.innerHTML=n.currentText,t.rendered=!0,"descriptions"===t.track.kind?e._descriptionContainerObject.appendChild(n):e._containerObject.appendChild(n)),"descriptions"!==t.track.kind&&o.styleCue(n,t,e))})}},o.captionify=function(l,u,c){var h=[],p=0;if(c=c instanceof Object?c:{},c.minimumFontSize&&"number"==typeof c.minimumFontSize&&(e=c.minimumFontSize),c.minimumLineHeight&&"number"==typeof c.minimumLineHeight&&(t=c.minimumLineHeight),c.fontSizeVerticalPercentage&&"number"==typeof c.fontSizeVerticalPercentage&&(i=c.fontSizeVerticalPercentage),c.lineHeightRatio&&"number"!=typeof c.lineHeightRatio&&(n=c.lineHeightRatio),c.cueBackgroundColour&&c.cueBackgroundColour instanceof Array&&(r=c.cueBackgroundColour),HTMLVideoElement||l instanceof a||c.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||c.forceCaptionify){if(!s&&c.exportObjects&&(window.TextTrack=o.TextTrack,window.TextTrackCueList=o.TextTrackCueList,window.ActiveTextTrackCueList=o.ActiveTextTrackCueList,window.TextTrackCue=o.TextTrackCue,s=!0),l&&l!==!1&&void 0!==l&&null!==l)if(l instanceof Array)for(p=0;p<l.length;p++)"string"==typeof l[p]?h=h.concat([].slice.call(document.querySelectorAll(l[p]),0)):l[p].constructor===HTMLVideoElement&&h.push(l[p]);else"string"==typeof l?h=[].slice.call(document.querySelectorAll(l),0):l.constructor===HTMLVideoElement&&h.push(l);else h=[].slice.call(document.getElementsByTagName("video"),0);return h.length?(h.forEach(function(e){e.addTextTrack=function(t,i,n,r,s,a,l){var u,c=["subtitles","captions","descriptions","captions","metadata","chapters"];c.slice(0,7);if(t="string"==typeof t?t:"",n="string"==typeof n?n:"",r="string"==typeof r?r:"",l="boolean"==typeof l?l:!1,!c.filter(function(e){return i===e}).length)throw o.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return u=new o.TextTrack(t,i,n,r,s,null),u?(e.textTracks instanceof Array||(e.textTracks=[]),e.textTracks.push(u),u):!1},o.processVideoElement(h[p],u,c)}),!0):!1}return!1}return!1},o.parseCaptions=function(e,t){t=t instanceof Object?t:{};var i="",n=[],r="",s=[],a=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,l=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,u=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,c=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,h=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,p=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,d=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,f=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,m=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,g=/<tt\s+xml/gi,v=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(e){var y=function(e){var i,n,r,s,a,l=new o.CaptionatorCueStructure(e,t),u=[],h=[],p=0,d=function(e){return!!e.replace(/[^a-z0-9]+/gi,"").length};u=e.split(/(<\/?[^>]+>)/gi),r=l;for(i in u)if(u.hasOwnProperty(i))if(n=u[i],"<"===n.substr(0,1)){if("/"===n.substr(1,1)){var f=n.substr(2).split(/[\s>]+/g)[0];if(h.length>0){var m=0;for(p=h.length-1;p>=0;p--){var g=h[p][h[p].length-1];if(m=p,g.token===f)break}r=h[m],h=h.slice(0,m)}}else if(n.substr(1).match(c)||n.match(/^<v\s+[^>]+>/i)||n.match(/^<c[a-z0-9\-\_\.]+>/)||n.match(/^<(b|i|u|ruby|rt)>/)||t.sanitiseCueHTML!==!1){var v={token:n.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:n,children:[]};"v"===v.token?v.voice=n.match(/^<v\s*([^>]+)>/i)[1]:"c"===v.token?v.classes=n.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(d):!(s=v.rawToken.match(c))||(l.isTimeDependent=!0,a=s.slice(1),v.timeIn=parseInt(60*(a[0]||0)*60,10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0))),r.push(v),h.push(r),r=v.children}}else t.sanitiseCueHTML!==!1&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),t.ignoreWhitespace||(n=n.replace(/\n+/g,"<br />"))),r.push(n);return l},b=function(e,n){var c,g,v,b,w,S,x,T,C,P,E="";if(T=d.exec(e))return s=T.slice(2).join(""),s=s.split(/\s+/g).filter(function(e){return e&&!!e.length}),null;if(T=f.exec(e))return r+=T[T.length-1],null;if(T=m.exec(e))return null;for(c="LRC"===i?[e.substr(0,e.indexOf("]")+1),e.substr(e.indexOf("]")+1)]:e.split(/\n/g);!c[0].replace(/\s+/gi,"").length&&c.length>0;)c.shift();for(x=c[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(c.shift().replace(/\s*/gi,"")):n,S=0;S<c.length;S++){var _=c[S];(C=u.exec(_))||(C=a.exec(_))||(C=l.exec(_))?(w=C.slice(1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),v=parseInt(60*(w[4]||0)*60,10)+parseInt(60*(w[5]||0),10)+parseInt(w[6]||0,10)+parseFloat("0."+(w[7]||0)),w[8]&&(E=w[8])):(C=h.exec(_))?(w=C.slice(1),g=parseFloat(w[0]),v=g+parseFloat(w[1]),w[2]&&(E=w[2])):!(C=p.exec(_))||(w=C.slice(1,C.length-1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),v=g),c=c.slice(0,S).concat(c.slice(S+1));break}if(!g&&!v)return null;var k=s.reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},{});k=E.split(/\s+/g).filter(function(e){return e&&!!e.length}).reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},k),E="";for(var A in k)k.hasOwnProperty(A)&&(E+=E.length?" ":"",E+=A+":"+k[A]);return b=t.processCueHTML===!1?c.join("\n"):y(c.join("\n")),P=new o.TextTrackCue(x,g,v,b,E,!1,null),P.styleData=r,P},w=function(e){var t,i=0;return"string"!=typeof e?0:((t=v.exec(e))&&(t=t.slice(1),i=parseInt(60*(t[0]||0)*60,10)+parseInt(60*(t[1]||0),10)+parseInt(t[2]||0,10)+parseFloat("0."+(t[3]||0))),i)},S=function(e,i){var n,r=0,s=0,a=String(e.getAttribute("begin")),l=String(e.getAttribute("end")),u=e.getAttribute("id")||i;return r=w(a),s=w(l),n=t.processCueHTML===!1?e.innerHTML:y(e.innerHTML),new o.TextTrackCue(u,r,s,n,{},!1,null)};if(n=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),g.exec(e)){var x=document.createElement("ttml");x.innerHTML=e;var T=[].slice.call(x.querySelectorAll("[begin],[end]"),0),C=T.map(S);return C}return e.split(/\n+/g).reduce(function(e,t,i,n){return e||!!p.exec(t)},!1)?(n=n.split(/\n+/g),i="LRC"):n=n.split(/\n\n+/g),n=n.filter(function(e){return e.match(/^WEBVTT(\s*FILE)?/gi)?(i="WebVTT",!1):!!e.replace(/\s*/gi,"").length}).map(b).filter(function(e){return null!==e}),"LRC"===i&&(n.forEach(function(e,t){var i,r=0;t>0&&(r=e.startTime,i=n[--t],i.endTime<r&&(i.endTime=r))}),n=n.filter(function(e){return e.text.toString().replace(/\s*/,"").length>0})),n}throw new Error("Required parameter captionData not supplied.")},o.processVideoElement=function(e,t,i){var n=[],r=navigator.language||navigator.userLanguage;t||r.split("-")[0];if(i=i instanceof Object?i:{},!e.captioned){e._captionatorOptions=i,e.className+=(e.className.length?" ":"")+"captioned",e.captioned=!0,0===e.id.length&&(e.id=o.generateID());[].slice.call(e.querySelectorAll("track"),0).forEach(function(r){var s=null;s=r.querySelectorAll("source").length>0?r.querySelectorAll("source"):r.getAttribute("src");var a=e.addTextTrack(r.getAttribute("id")||o.generateID(),r.getAttribute("kind"),r.getAttribute("label"),r.getAttribute("srclang").split("-")[0],s,r.getAttribute("type"),r.hasAttribute("default"));r.track=a,a.trackNode=r,a.videoNode=e,n.push(a);var l=!1;("subtitles"===a.kind||"captions"===a.kind)&&t===a.language&&i.enableCaptionsByDefault&&(n.filter(function(e){return("captions"===e.kind||"subtitles"===e.kind)&&t===e.language&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),"chapters"===a.kind&&t===a.language&&(n.filter(function(e){return"chapters"===e.kind&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),"descriptions"===a.kind&&i.enableDescriptionsByDefault===!0&&t===a.language&&(n.filter(function(e){return"descriptions"===e.kind&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),l===!0&&n.forEach(function(e){e.trackNode.hasAttribute("default")&&e.mode===o.TextTrack.SHOWING&&(e.mode=o.TextTrack.HIDDEN)}),r.hasAttribute("default")&&(n.filter(function(e){return!(!e.trackNode.hasAttribute("default")||e.trackNode===r)}).length||(l=!0,a.internalDefault=!0)),l===!0&&(a.mode=o.TextTrack.SHOWING)}),e.addEventListener("timeupdate",function(e){var t=e.target;try{t.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(n){}i.renderer instanceof Function?i.renderer.call(o,t):o.rebuildCaptions(t)},!1),window.addEventListener("resize",function(t){e._captionator_dirtyBit=!0,o.rebuildCaptions(e)},!1),i.enableHighResolution===!0&&window.setInterval(function(){try{e.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(t){}i.renderer instanceof Function?i.renderer.call(o,e):o.rebuildCaptions(e)},20)}return e},o.getNodeMetrics=function(e){var t=window.getComputedStyle(e,null),i=e,n=e.offsetTop,r=e.offsetLeft,s=e,o=0,a=0;for(s=parseInt(t.getPropertyValue("width"),10),o=parseInt(t.getPropertyValue("height"),10);i=i.offsetParent;)n+=i.offsetTop,r+=i.offsetLeft;if(e.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(e._captionatorOptions){var u=e._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:r,top:n,width:s,height:o,controlHeight:a}},o.applyStyles=function(e,t){for(var i in t)({}).hasOwnProperty.call(t,i)&&(e.style[i]=t[i])},o.checkDirection=function(e){var t="A-Za-z--------",i="---",n=new RegExp("^[^"+i+"]*["+t+"]"),r=new RegExp("^[^"+t+"]*["+i+"]");return r.test(e)?"rtl":n.test(e)?"ltr":""},o.styleCue=function(s,a,l){var u,c,h,p,d,f,m,g,v,y,b,w,S,x,T=0,C=0,P=0,E=0,_=0,k=0,A=0,R=0,M=0,I=0,O=0,L=0,D=0,N=0,V=l._captionatorOptions||{},j=50,B=0,F=0,U=!0,H="",q=(a.track.language,function(e){if(e.spanified)return e.characterCount;var t,i,n,r,s=function(e){return!!e.length},a="<span class='captionator-cue-character'>",l=0,u=function(e){l++,o.applyStyles(e,{display:"block",lineHeight:"auto",height:p+"px",width:y+"px",textAlign:"center"})};for(t in e.childNodes)e.childNodes.hasOwnProperty(t)&&!e.childNodes[t].nospan&&(i=e.childNodes[t],3===i.nodeType?(r=document.createDocumentFragment(),n=i.nodeValue,r.appendChild(document.createElement("span")),r.childNodes[0].innerHTML=a+n.split(/(.)/).filter(s).join("</span>"+a)+"</span>",[].slice.call(r.querySelectorAll("span.captionator-cue-character"),0).forEach(u),i.parentNode.replaceChild(r,i)):1===e.childNodes[t].nodeType&&(l+=q(e.childNodes[t])));return e.characterCount=l,e.spanified=!0,l});if(S=o.getNodeMetrics(l),l._captionator_availableCueArea||(l._captionator_availableCueArea={bottom:S.height-S.controlHeight,right:S.width,top:0,left:0,height:S.height-S.controlHeight,width:S.width}),"horizontal"===a.direction&&(o.applyStyles(s,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),B=parseInt(s.offsetWidth,10),F=Math.floor(B/l._captionator_availableCueArea.width*100),F=100>=F?F:100),h=S.height*(i/100)/96*72,h=h>=e?h:e,p=Math.floor(h/72*96),d=Math.floor(h*n),d=d>t?d:t,v=Math.ceil(d/72*96),y=v,v*Math.floor(S.height/v)<S.height&&(v=Math.floor(S.height/Math.floor(S.height/v)),d=Math.ceil(v/96*72)),v*Math.floor(S.width/v)<S.width&&(y=Math.ceil(S.width/Math.floor(S.width/v))),m=Math.floor(l._captionator_availableCueArea.height/v),g=Math.floor(l._captionator_availableCueArea.width/y),0===parseFloat(String(a.size).replace(/[^\d\.]/gi,""))?V.sizeCuesByTextBoundingBox===!0?u=F:(u=100,U=!1):(U=!1,u=parseFloat(String(a.size).replace(/[^\d\.]/gi,"")),u=100>=u?u:100),_="horizontal"===a.direction?Math.floor(.01*S.width):0,k="horizontal"===a.direction?0:Math.floor(.01*S.height),"auto"===a.linePosition?a.linePosition="horizontal"===a.direction?m:g:String(a.linePosition).match(/\%/)&&(a.snapToLines=!1,a.linePosition=parseFloat(String(a.linePosition).replace(/\%/gi,""))),"horizontal"===a.direction)E=v,"auto"!==a.textPosition&&U&&(j=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),u-j>F?u-=j:u=F),P=a.snapToLines===!0?l._captionator_availableCueArea.width*(u/100):S.width*(u/100),"auto"===a.textPosition?T=(l._captionator_availableCueArea.right-P)/2+l._captionator_availableCueArea.left:(j=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),T=(l._captionator_availableCueArea.right-P)*(j/100)+l._captionator_availableCueArea.left),a.snapToLines===!0?C=(m-1)*v+l._captionator_availableCueArea.top:(f=S.controlHeight+v+2*k,C=(S.height-f)*(a.linePosition/100));else{if(C=l._captionator_availableCueArea.top,T=l._captionator_availableCueArea.right-y,P=y,E=l._captionator_availableCueArea.height*(u/100),R=q(s),M=[].slice.call(s.querySelectorAll("span.captionator-cue-character"),0),A=Math.floor((E-2*k)/p),P=Math.ceil(R/A)*y,I=Math.ceil(R/A),O=R-A*(I-1),L=O*p,a.snapToLines===!0)T="vertical-lr"===a.direction?l._captionator_availableCueArea.left:l._captionator_availableCueArea.right-P;else{var W=P+2*_;T="vertical-lr"===a.direction?(S.width-W)*(a.linePosition/100):S.width-W-(S.width-W)*(a.linePosition/100)}"auto"===a.textPosition?C=(l._captionator_availableCueArea.bottom-E)/2+l._captionator_availableCueArea.top:(a.textPosition=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),C=(l._captionator_availableCueArea.bottom-E)*(a.textPosition/100)+l._captionator_availableCueArea.top),D=0,N=0,b=0,w=0,M.forEach(function(e,t){b="vertical-lr"===a.direction?y*D:P-y*(D+1),"start"===a.alignment||"start"!==a.alignment&&I-1>D?w=N*p+k:"end"===a.alignment?w=N*p-p+(E+2*k-L):"middle"===a.alignment&&(w=(E-2*k-L)/2+N*p),e.setAttribute("aria-hidden","true"),o.applyStyles(e,{position:"absolute",top:w+"px",left:b+"px"}),N>=A-1?(N=0,D++):N++}),s.accessified||(H=a.text.getPlain(l.currentTime),x=document.createElement("div"),x.innerHTML=H,x.nospan=!0,s.appendChild(x),s.accessified=!0,o.applyStyles(x,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===a.direction&&(c="rtl"===o.checkDirection(String(a.text))?{start:"right",middle:"center",end:"left"}[a.alignment]:{start:"left",middle:"center",end:"right"}[a.alignment]),o.applyStyles(s,{position:"absolute",overflow:"hidden",width:P+"px",height:E+"px",top:C+"px",left:T+"px",padding:k+"px "+_+"px",textAlign:c,backgroundColor:"rgba("+r.join(",")+")",direction:o.checkDirection(String(a.text)),lineHeight:d+"pt",boxSizing:"border-box"}),"vertical"===a.direction||"vertical-lr"===a.direction)T-l._captionator_availableCueArea.left-l._captionator_availableCueArea.left>=l._captionator_availableCueArea.right-(T+P)?l._captionator_availableCueArea.right=T:l._captionator_availableCueArea.left=T+P,l._captionator_availableCueArea.width=l._captionator_availableCueArea.right-l._captionator_availableCueArea.left;else{if(s.scrollHeight>1.2*s.offsetHeight)if(a.snapToLines){for(var G=0;s.scrollHeight>1.2*s.offsetHeight;)E+=v,s.style.height=E+"px",G++;C-=G*v,s.style.top=C+"px"}else{s.scrollHeight-E;E=s.scrollHeight+k,f=S.controlHeight+E+2*k,C=(S.height-f)*(a.linePosition/100),s.style.height=E+"px",s.style.top=C+"px"}C-l._captionator_availableCueArea.top-l._captionator_availableCueArea.top>=l._captionator_availableCueArea.bottom-(C+E)&&l._captionator_availableCueArea.bottom>C?l._captionator_availableCueArea.bottom=C:l._captionator_availableCueArea.top<C+E&&(l._captionator_availableCueArea.top=C+E),l._captionator_availableCueArea.height=l._captionator_availableCueArea.bottom-l._captionator_availableCueArea.top}},o.styleCueCanvas=function(r){var s,a,l,u,c,h,p=r._captionatorOptions instanceof Object?r._captionatorOptions:{};if(!(r instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(r._containerObject&&(l=r._containerObject,c=l.id),r._descriptionContainerObject&&(u=r._descriptionContainerObject,h=u.id),u?u.parentNode||document.body.appendChild(u):(u=document.createElement("div"),u.className="captionator-cue-descriptive-container",h=o.generateID(),u.id=h,r._descriptionContainerObject=u,u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.setAttribute("role","region"),document.body.appendChild(u),o.applyStyles(u,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),l)l.parentNode||document.body.appendChild(l);else{if(l=document.createElement("div"),l.className="captionator-cue-canvas",c=o.generateID(),l.id=c,p.appendCueCanvasTo){var d=null;if(p.appendCueCanvasTo instanceof HTMLElement)d=p.appendCueCanvasTo;else if("string"==typeof p.appendCueCanvasTo)try{var f=document.querySelectorAll(p.appendCueCanvasTo);if(!(f.length>0))throw null;d=f[0]}catch(m){d=document.body,p.appendCueCanvasTo=!1}else d=document.body,p.appendCueCanvasTo=!1;d.appendChild(l)}else document.body.appendChild(l);r._containerObject=l}var g=o.getNodeMetrics(r);s=g.height*(i/100)/96*72,s=s>=e?s:e,a=Math.floor(s*n),a=a>t?a:t,o.applyStyles(l,{position:"absolute",overflow:"hidden",zIndex:100,height:g.height-g.controlHeight+"px",width:g.width+"px",top:(p.appendCueCanvasTo?0:g.top)+"px",left:(p.appendCueCanvasTo?0:g.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:s+"pt",lineHeight:a+"pt",boxSizing:"border-box"})},o.createDOMException=function(e,t,i){try{document.querySelectorAll("div/[]")}catch(n){var r=function(e,t,i){this.code=e,this.message=t,this.name=i};return r.prototype=n,new r(e,t,i)}},o.compareArray=function(e,t){if(e instanceof Array&&t instanceof Array){if(e.length!==t.length)return!1;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;return!0}return!1},o.generateID=function(e){var t="";for(e=e?e:10;t.length<e;)t+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+t}}(),define("captionator",function(e){return function(){var t;return t||e.captionator}}(this)),define("helpers/captionsManager",["require","helpers/backboneSync","helpers/pubSub","helpers/utils","polyfills/detection","captionator","lodash"],function(e){"use strict";var t,i,n,r=e("helpers/backboneSync"),s=e("helpers/pubSub"),o=e("helpers/utils"),a=e("polyfills/detection"),l=e("captionator"),u=e("lodash"),c={},h=!0,p=!1,d=[],f='"Open Sans Full", Helvetica, Arial, sans-serif',m=[],g={},v=function(e){return null!=e.captions()},y=function(e,t){var i=c[t],n=[];return i&&i.forEach(function(t){e>=t.startTime&&e<=t.endTime&&n.push(t.getCueAsHTML())}),n},b=function(){s.trigger("render:captions",[])},w=function(e){var t,i,r=e.props.slideVisible&&e.props.objectVisible;return e.isVideo()?e.props.slideObjectModel.prop("HiddenByLayer")&&(r=!1):(t=n.getCurrentWindowSlide().slideLayers(),i=t.getTopMostLayer(),null!=i&&e.props.model.parent.get("isBaseLayer")===!0&&i.get("pauseParent")===!0&&(r=!1)),r},S=function(){var e=n.getCurrentWindowSlide(),t=!0;e.getScene().isMessageScene()||(m=g[e.id]||[],p&&(t=m.filter(function(e){return w(e)}).length>0,m.length>0&&t?s.trigger("show:caption-button"):(s.trigger("hide:caption-button"),b())))},x=function(e){return e.isVideo()&&(a.isIosPhoneBefore10()||void 0===e.state.hasEverPlayed)},T=function(){var e,t=m.reduce(function(t,i){return i.ended()||x(i)||!w(i)||-1!==d.indexOf(i.getAssetId())?t:(e=y(i.getCurrentTime(),i.getAssetId()),e.length>0?t.concat(e):t)},[]);s.trigger("render:captions",t)},C=function(e){null!=i&&i.value()!==e?i.changeValue(e):(h=e,e?T():b(),s.trigger("captions:enabled",h))},P=function(e){C(e.value())},E=function(e){var t=e.getCueAsSource();return null!=t&&(t=t.trim()),!u.isEmpty(t)},_={initialize:function(e,a,u,d){var m=o.getPath(a,"controlOptions.controls.font");t=null!=m?['"',m,'", ',f].join(""):f,
n=u,p=o.getPath(a,"controlOptions.controls.closed_captions"),null!=d?(i=d,h=i.value(),i.on("change:value",P)):h=!1,c={},e.filter(v).map(function(e){r.scriptSync("read",{id:"caption"},{url:e.captions(),success:function(t){null!=t&&(c[e.id]=l.parseCaptions(decodeURI(t.data)).filter(E))},error:function(e){console.error(e)}})}),s.on("slide:started",S),s.on("media:currentTime",T),s.on("captions:enable",C)},isCaptionButtonToggled:function(){return h},canShowCaptionButton:function(){return p},mount:function(e,t){c[e.getAssetId()]&&(null==g[t]&&(g[t]=[]),g[t].push(e))},unmount:function(e,t){var i=u.findIndex(g[t],function(t){return t.getAssetId()===e.getAssetId()});-1!==i&&g[t].splice(i,1)},hasCaptions:function(e){return Array.isArray(e)||(e=[e]),e.some(function(e){return null!=c[e]})},getCaptions:function(e){return c[e]},getCaptionFont:function(){return t},reloadCaptions:S,excludeMedia:function(e){-1===d.indexOf(e)&&d.push(e)},includeMedia:function(e){var t=d.indexOf(e);-1!==t&&d.splice(t,1)}};return _}),define("views/presentation/mixins/slideWindow",["require","lodash","helpers/resume/Chunk","helpers/vow","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resume/Chunk"),n=e("helpers/vow"),r=e("helpers/constants"),s={componentWillUpdate:function(e,t){t.currentSlide&&t.currentSlide!==this.state.currentSlide&&!this.isShowingMovedSlide&&t.currentSlide.resetBeforeView()},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getId:function(){return this.isMainWindow?r.refs.FRAME:this.props.model.id},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().done(function(e){e.forceTransition()})},getCurrentSlide:function(){return t.last(this.state?this.state.history:[])},getPrevSlide:function(){var e=this.state.history;return e.length>1&&e[e.length-2]},getPrevHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1===t?null:e[t]},getPrevHistoryGroupIndex:function(){var e=this.getCurrentSlide(),i=this.state.history;return null==e?-1:t.findLastIndex(i,function(t){return e.get("historyGroupId")!==t.get("historyGroupId")})},canGoForward:function(e){return t.last(this.state.history)!==e},pushHistory:function(e){return this.canGoForward(e)&&this.refreshHistory(e),this},popHistory:function(){return this.getPrevSlide()&&this.refreshHistory(),this},popHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1!==t&&(e=e.slice(0,t+1),this.updateHistoryState(e)),this},refreshHistory:function(e){var t=this.state.history.slice();return e?t.push(e):t.pop(),this.updateHistoryState(t),this},updateHistoryState:function(e){var i=t.last(e);i.prop("WindowId",this.isMainWindow?r.refs.FRAME:this.props.model.id),this.setState({history:e,currentSlide:i})},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this.slideContainer.prepareToUpdateSlide(e),this},replaceSlideWith:function(e){return this.slideContainer.replaceSlideWith(e),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},getHistoryResumeData:function(){var e=function(e){return e.getWindowResumeRef()};return this.state.history.map(e).join("")},getResumeData:function(){var e=this.props.model,t=null==e?0:e.index()+1;return[i.create(i.toUnsignedString64(t)),this.getCurrentSlide().getWindowResumeRef(),i.create(this.getHistoryResumeData())].join("")},setPreviousHistory:function(e){var t=this.state.history;t.unshift.apply(t,e)},isWaitingForSlideLoad:function(){return n.isPending(this.slideLoadingPromise)},setSlideLoading:function(e){return this.slideLoadingPromise=e,this}};return s}),define("views/presentation/LightBox",["require","lodash","react","react-dom","helpers/constants","views/mixins/baseView","helpers/appState","helpers/captionsManager","helpers/pubSub","views/presentation/mixins/slideWindow","polyfills/detection","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("react-dom"),r=e("helpers/constants"),s=e("views/mixins/baseView"),o=e("helpers/appState"),a=e("helpers/captionsManager"),l=e("helpers/pubSub"),u=e("views/presentation/mixins/slideWindow"),c=e("polyfills/detection"),h=e("helpers/utils"),p=i.createClass({displayName:"LightBox",mixins:[s,u],subscriptions:{"slideContainer:positioned":"onSlideContainerPositioned","slide:hasMounted":"onSlideContainerPositioned"},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){this.setState({caption:e})},hasCaption:function(){return!!this.state.caption},componentDidMount:function(){c.isMobile&&(this.refs.optionPane.style.opacity=0)},componentDidUpdate:function(){this.positionControls()},componentWillMount:function(){this.listenTo(o,"layout:changed",this.onLayoutChanged),this.onLayoutChanged(o,o.currentLayout()||{},this.props.model.id);var e=a.canShowCaptionButton();e===!1?this.setState({caption:!1}):(this.showCaptionButton=t.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=t.partial(this.toggleCaptionButton,!1),l.on("show:caption-button",this.showCaptionButton),l.on("hide:caption-button",this.hideCaptionButton))},componentWillUnmount:function(){l.off("show:caption-button",this.showCaptionButton),l.off("hide:caption-button",this.hideCaptionButton)},actionKeyCallback:function(e){return e===this.refs.close&&this.close(),!0},getTabbableItems:function(){return this.refs.close.dsFocusController=this,[t.assign(this.refs.close,{idx:r.tabIndices.LIGHTBOX_CLOSE,indexGroupName:"SlideControlButton"})]},shouldUpdate:function(e,t){return this.state.currentSlide!==t.currentSlide||this.state.caption!==t.caption?(this.updateSizeCalculations(t.currentSlide),!0):this.state.showCloseBtn!==t.showCloseBtn},updateSizeCalculations:function(e){this.slideScale=this.calcSlideScale(e),this.slideWrapperHeight=this.calcSlideWrapperHeight(e)},getWrapperDimensions:function(){var e=this.refs.lightbox;return{width:e.offsetWidth,height:e.offsetHeight}},positionControlsDesktop:function(){return this},calcSlideWrapperHeight:function(e){return e.get("height")*this.slideScale},calcSlideScale:function(e){var t=e.get("width"),i=this.getAdjustedWindowWidth();return i/t},getAdjustedWindowWidth:function(){return this.props.model.get("width")-this.getWindowOffsetWidth()},getWindowOffsetWidth:function(){var e=window.getComputedStyle(this.find(".lightbox")),t=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth);return 2*(t+i)},close:function(e){l.trigger("window:closing",this.getPath("props.model.id"))},stealFocus:function(e){var t=n.findDOMNode(e);t.focus(),t.classList.add("focused")},releaseFocus:function(e){var t=n.findDOMNode(e);t.blur(),t.classList.remove("focused")},onLayoutChanged:function(e,t,i){i===this.props.model.id&&this.setState({showCloseBtn:t.close_btn})},positionControlsMobile:function(){var e,i,r,s,o,a=this.refs.optionPane,l=this.refs.slideContainer.curSlide;return null!=a.offsetParent&&null!=l&&(e=a.getBoundingClientRect(),i=n.findDOMNode(l),r=i.getBoundingClientRect(),s=a.offsetParent.getBoundingClientRect(),o="landscape"===c.orientation?{top:h.pxify(Math.max(-s.top,r.top-s.top)),left:h.pxify(Math.min(s.right,r.right-s.left)),width:"",height:h.pxify(Math.min(window.innerHeight,r.height+t.min([0,r.top,document.body.clientHeight])))}:{top:h.pxify(Math.min(s.bottom,r.bottom-s.top)),left:h.pxify(Math.max(-s.left,r.left-s.left)),width:h.pxify(Math.min(window.innerWidth,r.width+t.min([0,r.left,document.body.clientWidth]))),height:""},o.opacity=1,t.extend(a.style,o)),this},onSlideContainerPositioned:function(){this.htmlReady(function(){this.positionControls()}.bind(this))}}),d=p.prototype;return d.positionControls=d[c.isMobile?"positionControlsMobile":"positionControlsDesktop"],p}),define("views/presentation/MessageWindow",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/slideWindow","polyfills/detection","helpers/constants","helpers/stringTabler","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("views/presentation/mixins/slideWindow"),s=e("polyfills/detection"),o=e("helpers/constants"),a=e("helpers/stringTabler"),l=e("helpers/utils"),u=t.memoize(t.partial(l.quote,o.MOBILE_FONT)),c=i.createClass({displayName:"MessageWindow",mixins:[n,r],windowType:function(){return this.state.currentSlide?t.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return this.isResumeWin()},isResumeWin:function(){return"resume-prompt-slide"===this.windowType()},componentDidUpdate:function(){this.adjustForMobileLayout()},createResumeText:function(){var e=document.createElement("style");e.innerHTML=[".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(2) button::after {",' content: "',a.getString("continueresponsive"),'"; } ',".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(3) button::after {",' content: "',a.getString("restart"),'"; }'].join(""),document.body.appendChild(e)},adjustForMobileLayout:function(){var e;s.isMobile&&(e=this.find(".message-window-heading"),t.union([e],e.querySelectorAll("*")).forEach(function(e){e.style.fontFamily=u()}),this.isResumeWin()?this.createResumeText():(document.body.classList.add("resume-shown"),this.htmlReady(function(){var e=this.findAll('[aria-label]:not([aria-label=""]):not(.slide-object-button)').map(function(e){return e.getAttribute("aria-label")}).join(" ");this.setState({mobileText:e})}.bind(this))))}});return c}),define("helpers/windowManager",["require","lodash","helpers/utils","helpers/constants","backbone","react","react-dom","helpers/resume/resumer","helpers/resume/Chunk","mixins/subscribable","helpers/pubSub","helpers/appState","helpers/slidesController","views/presentation/LightBox","helpers/keyManager","views/presentation/MessageWindow","helpers/errorManager"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),r=(e("helpers/constants"),e("backbone")),s=e("react"),o=e("react-dom"),a=e("helpers/resume/resumer"),l=e("helpers/resume/Chunk"),u=e("mixins/subscribable"),c=e("helpers/pubSub"),h=e("helpers/appState"),p=e("helpers/slidesController"),d=e("views/presentation/LightBox"),f=e("helpers/keyManager"),m=e("views/presentation/MessageWindow"),g=e("helpers/errorManager"),v=100,y=g.warn("windowManager"),b=function(e,t){return s.createElement(e,t)},w=function(e,t){return e.classList.add("opaque"),e.style.zIndex=v++,c.trigger("window:created",t),o.render(t,e)},S=function(e,i,n){return w(document.querySelector("#overlay-container"+(e?"-controls":"")),b(d,{hasControls:e,state:h,model:t.windows().get(i),isRtl:document.documentElement.classList.contains("text-direction-rtl")}))},x=function(e,i){return w(document.querySelector("#overlay"),b(m,{model:t.windows().get(e)}))},T=function(e,t,i){var n,r={_ActTargetSlideId:t.absoluteId,_ActTargetSlideNavIndex:t.get("navIndex")};return e.executePlayerEvent("onbeforeslidejump",r),n=!r.cancel,n&&c.trigger("slide:willChange",e,t,i),n},C={LightboxControlsWnd:i.partial(S,!0),LightboxWnd:i.partial(S,!1),LightboxTab:i.partial(S,!0),MessageWnd:x},P="_current",E=i.extend({subscriptions:{"mainWindow:created":"onMainWindowCreated","nextSlide:requesting":"onRequestingNextSlide","prevSlide:requesting":"onRequestingPrevSlide","nextDrawSlide:requesting":"onRequestingNextDrawSlide","window:closing":"onCloseWindowById","prevHistoryGroup:requesting":"onRequestingPrevHistoryGroup"},initialize:function(e){t=e,this.windows=[],this.addSubscriptions(),c.trigger("windowManager:created",this)},getCurrentWindow:function(){return i.last(this.windows)},getCurrentWindowId:function(){var e=E.getCurrentWindow();return e.getId()},getMainWindow:function(){return i.first(this.windows)},getCurrentWindowSlide:function(){var e=this.getCurrentWindow();return e&&e.state.currentSlide},removeWindow:function(e){return this.windows=i.without(this.windows,e),this},addWindow:function(e){return this.removeWindow(e),this.windows.push(e),this},getOrCreateWindow:function(e,t){var i,n=this.getCurrentWindow();return e&&e!==P?(n&&(i=n.getCurSlide(),i&&(this.lastTimeline=i.props.model.currentTimeline(),this.lastTimeline.pause())),this.findWindowById(e)||C[e.split("_")[0]](e,t)):n},findWindowById:function(e){return e===P?this.getCurrentWindow():i.find(this.windows,function(t){return t.getId()===e})},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveMainWindowSlideToOtherWindow:function(e){var t=this.getMainWindow(),i=t.getCurSlide();e.replaceSlideWith(i),t.hasHadSlideMoved=!0;var n=function(i){i===e&&(t.hasHadSlideMoved=!1,t.rebuildCurSlide(),c.off("window:closed",n))};return c.on("window:closed",n),this},onMainWindowCreated:function(e){this.addWindow(e),a.setWindowManager(this)},onCloseWindowById:function(e){var t,i,n=this.findWindowById(e),r=this.getMainWindow();n&&(n.el&&(t=n.el.parentNode)&&(t.classList.remove("opaque"),this.lastTimeline&&(this.lastTimeline.play(),this.lastTimeline=null),o.unmountComponentAtNode(t)),this.removeWindow(n),c.trigger("window:closed",n),null!=r&&(i=r.getCurrentSlide(),null!=i&&c.trigger("slide:started",i.id)),a.savePresentationData())},loadSlide:function(e,t,r){var s=i.isString(e)?e:e.absoluteId,o=p.loadSlide(e,this.getCurrentWindowSlide()).done(t.bind(this));return c.trigger("slide:hasChanged",n.stripPlayer(s),r),o},onRequestingPrevSlide:function(){var e,t=this.getCurrentWindow(),i=this.getCurrentWindowSlide(),n=t.getPrevSlide(),r=function(e){this.updateWindowHistory(t)};if(n){if(null!=i){if(!T(i,n))return;t.forceTransition()}e=this.loadSlide(n.absoluteId,r),t.setSlideLoading(e)}},onRequestingPrevHistoryGroup:function(){var e,t=this.getCurrentWindow(),i=t.getPrevHistoryGroup(),n=function(e){this.updateWindowHistory(t,null,!0)};null!=i&&(null!=t.getCurrentSlide()&&t.forceTransition(),e=this.loadSlide(i.absoluteId,n),t.setSlideLoading(e))},isNewLightBox:function(e,t){return!("MessageWnd"===e||!C[e]||e===t.displayName)},onRequestingNextSlide:function(e,i){var n,r,s,o,l=this.getCurrentWindowSlide(),u=this.getCurrentWindow(),h=this.isNewLightBox(i,u);if(f.clearCurrentItem(),f.currentIndex=-1,l?u.forceTransition():e=e||p.getEntrypoint(),e){if(o=p.getSlide(e,this.getCurrentWindowSlide()),null==o){if(t.parent.isPreview())return void c.trigger("preview:notify","PREVIEW_SLIDE_MISSING");y("onRequestingNextSlide","could not resolve slide",g.backtick(e),"so defaulting to entry point"),o=p.getSlide(p.getEntrypoint())}if(s=null!=l&&l.absoluteId===o.absoluteId,s&&!h)l.restart();else{if(null!=l&&!T(l,o,h))return;n=this.getOrCreateWindow(i),this.addWindow(n),r=this.loadSlide(o,function(e){this.updateWindowHistory(n,e)}),s&&h&&c.trigger("loader:hide"),n.setSlideLoading(r),null!=l&&n!==u&&r.done(function(){a.savePresentationData()})}}else l.executePlayerEvent("onnextslide")},onRequestingNextDrawSlide:function(){var e,t=this.getCurrentWindowSlide(),i=t.getSlideDraw();i&&(e=i.getNextSlideId(t),e?this.onRequestingNextSlide(e):i.performExitAction())},updateWindowHistory:function(e,t,i){var n,r=!!t,s=this.getMainWindow(),o=e===s;n=!o&&t===s.state.currentSlide&&!s.hasHadSlideMoved,e.prepareToUpdateSlide(n),r?e.pushHistory(t):e[i?"popHistoryGroup":"popHistory"](),n&&(this.lastTimeline&&this.lastTimeline.play(),this.moveMainWindowSlideToOtherWindow(e))},getResumeData:function(){return this.windows.reduce(function(e,t){return e+l.create(t.getResumeData())},"")},setResumeData:function(e){var t=new l({fullString:e}),i=t.encodedString();for(this.resumeWindowQueue=[];i.length;)this.setWindowAndHistory(i),t=t.reChunk(),i=t.encodedString()},setWindowAndHistory:function(e){var t=new l({fullString:e}),i=t.getUnsignedValue(),n=this.resolveSlideFromResumeData(t.remainder()),r=new l({fullString:n.data}),s=this.createSlideHistoryArray(r.encodedString());0===s.length&&s.push(n.slide),this.restoreOrQueueWindow(i,s)},restoreOrQueueWindow:function(e,t){this.restoringWindow?this.resumeWindowQueue.push({idx:e,history:t}):(this.restoringWindow=!0,this.setLoadedWindow(e,t))},setLoadedWindow:function(e,t){var i=this.getWindowFromIndex(e,t),n=t.pop(),r=this.loadSlide(n.absoluteId,function(e){var n;i.setPreviousHistory(t),this.updateWindowHistory(i,e),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(e.pauseForResume=!0,n=this.resumeWindowQueue.shift(),this.setLoadedWindow(n.idx,n.history))});i.setSlideLoading(r)},getWindowFromIndex:function(e,i){var n,r;return 0===e?n=this.getMainWindow():(r=t.windows().at(e-1).id,n=this.getOrCreateWindow(r),this.addWindow(n)),n},createSlideHistoryArray:function(e){for(var t,i=[];e.length;)t=this.resolveSlideFromResumeData(e),i.push(t.slide),e=t.data;return i},resolveSlideFromResumeData:function(e){var t="1"===e.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData";return this[t](e.slice(1))},getSlideFromResumeData:function(e){var t=new l({fullString:e}),i=t.reChunk(),n=t.getUnsignedValue(),r=i.getUnsignedValue();return{slide:p.getSlideFromIndices(r,n),data:i.remainder()}},getDrawFromResumeData:function(e){var t=new l({fullString:e}),i=t.reChunk(),n=i.reChunk(),r=t.getUnsignedValue(),s=i.getUnsignedValue(),o=n.getUnsignedValue();return{slide:p.getDrawFromIndices(o,s,r),data:n.remainder()}}},r.Events,u);return h.windowManager=E,E}),define("views/player/mixins/appStateable",["require","lodash","views/helpers/dom","helpers/appState","backbone","helpers/utils","helpers/constants","helpers/windowManager","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/appState"),r=(e("backbone"),e("helpers/utils"),e("helpers/constants")),s=(e("helpers/windowManager"),e("helpers/vow")),o={componentDidMount:function(){this.layoutProps=[],this.liveCallbacks={};var e=t.isFunction(this.stateableValues)?this.stateableValues():this.stateableValues,s=i.closest(this.el,function(e){return!!e.getAttribute("data-window-id")});t.forOwn(e,function(e,t){e&&(this.liveCallbacks[t]=e),this.layoutProps.push(t)}.bind(this)),this.windowId=null!=s?s.getAttribute("data-window-id"):r.refs.FRAME,this.listenTo(n,"layout:changed",this.onLayoutChanged),this.onLayoutChanged(n,n.currentLayout()||{},this.windowId)},componentWillUnmount:function(){this.stopListening()},onLayoutChanged:function(e,i,n){var r=[];n===this.windowId&&this.isMounted()&&(null!=this.beforeStateableValuesUpdated&&this.beforeStateableValuesUpdated(i),this.layoutProps.forEach(function(e){var n=this.getLayoutPropVal(i,e);if(null!=n){var o,a,l,u={},c=this.liveCallbacks[e],h=!!(n&&null!=n.enabled?n.enabled:n);null!=c?c(h):(o=e.split("."),a=o.length>1?t.last(o):t.first(o),u["stateable_"+a]=h,l=new s.Deferred,r.push(l.promise()),this.setState(u,l.resolve))}}.bind(this)),this.stateableValuesUpdated&&s.after.apply(s,r).then(t.partial(this.stateableValuesUpdated,i)))},getLayoutPropVal:function(e,i){return t.reduce(i.split("."),function(e,t){return e[t]},e)}};return o}),define("views/player/Topbar",["require","lodash","views/helpers/dom","react","views/player/mixins/appStateable","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom")),i=e("react"),n=e("views/player/mixins/appStateable"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=i.createClass({displayName:"Topbar",mixins:[r,n],componentDidMount:function(){this.afterHtmlReady(this.adjustLayout)},componentDidUpdate:function(){this.adjustLayout()},stateableValuesUpdated:function(e){this.htmlReady(this.adjustLayout)},hasLinkLeft:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkLeft")},hasLinkRight:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkRight")},hasTitle:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.titleEnabled")},hasTimer:function(){return this.getPath("props.timers").length>0},hasElapsedAndTotalTime:function(){return!!this.getPath("props.model.controlOptions.controls.elapsedandtotaltime")},adjustLayout:function(){if(this.hasLinkRight()||this.hasLinkLeft()){var e=".topmenu-item:not(.hidden) .topmenu-tab",i=this.find(".presentation-title"),n=this.hasElapsedAndTotalTime(),r=this.find(".top-tabs"),s=this.findAll(".top-tabs-right "+e),o=this.findAll(".top-tabs-left "+e),a=this.findAll(".top-tabs-left .topmenu-item .topmenu-tab, .top-tabs-right .topmenu-item .topmenu-tab"),l=i&&this.hasSpaceForTitle(i,o,s);this.el.classList[l?"add":"remove"]("centered-title"),this.el.classList[a.length&&(i||n)?"add":"remove"]("extended-height"),t.resizeToFit(r,a,void 0,-2)}},hasSpaceForTitle:function(e,t,i){return!t.length&&(!i.length||e.getBoundingClientRect().right<i[0].getBoundingClientRect().left)},onTimerShow:function(e){s.showTimer(this,e)}});return o}),define("views/mixins/propertizable",["require","lodash","helpers/constants"],function(e){"use strict";var t=(e("lodash"),e("helpers/constants")),i=(t.PLAYER_PROPS_KEYPATH,{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var e=this.props.model;return this.playerPropsModel={},e&&e.createPlayerProps&&(this.playerPropsModel=e.playerProps||e.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},getPlayerProp:function(e){return this.state[e]},setPlayerProp:function(e,t){return this.props.model.prop(e,t)}});return i}),define("views/mixins/mouseable",["require","lodash","views/events/mouseEvents"],function(e){"use strict";var t=e("lodash"),i=e("views/events/mouseEvents"),n={componentWillMount:function(){this.offs=[]},registerEvent:function(e,t,n){n=n||this.el,this.offs.push(i[e](n,t,this))},componentWillUnmount:function(){t(this.offs).flatten().invoke("teardown").value()}};return n}),define("helpers/assetManager",["require","lodash","helpers/errorManager","helpers/vow"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/errorManager"),r=e("helpers/vow"),s=n.throwError("assetManager"),o=n.backtick,a="No asset with id of",l="Must pass in an array of asset ids",u={initialize:function(e){return t=e,this},getAsset:function(e){var i=t.get(e);return i||s("getAsset",a,o(e)),i},getAssetUrl:function(e){return this.getAsset(e).url()},loadAsset:function(e){return this.getAsset(e).load()},loadAssets:function(e){i.isArray(e)||s("loadAssets",l);var t=e.map(this.loadAsset.bind(this)),n=r.after.apply(null,t);return n.dfds=i.pluck(t,"dfd"),n}};return u}),define("views/mixins/zoompanable",["require","lodash","helpers/GsapTweenLite","helpers/svg/svgUtils","helpers/utils","helpers/assetManager","views/helpers/dom"],function(e){"use strict";var t=e("lodash"),i=e("helpers/GsapTweenLite"),n=(e("helpers/svg/svgUtils"),e("helpers/utils")),r=e("helpers/assetManager"),s=e("views/helpers/dom"),o=.1,a=function(e,t,i){return(i*e-i)/2-t*e},l=t.flow(function(e){return e/2},n.pxify),u={componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan),this.zoomPans={},this.zoomBackgrounds=[]},zoomPan:function(e){if(!this.zoomPans[e.event.time]&&this.el){var t,u,c,h,p=e.action,d=e.event,f=this.props.model,m=f.currentTimeline(),g=f.get("width"),v=f.get("height"),y=this.el.parentNode,b=p.duration/1e3,w=(d.time+p.duration*o)/1e3,S=g/p.width,x=a(S,p.xPos,g),T=a(S,p.yPos,v);this.zoomPans[d.time]=p,t=i.to(y,b,{transformOrigin:[g,v].map(l).join(" "),x:x,y:T,scale:S,ease:"Cubic.easeIn"}),m.addChildTimeline(t,d.timelineLabel),this.lastZoomBackground&&(h=i.to(this.lastZoomBackground,0,{autoAlpha:0}),m.addChildTimeline(h,w)),-1!==p.staticimageassetid&&(u=y.querySelector(".zoom-bg-container"),c=document.createElement("img"),c.src=r.getAssetUrl(p.staticimageassetid),s.setStyles(c,{position:"absolute",left:n.pxify(p.xPos),top:n.pxify(p.yPos),width:n.pxify(p.width),height:n.pxify(p.height),visibility:"hidden"}),u.appendChild(c),h=i.to(c,0,{autoAlpha:1}),m.addChildTimeline(h,w)),this.lastZoomBackground=c}}};return u}),define("helpers/TransMatrix",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/utils"),r=e("helpers/constants"),s=6,o=1e-12,a=r.math.TO_RADIANS,l=function(e){return Math.abs(e)<=o},u=function(){this.reset()};return t.extend(u.prototype,{adjustByViewProps:function(e){return this.translate(e.RawXPos,e.RawYPos).scale(e.ScaleX,e.ScaleY,e.rotateXPos,e.rotateYPos).rotate(e.Rotation,e.rotateXPos,e.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(e,t){return this.tx+=e*this.a+t*this.b,this.ty+=e*this.c+t*this.d,this},scale:function(e,t,i,n){var r=i||n;return r&&this.translate(i,n),this.a*=e,this.c*=e,this.b*=t,this.d*=t,r&&this.translate(-i,-n),this},rotate:function(e,t,i){e*=a;var n=Math.cos(e),r=Math.sin(e),s=t-t*n+i*r,o=i-t*r-i*n,l=this.a,u=this.b,c=this.c,h=this.d;return this.a=n*l+r*u,this.b=-r*l+n*u,this.c=n*c+r*h,this.d=-r*c+n*h,this.tx+=s*l+o*u,this.ty+=s*c+o*h,this},skew:function(e,t,i,n){var r=i||n,s=this.a,o=this.c;return e=Math.tan(e*a),t=Math.tan(t*a),r&&this.translate(i,n),this.a+=t*this.b,this.c+=t*this.d,this.b+=e*s,this.d+=e*o,r&&this.translate(-i,-n),this},transform:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},copy:function(){var e=new u;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},invert:function(){var e=1/(this.a*this.d-this.b*this.c),t=this.d*e,i=-this.b*e,n=-this.c*e,r=this.a*e,s=e*(this.b*this.ty-this.d*this.tx),o=e*(this.c*this.tx-this.a*this.ty);return this.a=t,this.b=i,this.c=n,this.d=r,this.tx=s,this.ty=o,this},toCssTransform:function(){var e=n.fix(this.a,s),t=n.fix(this.b,s),r=n.fix(this.c,s),o=n.fix(this.d,s),a=n.fix(this.tx,s),l=n.fix(this.ty,s);return i.buildTransformFn("matrix",e,r,t,o,a,l)},getScale:function(){var e=n.hypot(this.a,this.c),t=n.hypot(this.b,this.d);return{x:e,y:t}},transformPoint:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},unTransformPoint:function(e,t){return this.copy().invert().transformPoint(e,t)},decompose:function(){var e,t,i=this.a,n=this.b,r=this.c,s=this.d;return l(i*s-n*r)?null:(e=Math.sqrt(i*i+n*n),i/=e,n/=e,t=Math.sqrt(r*r+s*s),r/=t,s/=t,n*r>i*s&&(i=-i,n=-n,e=-e),{scaling:{x:e,y:t},rotation:180*-Math.atan2(n,i)/Math.PI})},append:function(e){var t=this.a,i=this.b,n=this.c,r=this.d,s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;return this.a=s*t+a*i,this.b=o*t+l*i,this.c=s*n+a*r,this.d=o*n+l*r,this.tx+=u*t+c*i,this.ty+=u*n+c*r,this}}),u}),define("views/mixins/pinchzoomable",["require","lodash","tween-lite","polyfills/detection","helpers/TransMatrix","helpers/utils","helpers/cssPrefix","helpers/errorManager","helpers/slideObjectUtils","helpers/constants","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("polyfills/detection"),r=e("helpers/TransMatrix"),s=e("helpers/utils"),o=(e("helpers/cssPrefix"),e("helpers/errorManager"),e("helpers/slideObjectUtils")),a=e("helpers/constants"),l=e("helpers/pubSub"),u=6,c=250,h=function(e){return!e||e.length<2},p=function(e){return h(e)?1:s.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)},d={getPinchCenter:function(e){var t,i={x:0,y:0};this.props.model.parentTransform;return h(e)?i:(t=this.isLightboxDocked(),this.isInLightbox&&this.lightboxDockedState!==t?(i.x=(e[0].pageX+e[1].pageX+document.body.clientWidth/2)/3,i.y=(e[0].pageY+e[1].pageY)/4):(i.x=(e[0].pageX+e[1].pageX)/2,i.y=(e[0].pageY+e[1].pageY)/2),i)},shouldInitPinchZoom:function(){return o.isMobileSlide(this)&&null==this.props.slideFrame},initPinch:function(){this.pinch={scale:1,matrix:new r,panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},initPinchZoom:function(e){this.shouldInitPinchZoom()&&(this.pinchZoomSlideContainer=e||this.props.slideContainer,this.container=this.el.parentNode,this.isInLightbox=this.pinchZoomSlideContainer.props.lightboxed,this.hasLightboxControls=this.pinchZoomSlideContainer.props.hasControls,this.initPinch(),this.container.addEventListener("gesturestart",this.onPrevent),this.container.addEventListener("touchstart",this.onTouchStart,!0),this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchend",this.onTouchEnd),this.isInLightbox&&l.on("detection:orientationChange",this.onOrientationChange),this.doubleTapCount=0,document.addEventListener("touchstart",this.onDoubleTap))},resetDoubleTap:function(){this.doubleTapCount=0},onDoubleTap:function(e){h(e.touches)&&this.pinch.scale>1&&!o.isDoubleClickRelated(e.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,c),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onOrientationChange:function(){this.initPinch(),this.pinch.currMatrix=new r,this.startTransition(0)},zoomOut:function(){this.pinch.matrix=new r,this.pinch.currMatrix=this.pinch.matrix.copy(),this.props.model.pinchZoomScale=this.pinch.scale=1,this.pinch.zoomingOut=!0,this.startTransition(200,function(){this.pinch.zoomingOut=!1}.bind(this))},transTouch:function(e){var i=this.props.model.parentTransform,n=t(e).map(function(e){return{pageX:e.pageX/i.scale-i.xOff,pageY:e.pageY/i.scale-i.yOff}}).value();return n},updatePinchPan:function(e){var t=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(t.x-this.pinch.startCenter.x,t.y-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.isInLightbox&&this.trigger("pinchzoom")},updatePinchZoom:function(e){var t=p(e),i=this.getPinchCenter(e),n=this.pinch.matrix.unTransformPoint(i.x,i.y),r=t/this.pinch.startDistance;r=Math.max(1/this.pinch.scale,Math.min(r,u/this.pinch.scale)),this.pinch.zoom=r,this.pinch.currMatrix=this.pinch.matrix.copy().translate(n.x,n.y).scale(r,r).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.trigger("pinchzoom")},onPrevent:function(e){e.preventDefault()},isLightboxDocked:function(){var e=this.el.getBoundingClientRect(),t=0,i=0;return"portrait"===n.orientation?i=this.hasLightboxControls?a.MOBILE_UI_SIZE:0:t=a.MOBILE_UI_SIZE,e.left<=0&&e.top<=0&&e.right+t>=document.body.clientHeight&&e.bottom+i>=document.body.clientWidth},isLightboxScaledToScreen:function(){var e,t,i=this.pinch.scale;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),"portrait"===n.orientation?(e=this.pinch.width*i,t=this.pinch.height*i):(t=this.pinch.width*i,e=this.pinch.height*i),e>=document.body.clientWidth&&t>=document.body.clientHeight},onTouchStart:function(e){var t,i=this.transTouch(e.touches);if(this.lightboxDockState=this.isLightboxDocked(),2===i.length){this.pinch.panning=!1,this.pinch.zooming=!0,t=this.getPinchCenter(i);this.props.model.parentTransform;this.pinch.startCenter=this.pinch.matrix.unTransformPoint(t.x,t.y),this.pinch.startDistance=p(i),this.pinch.disable=!1}else 1!==i.length||1===this.pinch.scale&&!this.isInLightbox||this.shouldDisablePan(e)?(this.pinch.panning=this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(i[0].pageX,i[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=e.touches.length},onTouchEnd:function(e){this.pinch.disable=!1,this.lightboxDockState=this.isLightboxDocked(),e.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,
this.screenBounds(),this.pinch.matrix=this.pinch.currMatrix,this.props.model.pinchZoomScale=this.pinch.scale))},onTouchMove:function(e){if(!this.pinch.disable){var t=this.transTouch(e.touches);2===t.length?this.updatePinchZoom(t):1===t.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(t)}},screenBounds:function(){var e,t,i,s,o,l,u,c,h,p,d,f,m=!1;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),n.isMobile&&(u="portrait"===n.orientation?a.DOUBLE_MOBILE_UI_SIZE:0,c="landscape"===n.orientation?a.DOUBLE_MOBILE_UI_SIZE:0,d=this.el.getBoundingClientRect(),f=d.width>=document.body.clientWidth-c&&d.height>=document.body.clientHeight-u,this.isInLightbox&&!f)?(this.pinch.currMatrix=new r,this.pinch.currMatrix.scale(this.pinch.scale,this.pinch.scale,this.pinch.width/2,this.pinch.height/2),void this.startTransition(400)):(e=this.pinch.currMatrix.transformPoint(0,0),t=this.pinch.currMatrix.transformPoint(this.pinch.width,this.pinch.height),f&&(i=this.props.model.parentTransform.scale,s=this.pinch.currMatrix.getScale().x,o=1/(i*s),l=this.pinchZoomSlideContainer.el.getBoundingClientRect(),h=l.left*o,p=l.top*o,e=this.pinch.currMatrix.transformPoint(h,p),t=this.pinch.currMatrix.transformPoint(this.pinch.width+-1*h,this.pinch.height+-1*p),this.isInLightbox&&"portrait"===n.orientation&&(t.y-=.75*a.DOUBLE_MOBILE_UI_SIZE)),e.x>0&&(m=!0,this.pinch.currMatrix.translate(-e.x/this.pinch.scale,0)),e.y>0&&(m=!0,this.pinch.currMatrix.translate(0,-e.y/this.pinch.scale)),t.x<this.pinch.width&&(m=!0,this.pinch.currMatrix.translate((this.pinch.width-t.x)/this.pinch.scale,0)),t.y<this.pinch.height&&(m=!0,this.pinch.currMatrix.translate(0,(this.pinch.height-t.y)/this.pinch.scale)),void(m&&this.startTransition(400)))},startTransition:function(e,n){n=n||t.noop,this.pinchZoomTransitionTween=i.to(this.container,e/1e3,{transform:this.pinch.currMatrix.toCssTransform(),parseTransform:!0,onUpdate:this.trigger.bind(this,"pinchzoom"),onComplete:function(){n(),this.endTransition()}.bind(this)}),this.pinchZoomTransitionTween.play()},endTransition:function(){null!=this.pinchZoomTransitionTween&&(this.pinchZoomTransitionTween.kill(),delete this.pinchZoomTransitionTween)},killPinchZoom:function(){this.shouldInitPinchZoom()&&(this.container.removeEventListener("gesturestart",this.onPrevent),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchend",this.onTouchEnd),l.off("detection:orientationChange",this.onOrientationChange),document.removeEventListener("touchstart",this.onDoubleTap),this.container.style[this.cssTransform]="")},componentWillUnmount:function(){this.killPinchZoom()},shouldDisablePan:function(e){return 1===e.touches.length&&(o.isDraggableRelated(e.target)||o.isScrollRelated(e.target)||o.isRotatableRelated(e.target)||o.isSlideableRelated(e.target))}};return d}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],o(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));o(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals.isSelector,o=i._internals.isArray,a=[],l=window._gsDefine.globals,u=function(e){var t,i={};for(t in e)i[t]=e[t];return i},c=function(e,t,i,n){e._timeline.pause(e._startTime),t&&t.apply(n||e._timeline,i||a)},h=a.slice,p=n.prototype=new t;return n.version="1.11.8",p.constructor=n,p.kill()._gc=!1,p.to=function(e,t,n,r){var s=n.repeat&&l.TweenMax||i;return t?this.add(new s(e,t,n),r):this.set(e,n,r)},p.from=function(e,t,n,r){return this.add((n.repeat&&l.TweenMax||i).from(e,t,n),r)},p.fromTo=function(e,t,n,r,s){var o=r.repeat&&l.TweenMax||i;return t?this.add(o.fromTo(e,t,n,r),s):this.set(e,r,s)},p.staggerTo=function(e,t,r,o,a,l,c,p){var d,f=new n({onComplete:l,onCompleteParams:c,onCompleteScope:p,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),s(e)&&(e=h.call(e,0)),o=o||0,d=0;e.length>d;d++)r.startAt&&(r.startAt=u(r.startAt)),f.to(e[d],t,u(r),d*o);return this.add(f,a)},p.staggerFrom=function(e,t,i,n,r,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,r,s,o,a)},p.staggerFromTo=function(e,t,i,n,r,s,o,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,r,s,o,a,l)},p.call=function(e,t,n,r){return this.add(i.delayedCall(0,e,t,n),r)},p.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var r,s,o=new n(e),a=o._timeline;for(null==t&&(t=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,r=a._first;r;)s=r._next,t&&r instanceof i&&r.target===r.vars.onComplete||o.add(r,r._startTime-r._delay),r=s;return a.add(o,0),o},p.add=function(r,s,a,l){var u,c,h,p,d,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof e)){if(r instanceof Array||r&&r.push&&o(r)){for(a=a||"normal",l=l||0,u=s,c=r.length,h=0;c>h;h++)o(p=r[h])&&(p=new n({tweens:p})),this.add(p,u),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?u=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),u+=l;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(t.prototype.add.call(this,r,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,f=d.rawTime()>r._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},p.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&o(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},p._remove=function(e,i){t.prototype._remove.call(this,e,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},p.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},p.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},p.addPause=function(e,t,i,n){return this.call(c,["{self}",t,i,n],this,e)},p.removeLabel=function(e){return delete this._labels[e],this},p.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},p._parseTimeOrLabel=function(t,i,n,r){var s;if(r instanceof e&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&o(r)))for(s=r.length;--s>-1;)r[s]instanceof e&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,n):this.duration()}return Number(t)+i},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,s,o,l,u,c=this._dirty?this.totalDuration():this._totalDuration,h=this._time,p=this._startTime,d=this._timeScale,f=this._paused;if(e>=c?(this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==e&&this._first&&(u=!0,this._rawPrevTime>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,e=c+1e-4):1e-7>e?(this._totalTime=this._time=0,(0!==h||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(l="onReverseComplete",s=this._reversed),0>e?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=e):(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,e=0,this._initted||(u=!0))):this._totalTime=this._time=this._rawPrevTime=e,this._time!==h&&this._first||i||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&e>0&&(this._active=!0),0===h&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||a)),this._time>=h)for(n=this._first;n&&(o=n._next,!this._paused||f);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||f);)(n._active||h>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||a)),l&&(this._gc||(p===this._startTime||d!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||a)))}},p._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},p.getChildren=function(e,t,n,r){r=r||-9999999999;for(var s=[],o=this._first,a=0;o;)r>o._startTime||(o instanceof i?t!==!1&&(s[a++]=o):(n!==!1&&(s[a++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,n)),a=s.length))),o=o._next;return s},p.getTweensOf=function(e,t){for(var n=i.getTweensOf(e),r=n.length,s=[],o=0;--r>-1;)(n[r].timeline===this||t&&this._contains(n[r]))&&(s[o++]=n[r]);return s},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=e),r=r._next;if(t)for(n in s)s[n]>=i&&(s[n]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(e,t)&&(r=!0);return r},p.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},p._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,r=this._last,s=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,0>r._startTime&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},p.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},p.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline-lite",["tween-lite"],function(e){return function(){var t;return t||e.TimelineLite}}(this)),define("mixins/actionable",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=(e("lodash"),e("helpers/errorManager")),i=t.throwError("actionable"),n=(t.warn("actionable"),"Cannot execute action without `kind`"),r={triggerAction:function(e,t){var r=e&&e.kind;return r||i("triggerAction",n),this.trigger("action:"+r,e,t),this}};return r}),define("helpers/quizResultsHelper",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=", ",n={},r={};n.numeric=n.fillin=t.identity,n.likert=n.sequence=n.matching=function(e){return[e.statement.lmstext,e.choice.lmstext].join(i)},n.multiplechoice=n.truefalse=n.hotspot=n.wordbank=n.multipleresponse=function(e){return e.lmstext},r.numeric=r.fillin=function(e,t){return t},r.likert=r.sequence=r.matching=function(e,t){return[e.getStatementById(t.statementResponse).lmstext,e.getChoiceById(t.choiceResponse).lmstext].join(i)},r.multiplechoice=r.truefalse=r.hotspot=r.wordbank=r.multipleresponse=function(e,t){return e.getChoiceById(t).lmstext};var s=function(e){return e.prop("CorrectResponse").map(n[e.type()]).join(i)},o=function(e){var n=t.last(e.attempts);return null==n?"":n.responses.map(t.partial(r[e.type()],e)).join(i)},a={correctResponseToString:s,actualResponseToString:o};return a}),define("helpers/printer",["require","lodash","helpers/quizResultsHelper","helpers/pubSub","helpers/constants","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/quizResultsHelper"),r=e("helpers/pubSub"),s=e("helpers/constants"),o=e("helpers/resolver"),a={qm:s.QUIZ_MAKER_URL,ap:s.PRESENTER_URL},l=function(e){return{strQuizId:e.id,strQuizName:e.get("lmstext"),nScore:e.prop("Score"),nPassingScore:e.prop("PassPercent"),nPtScore:e.prop("PercentScore"),dtmFinished:e.timeComplete,strStatus:e.prop("Status"),arrQuestions:e.flatInteractions.map(function(e,t){return{nQuestionNumber:t+1,strDescription:e.get("lmstext"),strCorrectResponse:n.correctResponseToString(e),strUserResponse:n.actualResponseToString(e),strStatus:e.prop("Status"),nPoints:e.prop("Score"),strLMSId:e.get("lmsId"),strType:e.get("type")}})}},u=function(e,n){var u=[];if(t.isPreview())return void r.trigger("preview:notify","PREVIEW_PRINT_RESULTS");var c={type:e.quizidtype,value:e.quizid},h=o.resolvePath(o.getRef(c,n.context,n)),p=null==e.usernamevar||""===e.usernamevar?null:o.resolvePath(e.usernamevar),d=null==p?null:p.value();window.g_oPrintOptions={strName:d||"",arrQuizzes:[h.id],strMainQuizId:h.id,bShowUserScore:e.showuserscore,bShowPassingScore:e.showpassingscore,bShowShowPassFail:e.showpassfail,bShowQuizReview:e.showquizreview,bSurvey:h.get("issurvey")},window.g_listQuizzes={},window.g_listQuizzes[h.id]=l(h),h.quizzes.length>0&&(h.quizzes.forEach(function(e){u.push(e.id),window.g_listQuizzes[e.id]=l(e)}),window.g_oPrintOptions.arrQuizzes=u),window.g_oContentResults={dtmFinished:h.timeComplete||new Date};var f=window.open(i.get(a,s.player.OUTPUT_TYPE,s.STORY_CONTENT_URL)+"report.html","_blank");f.addEventListener("load",function m(){f.removeEventListener("load",m),window.g_oPrintOptions=null,window.g_listQuizzes=null,window.g_oContentResults=null})},c=function(e){t=e},h={printQuizResults:u,initialize:c};return h}),define("helpers/actionator",["require","lodash","backbone","helpers/constants","helpers/pubSub","helpers/mixer","helpers/utils","helpers/errorManager","mixins/actionable","mixins/shortEventable","helpers/resolver","helpers/resume/resumer","helpers/windowManager","helpers/printer","helpers/webObjectHelper","helpers/slidesController"],function(e){"use strict";var t,i,n=e("lodash"),r=e("backbone"),s=e("helpers/constants"),o=e("helpers/pubSub"),a=e("helpers/mixer"),l=e("helpers/utils"),u=e("helpers/errorManager"),c=e("mixins/actionable"),h=e("mixins/shortEventable"),p=e("helpers/resolver"),d=e("helpers/resume/resumer"),f=e("helpers/windowManager"),m=e("helpers/printer"),g=e("helpers/webObjectHelper"),v=e("helpers/slidesController"),y=u.throwError("actionator"),b=function(){return f.getCurrentWindow().isWaitingForSlideLoad()},w={mixins:[c,h,r.Events],shortEvents:{self:{"action:save_resume_data":"saveResume","action:notify_preview":"notifyPreview","action:enable_frame_control":"enableFrameControl","action:set_frame_layout_type":"setFrameLayout","action:set_window_control_layout":"setWindowControlLayout","action:set_frame_layout":"setFrameLayoutFromLayout","action:set_window_control_visible":"changeWindowControl","action:enable_window_control":"changeWindowControl","action:gotoplay":"changeSlide","action:trigger_next_slide":"advanceSlide","action:trigger_prev_slide":"triggerPrevSlideClicked","action:trigger_submitall_slide":"onSubmitAll","action:trigger_submit_slide":"onSubmitSlide","action:trigger_slide_finish":"onSlideFinish","action:history_prev":"goBack","action:history_prev_group":"goBackHistoryGroup","action:close_window":"closeWindow","action:close_player":"closePlayer","action:open_video":"openVideo","action:open_url":"openUrl","action:resume_player":"applyPlayerResumeData","action:playnextdrawslide":"advanceSlideDrawSlide","action:get_mouse_position":"getMousePosition","action:zoompan":"zoomPan","action:closewndgotoslide":"closeWndGotoSlide","action:nextviewedslide":"nextViewedSlide","action:exe_javascript":"exeJavaScript","action:emailto":"mailTo","action:reset_player":"resetPlayer","action:printresults":"printQuizResults","action:notifylinkselected":"notifyLinkSelected","action:cancel_event":"cancelEvent","action:trigger_host_event":"triggerHostEvent"}},onSubmitAll:function(){var e=f.getCurrentWindowSlide();e.executePlayerEvent("onsubmitallslide")},onSubmitSlide:function(){var e=f.getCurrentWindowSlide();e.executePlayerEvent("onsubmitslide")},onSlideFinish:function(){var e=f.getCurrentWindowSlide();e.executePlayerEvent("onfinishslide")},saveResume:function(e,t){var i=p.getRef(e.slideref||e.slideRefs),n=p.resolvePath(i,t.context);n.prepareResumeData({retainState:!0})},notifyPreview:function(e,t){o.trigger("preview:notify",e.message,e.data)},enableFrameControl:function(e,t){o.trigger("navcontrols:changed",e)},mailTo:function(e){i.isPreview()?o.trigger("preview:notify","PREVIEW_EMAILTO"):window.location.assign("mailto:"+e.address)},execUserJs:window.ExecuteScript,exeJavaScript:function(e){if(i.isPreview())o.trigger("preview:notify","PREVIEW_EXE_JAVASCRIPT");else try{this.execUserJs(e.id)}catch(t){y("exeJavaScript",t.message||"Unknown custom script error")}},openVideo:function(e,t){e.windowsize="custom",o.trigger("externalWindow:open",e,t)},getMousePosition:function(e,t){l.applyMethod("triggerAction",t.context,e,t)},zoomPan:function(e,t){l.applyMethod("triggerAction",t.context,e,t)},closeWndGotoSlide:function(e,t){var i=e.objRef.value;o.trigger("window:closing",e.closewindowid),o.trigger("nextSlide:requesting",i)},nextViewedSlide:function(e,t){var i=p.resolvePath(p.getRef(e.quizRef),t.context);l.applyMethod("triggerAction",i,e,t)},openUrl:function(e,t){o.trigger("externalWindow:open",e,t)},initialize:function(e,n){t=e,i=n},getControlLayout:function(e){return t.controlLayouts().get(e)},setWindowControlLayout:function(e,t){var i=this.getControlLayout(e.name),n=t.context.prop("WindowId")||f.getCurrentWindowId();null!=i&&o.trigger("controllayout:changed",i,n)},setFrameLayout:function(e,t){var i=this.getControlLayout(e.name);o.trigger("controllayout:changed",i,s.refs.FRAME)},setFrameLayoutFromLayout:function(e){var i=t.getLayout(e.name).controllayout;o.trigger("controllayout:changed",this.getControlLayout(i),s.refs.FRAME)},changeWindowControl:function(e,t){o.trigger("navcontrols:changed",e,t)},changeSlide:function(e,t){if(!b()){var r=n.get(t,"actionTarget.absoluteId");null==r&&i.isPreview()?o.trigger("preview:notify","PREVIEW_SLIDE_MISSING"):o.trigger("nextSlide:requesting",r,e.window)}},triggerPrevSlideClicked:function(e){var t=f.getCurrentWindowSlide();t.executePlayerEvent("onprevslide")},goBack:function(e){b()||o.trigger("prevSlide:requesting")},goBackHistoryGroup:function(e,t){b()||o.trigger("prevHistoryGroup:requesting")},advanceSlide:function(e){b()||o.trigger("nextSlide:requesting")},advanceSlideDrawSlide:function(e){b()||o.trigger("nextDrawSlide:requesting")},closeWindow:function(e){o.trigger("window:closing",e.id)},closePlayer:function(){o.trigger("player:closing")},applyPlayerResumeData:function(e){o.trigger("loader:unmute"),d.applyResumeData(e.resume)},resetPlayer:function(e,t){o.trigger("player:reset");var i=f.getCurrentWindowSlide(),r=v.getSlide(e.startslideid,i),s=null!=i&&i.absoluteId===r.absoluteId;s?(d.clearResumeData(),i.reset()):(null!=n.get(i,"currView.killSlide")&&i.currView.killSlide(),d.clearResumeData(),this.changeSlide(e,t))},printQuizResults:function(e,t){m.printQuizResults(e,t)},notifyLinkSelected:function(e,t){o.trigger("actionlink:viewed",e.id)},cancelEvent:function(e,t){t.cancel=!0},triggerHostEvent:function(e){g.triggerHostEvent(e.eventName)}};return a.mix(w),a.initMixinsOf(w),w}),define("views/helpers/bitmaskHelper",["require"],function(e){"use strict";var t=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i},i={buildImage:function(e,i,n){var r,s,o,a,l=0,u=t(i,n),c=u.getContext("2d"),h=c.createImageData(i,n),p=e.split(/([XO])/g),d=p.length;for(r=0;d>r;r+=2)for(o=parseInt(p[r],16),a="X"===p[r+1]?255:0,s=0;o>=s;s++)h.data[l]=a,h.data[l+3]=a,l+=4;return c.putImageData(h,0,0),u}};return i}),function(){function e(e){var n={opts:e};return n.MAX_VIRTUAL_PIXELS=3e4,n.log=function(e){},1==n.opts.log&&"undefined"!=typeof console&&(n.log=function(e){console.log(e)}),n.init=function(e){var t=0;n.UniqueId=function(){return t++,"canvg"+t},n.Definitions={},n.Styles={},n.StylesSpecificity={},n.ctx=e,n.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},n.init(),n.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},n.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},n.parseXml=function(e){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var t=new Windows.Data.Xml.Dom.XmlDocument,i=new Windows.Data.Xml.Dom.XmlLoadSettings;return i.prohibitDtd=!1,t.loadXml(e,i),t}if(window.DOMParser){var n=new DOMParser;return n.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},n.Property=function(e,t){this.name=e,this.value=t},n.Property.prototype.getValue=function(){return this.value},n.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},n.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},n.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},n.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},n.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),n.Definitions[e]},n.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},n.Property.prototype.getDPI=function(e){return 96},n.Property.prototype.getEM=function(e){var t=12,i=new n.Property("fontSize",n.Font.Parse(n.ctx.font).fontSize);return i.hasValue()&&(t=i.toPixels(e)),t},n.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},n.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/em$/))return this.numValue()*this.getEM(e);if(i.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(e);if(i.match(/%$/))return this.numValue()*n.ViewPort.ComputeSize(e);var r=this.numValue();return t&&1>r?r*n.ViewPort.ComputeSize(e):r},n.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},n.ToNumberArray=function(e){for(var t=n.trim(n.compressSpaces((e||"").replace(/,/g," "))).split(" "),i=0;i<t.length;i++)t[i]=parseFloat(t[i]);return t},n.Point=function(e,t){this.x=e,this.y=t},n.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},n.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],i=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=i},n.CreatePoint=function(e){var t=n.ToNumberArray(e);return new n.Point(t[0],t[1])},n.CreatePath=function(e){for(var t=n.ToNumberArray(e),i=[],r=0;r<t.length;r+=2)i.push(new n.Point(t[r],t[r+1]));return i},n.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,i,n,r,s){var o=e+2/3*(i-e),a=t+2/3*(n-t),l=o+1/3*(r-e),u=a+1/3*(s-t);this.addBezierCurve(e,t,o,l,a,u,r,s)},this.addBezierCurve=function(e,t,n,r,s,o,a,l){var u=[e,t],c=[n,r],h=[s,o],p=[a,l];for(this.addPoint(u[0],u[1]),this.addPoint(p[0],p[1]),i=0;i<=1;i++){var d=function(e){return Math.pow(1-e,3)*u[i]+3*Math.pow(1-e,2)*e*c[i]+3*(1-e)*Math.pow(e,2)*h[i]+Math.pow(e,3)*p[i]},f=6*u[i]-12*c[i]+6*h[i],m=-3*u[i]+9*c[i]-9*h[i]+3*p[i],g=3*c[i]-3*u[i];if(0!=m){var v=Math.pow(f,2)-4*g*m;if(!(0>v)){var y=(-f+Math.sqrt(v))/(2*m);y>0&&1>y&&(0==i&&this.addX(d(y)),1==i&&this.addY(d(y)));var b=(-f-Math.sqrt(v))/(2*m);b>0&&1>b&&(0==i&&this.addX(d(b)),1==i&&this.addY(d(b)))}}else{if(0==f)continue;var w=-g/f;w>0&&1>w&&(0==i&&this.addX(d(w)),1==i&&this.addY(d(w)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},n.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=n.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var t=n.ToNumberArray(e);this.angle=new n.Property("angle",t[0]),this.cx=t[1]||0,this.cy=t[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=n.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=n.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],i=this.m[2],n=this.m[4],r=this.m[1],s=this.m[3],o=this.m[5],a=0,l=0,u=1,c=1/(t*(s*u-o*l)-i*(r*u-o*a)+n*(r*l-s*a));e.transform(c*(s*u-o*l),c*(o*a-r*u),c*(n*l-i*u),c*(t*u-n*a),c*(i*o-n*s),c*(n*r-t*o))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new n.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var i=n.trim(n.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<i.length;r++){var s=n.trim(i[r].split("(")[0]),o=i[r].split("(")[1].replace(")",""),a=new this.Type[s](o);a.type=s,this.transforms.push(a)}},n.AspectRatio=function(e,t,i,r,s,o,a,l,u,c){t=n.compressSpaces(t),t=t.replace(/^defer\s/,"");var h=t.split(" ")[0]||"xMidYMid",p=t.split(" ")[1]||"meet",d=i/r,f=s/o,m=Math.min(d,f),g=Math.max(d,f);"meet"==p&&(r*=m,o*=m),"slice"==p&&(r*=g,o*=g),u=new n.Property("refX",u),c=new n.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-m*u.toPixels("x"),-m*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==p&&m==f||"slice"==p&&g==f)&&e.translate(i/2-r/2,0),h.match(/YMid$/)&&("meet"==p&&m==d||"slice"==p&&g==d)&&e.translate(0,s/2-o/2),h.match(/^xMax/)&&("meet"==p&&m==f||"slice"==p&&g==f)&&e.translate(i-r,0),h.match(/YMax$/)&&("meet"==p&&m==d||"slice"==p&&g==d)&&e.translate(0,s-o)),"none"==h?e.scale(d,f):"meet"==p?e.scale(m,m):"slice"==p&&e.scale(g,g),e.translate(null==a?0:-a,null==l?0:-l)},n.Element={},n.EmptyProperty=new n.Property("EMPTY",""),n.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,t){var i=this.attributes[e];return null!=i?i:(1==t&&(i=new n.Property(e,""),this.attributes[e]=i),i||n.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return n.EmptyProperty},this.style=function(e,t,i){var r=this.styles[e];if(null!=r)return r;var s=this.attribute(e);
if(null!=s&&s.hasValue())return this.styles[e]=s,s;if(1!=i){var o=this.parent;if(null!=o){var a=o.style(e);if(null!=a&&a.hasValue())return a}}return 1==t&&(r=new n.Property(e,""),this.styles[e]=r),r||n.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var i=e;t&&(i=n.CreateElement(e)),i.parent=this,"title"!=i.type&&this.children.push(i)},this.addStylesFromStyleDefinition=function(){for(var i in n.Styles)if("@"!=i[0]&&t(e,i)){var r=n.Styles[i],s=n.StylesSpecificity[i];if(null!=r)for(var o in r){var a=this.stylesSpecificity[o];"undefined"==typeof a&&(a="000"),s>a&&(this.styles[o]=r[o],this.stylesSpecificity[o]=s)}}},null!=e&&1==e.nodeType){for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i];this.attributes[r.nodeName]=new n.Property(r.nodeName,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var s=this.attribute("style").value.split(";"),i=0;i<s.length;i++)if(""!=n.trim(s[i])){var o=s[i].split(":"),a=n.trim(o[0]),l=n.trim(o[1]);this.styles[a]=new n.Property(a,l)}this.attribute("id").hasValue()&&null==n.Definitions[this.attribute("id").value]&&(n.Definitions[this.attribute("id").value]=this);for(var i=0;i<e.childNodes.length;i++){var u=e.childNodes[i];if(1==u.nodeType&&this.addChild(u,!0),this.captureTextNodes&&(3==u.nodeType||4==u.nodeType)){var c=u.value||u.text||u.textContent||"";""!=n.compressSpaces(c)&&this.addChild(new n.Element.tspan(u),!1)}}}},n.Element.RenderedElementBase=function(e){this.base=n.Element.ElementBase,this.base(e),this.setContext=function(e){if(e.fillStyle=n.opts.col||"red",e.strokeStyle=n.opts.col||"blue",this.style("stroke-width").hasValue()){var t=this.style("stroke-width").toPixels();e.lineWidth=0==t?.001:t}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var i=n.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(i):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=i:"undefined"==typeof e.mozDash||1==i.length&&0==i[0]||(e.mozDash=i);var r=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=r:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=r:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=r)}if(this.style("transform",!1,!0).hasValue()){var s=new n.Transform(this.style("transform",!1,!0).value);s.apply(e)}if(this.style("clip-path",!1,!0).hasValue()){var o=this.style("clip-path",!1,!0).getDefinition();null!=o&&o.apply(e)}}},n.Element.RenderedElementBase.prototype=new n.Element.ElementBase,n.Element.PathElementBase=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new n.BoundingBox},this.renderChildren=function(e){this.path(e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke()},this.getBoundingBox=function(){return this.path()}},n.Element.PathElementBase.prototype=new n.Element.RenderedElementBase,n.Element.svg=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),n.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,"undefined"!=typeof e.font&&"undefined"!=typeof window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t=n.ViewPort.width(),i=n.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){t=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var r=0,s=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),s=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(r,s),e.lineTo(t,s),e.lineTo(t,i),e.lineTo(r,i),e.closePath(),e.clip())}if(n.ViewPort.SetCurrent(t,i),this.attribute("viewBox").hasValue()){var o=n.ToNumberArray(this.attribute("viewBox").value),a=o[0],l=o[1];t=o[2],i=o[3],n.AspectRatio(e,this.attribute("preserveAspectRatio").value,n.ViewPort.width(),t,n.ViewPort.height(),i,a,l,this.attribute("refX").value,this.attribute("refY").value),n.ViewPort.RemoveCurrent(),n.ViewPort.SetCurrent(o[2],o[3])}}},n.Element.svg.prototype=new n.Element.RenderedElementBase,n.Element.rect=function(e){this.base=n.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(a=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=a),o=Math.min(o,r/2),a=Math.min(a,s/2),null!=e&&(e.beginPath(),e.moveTo(t+o,i),e.lineTo(t+r-o,i),e.quadraticCurveTo(t+r,i,t+r,i+a),e.lineTo(t+r,i+s-a),e.quadraticCurveTo(t+r,i+s,t+r-o,i+s),e.lineTo(t+o,i+s),e.quadraticCurveTo(t,i+s,t,i+s-a),e.lineTo(t,i+a),e.quadraticCurveTo(t,i,t+o,i),e.closePath()),new n.BoundingBox(t,i,t+r,i+s)}},n.Element.rect.prototype=new n.Element.PathElementBase,n.Element.circle=function(e){this.base=n.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,i,r,0,2*Math.PI,!0),e.closePath()),new n.BoundingBox(t-r,i-r,t+r,i+r)}},n.Element.circle.prototype=new n.Element.PathElementBase,n.Element.ellipse=function(e){this.base=n.Element.PathElementBase,this.base(e),this.path=function(e){var t=4*((Math.sqrt(2)-1)/3),i=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),s=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(s,o-r),e.bezierCurveTo(s+t*i,o-r,s+i,o-t*r,s+i,o),e.bezierCurveTo(s+i,o+t*r,s+t*i,o+r,s,o+r),e.bezierCurveTo(s-t*i,o+r,s-i,o+t*r,s-i,o),e.bezierCurveTo(s-i,o-t*r,s-t*i,o-r,s,o-r),e.closePath()),new n.BoundingBox(s-i,o-r,s+i,o+r)}},n.Element.ellipse.prototype=new n.Element.PathElementBase,n.Element.line=function(e){this.base=n.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new n.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new n.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new n.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)}},n.Element.line.prototype=new n.Element.PathElementBase,n.Element.polyline=function(e){this.base=n.Element.PathElementBase,this.base(e),this.points=n.CreatePath(this.attribute("points").value),this.path=function(e){var t=new n.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)t.addPoint(this.points[i].x,this.points[i].y),null!=e&&e.lineTo(this.points[i].x,this.points[i].y);return t}},n.Element.polyline.prototype=new n.Element.PathElementBase,n.Element.polygon=function(e){this.base=n.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},n.Element.polygon.prototype=new n.Element.polyline,n.Element.path=function(e){this.base=n.Element.PathElementBase,this.base(e);var t=this.attribute("d").value;t=t.replace(/,/gm," ");for(var i=0;2>i;i++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2");for(var i=0;2>i;i++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=n.compressSpaces(t),t=n.trim(t),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new n.Point(0,0),this.control=new n.Point(0,0),this.current=new n.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new n.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new n.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,i){null!=i&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(t),this.path=function(e){var t=this.PathParser;t.reset();var i=new n.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var r=t.getAsCurrentPoint();for(t.addMarker(r),i.addPoint(r.x,r.y),null!=e&&e.moveTo(r.x,r.y),t.start=t.current;!t.isCommandOrEnd();){var r=t.getAsCurrentPoint();t.addMarker(r,t.start),i.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var s=t.current,r=t.getAsCurrentPoint();t.addMarker(r,s),i.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var o=new n.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(o,t.current),t.current=o,i.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){var o=new n.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(o,t.current),t.current=o,i.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var a=t.current,l=t.getPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,l),i.addBezierCurve(a.x,a.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){var a=t.current,l=t.getReflectedControlPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,l),i.addBezierCurve(a.x,a.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){var a=t.current,u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,u),i.addQuadraticCurve(a.x,a.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){var a=t.current,u=t.getReflectedControlPoint();t.control=u;var c=t.getAsCurrentPoint();t.addMarker(c,u,u),i.addQuadraticCurve(a.x,a.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){var a=t.current,h=t.getScalar(),p=t.getScalar(),d=t.getScalar()*(Math.PI/180),f=t.getScalar(),m=t.getScalar(),c=t.getAsCurrentPoint(),g=new n.Point(Math.cos(d)*(a.x-c.x)/2+Math.sin(d)*(a.y-c.y)/2,-Math.sin(d)*(a.x-c.x)/2+Math.cos(d)*(a.y-c.y)/2),v=Math.pow(g.x,2)/Math.pow(h,2)+Math.pow(g.y,2)/Math.pow(p,2);v>1&&(h*=Math.sqrt(v),p*=Math.sqrt(v));var y=(f==m?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(p,2)-Math.pow(h,2)*Math.pow(g.y,2)-Math.pow(p,2)*Math.pow(g.x,2))/(Math.pow(h,2)*Math.pow(g.y,2)+Math.pow(p,2)*Math.pow(g.x,2)));isNaN(y)&&(y=0);var b=new n.Point(y*h*g.y/p,y*-p*g.x/h),w=new n.Point((a.x+c.x)/2+Math.cos(d)*b.x-Math.sin(d)*b.y,(a.y+c.y)/2+Math.sin(d)*b.x+Math.cos(d)*b.y),S=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},x=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(S(e)*S(t))},T=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(x(e,t))},C=T([1,0],[(g.x-b.x)/h,(g.y-b.y)/p]),P=[(g.x-b.x)/h,(g.y-b.y)/p],E=[(-g.x-b.x)/h,(-g.y-b.y)/p],_=T(P,E);x(P,E)<=-1&&(_=Math.PI),x(P,E)>=1&&(_=0);var k=1-m?1:-1,A=C+k*(_/2),R=new n.Point(w.x+h*Math.cos(A),w.y+p*Math.sin(A));if(t.addMarkerAngle(R,A-k*Math.PI/2),t.addMarkerAngle(c,A-k*Math.PI),i.addPoint(c.x,c.y),null!=e){var x=h>p?h:p,M=h>p?1:h/p,I=h>p?p/h:1;e.translate(w.x,w.y),e.rotate(d),e.scale(M,I),e.arc(0,0,x,C,C+_,1-m),e.scale(1/M,1/I),e.rotate(-d),e.translate(-w.x,-w.y)}}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return i}},n.Element.path.prototype=new n.Element.PathElementBase,n.Element.defs=function(e){this.base=n.Element.ElementBase,this.base(e),this.render=function(e){}},n.Element.defs.prototype=new n.Element.ElementBase,n.Element.image=function(e){},n.Element.image.prototype=new n.Element.RenderedElementBase,n.Element.g=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new n.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},n.Element.g.prototype=new n.Element.RenderedElementBase,n.Element.symbol=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.render=function(e){}},n.Element.symbol.prototype=new n.Element.RenderedElementBase,n.Element.use=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var t=this.getHrefAttribute().getDefinition();this.path=function(e){null!=t&&t.path(e)},this.getBoundingBox=function(){return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(e){if(null!=t){var i=t;"symbol"==t.type&&(i=new n.Element.svg,i.type="svg",i.attributes.viewBox=new n.Property("viewBox",t.attribute("viewBox").value),i.attributes.preserveAspectRatio=new n.Property("preserveAspectRatio",t.attribute("preserveAspectRatio").value),i.attributes.overflow=new n.Property("overflow",t.attribute("overflow").value),i.children=t.children),"svg"==i.type&&(this.attribute("width").hasValue()&&(i.attributes.width=new n.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(i.attributes.height=new n.Property("height",this.attribute("height").value)));var r=i.parent;i.parent=null,i.render(e),i.parent=r}}},n.Element.use.prototype=new n.Element.RenderedElementBase,n.Element.mask=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e,t){var i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");if(0==s&&0==o){for(var a=new n.BoundingBox,l=0;l<this.children.length;l++)a.addBoundingBox(this.children[l].getBoundingBox());var i=Math.floor(a.x1),r=Math.floor(a.y1),s=Math.floor(a.width()),o=Math.floor(a.height())}var u=t.attribute("mask").value;t.attribute("mask").value="";var c=document.createElement("canvas");c.width=i+s,c.height=r+o;var h=c.getContext("2d");this.renderChildren(h);var p=document.createElement("canvas");p.width=i+s,p.height=r+o;var d=p.getContext("2d");t.render(d),d.globalCompositeOperation="destination-in",p.width>0&&(d.fillStyle=h.createPattern(c,"no-repeat"),d.fillRect(0,0,i+s,r+o),e.fillStyle=d.createPattern(p,"no-repeat"),e.fillRect(0,0,i+s,r+o)),t.attribute("mask").value=u},this.render=function(e){}},n.Element.mask.prototype=new n.Element.ElementBase,n.Element.clipPath=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e){var t=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var i=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},t.call(e);for(var r=0;r<this.children.length;r++){var s=this.children[r];if("undefined"!=typeof s.path){var o=null;s.style("transform",!1,!0).hasValue()&&(o=new n.Transform(s.style("transform",!1,!0).value),o.apply(e)),s.path(e),CanvasRenderingContext2D.prototype.closePath=i,o&&o.unapply(e)}}i.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=t,CanvasRenderingContext2D.prototype.closePath=i},this.render=function(e){}},n.Element.clipPath.prototype=new n.Element.ElementBase,n.Element.MISSING=function(e){n.log("zilent fail - node not supported (REMOVE)"+e+"z")},n.Element.MISSING.prototype=new n.Element.ElementBase,n.CreateElement=function(e){var t=e.nodeName.replace(/^[^:]+:/,"");t=t.replace(/\-/g,"");var i=null;return i="undefined"!=typeof n.Element[t]?new n.Element[t](e):new n.Element.MISSING(e),i.type=e.nodeName,i},n.loadXml=function(e,t){n.loadXmlDoc(e,n.parseXml(t))},n.loadXmlDoc=function(e,t){n.init(e);var i=n.CreateElement(t.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var r=!0,s=function(){n.ViewPort.Clear(),e.canvas.parentNode&&n.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=n.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var s=e.canvas.clientWidth||e.canvas.width,o=e.canvas.clientHeight||e.canvas.height;if(1==n.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(s=i.style("width").toPixels("x"),o=i.style("height").toPixels("y")),n.ViewPort.SetCurrent(s,o),null!=n.opts.offsetX&&(i.attribute("x",!0).value=n.opts.offsetX),null!=n.opts.offsetY&&(i.attribute("y",!0).value=n.opts.offsetY),null!=n.opts.scaleWidth||null!=n.opts.scaleHeight){var a=null,l=null,u=n.ToNumberArray(i.attribute("viewBox").value);null!=n.opts.scaleWidth&&(i.attribute("width").hasValue()?a=i.attribute("width").toPixels("x")/n.opts.scaleWidth:isNaN(u[2])||(a=u[2]/n.opts.scaleWidth)),null!=n.opts.scaleHeight&&(i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/n.opts.scaleHeight:isNaN(u[3])||(l=u[3]/n.opts.scaleHeight)),null==a&&(a=l),null==l&&(l=a),i.attribute("width",!0).value=n.opts.scaleWidth,i.attribute("height",!0).value=n.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/a+","+1/l+")"}1!=n.opts.ignoreClear&&e.clearRect(0,0,s,o),i.render(e),r&&(r=!1,"function"==typeof n.opts.renderCallback&&n.opts.renderCallback(t))};s()},n.stop=function(){},n}window.slimCanvg=function(t,i,n){i=i.trim(),"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var r=e(n||{});1==t.childNodes.length&&"OBJECT"==t.childNodes[0].nodeName||(t.svg=r);var s=t.getContext("2d");"undefined"!=typeof i.documentElement?r.loadXmlDoc(s,i):"<"==i.substr(0,1)&&r.loadXml(s,i)};var t;"undefined"!=typeof Element.prototype.matches?t=function(e,t){return e.matches(t)}:"undefined"!=typeof Element.prototype.webkitMatchesSelector?t=function(e,t){return e.webkitMatchesSelector(t)}:"undefined"!=typeof Element.prototype.mozMatchesSelector?t=function(e,t){return e.mozMatchesSelector(t)}:"undefined"!=typeof Element.prototype.msMatchesSelector?t=function(e,t){return e.msMatchesSelector(t)}:"undefined"!=typeof Element.prototype.oMatchesSelector&&(t=function(e,t){return e.oMatchesSelector(t)})}(),define("slim-canvg",function(e){return function(){var t;return t||e.slimCanvg}}(this)),define("models/presentation/helpers/collisionUtils",["require","lodash","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),0),n=1,r=2,s=3,o={collisionAabb:function(e,t){return e[i]<t[i]+t[r]&&e[i]+e[r]>t[i]&&e[n]<t[n]+t[s]&&e[s]+e[n]>t[n]},applyTweenTransform:function(e,i){e.tweenedConfig&&t.extend(i,e.tweenedConfig.props)},applyRotatable:function(e,i){var n=t.get(e,["decorators","rotatable"],!1);n&&n.lastSetRotation&&i.rotate(n.lastSetRotation,n.rotateXPos,n.rotateYPos)},getBoundingBox:function(e,o){var a,l,u,c,h,p,d,f,m,g,v,y,b,w,S=e.collision.transform||{},x=e.currView,T=[],C=[],P=4,E=x.props.model.getCurrentStateMetrics(),_=E.strokewidth;if(null!=E.mask?(g=E.xPos,v=E.yPos,y=b=0):(g=v=-_/2,y=b=_),S.RawXPos=x.state.RawXPos,S.RawYPos=x.state.RawYPos,S.Rotation=x.state.Rotation,S.rotateXPos=x.state.rotateXPos,S.rotateYPos=x.state.rotateYPos,S.ScaleX=x.state.ScaleX,S.ScaleY=x.state.ScaleY,S.width=x.actualWidth,S.height=x.actualHeight,o)for(m in o)o.hasOwnProperty(m)&&(S[m]=o[m]);if(this.applyTweenTransform(x,S),S.ScaleX/=100,S.ScaleY/=100,x.props.parent){for(C=[],f=x;f;)f.props.isInnard||C.push(f),f=f.props.parent;C.reverse(),d=e.collision.transMatrix.reset(),w=C.length-1,C.forEach(function(i,n){var r,s,o=i.props.model,a=o.collision;null==a||null==a.transform?(r=t.pick(i.state,["RawXPos","RawYPos","Rotation","ScaleX","ScaleY","rotateXPos","rotateYPos","height","width"]),r.ScaleX/=100,r.ScaleY/=100):r=a.transform,d.adjustByViewProps(r),this.applyRotatable(i,d),w>n&&o.isKind("scrollarea")&&(e.collision.scrollAncestor=o,e.collision.scrollMatrix=d.copy(),s=i.getPlayerProp("Position"),s&&d.translate(0,-s))}.bind(this)),e.collision.hasMatrix=!0,T[i]=d.transform(g,v),T[n]=d.transform(S.width+y,v),T[r]=d.transform(S.width+y,S.height+b),T[s]=d.transform(g,S.height+b)}else S.Rotation%360===0&&1===S.ScaleX&&1===S.ScaleY&&0===t.get(x,["decorators","rotatable","lastSetRotation"],0)||(d=e.collision.transMatrix.reset(),d.adjustByViewProps(S),this.applyRotatable(x,d),e.collision.hasMatrix=!0,T[i]=d.transform(g,v),T[n]=d.transform(S.width+y,v),T[r]=d.transform(S.width+y,S.height+b),T[s]=d.transform(g,S.height+b));if(0===T.length)return e.collision.hasMatrix=!1,e.collision.tx=S.RawXPos,e.collision.ty=S.RawYPos,[S.RawXPos+g,S.RawYPos+v,x.actualWidth+y,x.actualHeight+b];for(a=l=T[0].x,u=c=T[0].y,m=P;m--;)h=T[m].x,p=T[m].y,l>h&&(l=h),c>p&&(c=p),h>a&&(a=h),p>u&&(u=p);return[l,c,a-l,u-c]}};return o}),define("views/helpers/collisionHelper",["require","lodash","views/helpers/dom","views/helpers/bitmaskHelper","helpers/utils","helpers/resolver","slim-canvg","polyfills/detection","models/presentation/helpers/collisionUtils","helpers/pubSub","helpers/TransMatrix"],function(e){"use strict";var t,i,n,r=e("lodash"),s=e("views/helpers/dom"),o=e("views/helpers/bitmaskHelper"),a=e("helpers/utils"),l=e("helpers/resolver"),u=e("slim-canvg"),c=e("polyfills/detection"),h=e("models/presentation/helpers/collisionUtils"),p=e("helpers/pubSub"),d=e("helpers/TransMatrix"),f="svgHit",m="rectHit",g="groupHit",v="collide",y="start",b="end",w=30,S="data:image/svg+xml;base64, ",x=4,T=3,C=128,P=10,E=2*P,_={},k=[],A={},R=!1,M=0,I={},O=function(){n=document.querySelector("#collision-library"),n&&(t=n.querySelector("canvas"),i=t.getContext("2d"),i.imageSmoothingEnabled=!1,t.width=720,t.height=540,n.appendChild(t),R=!0)},L=function(e){return S+window.btoa(window.unescape(encodeURIComponent(D(e))))},D=function(e){return e.replace(/\&nbsp\;/g," ")},N=function(e,t){var i,n=e.collision,r=e.getCurrentStateMetrics(),s=null!=r.mask?r.xPos:-r.strokewidth,o=null!=r.mask?r.yPos:-r.strokewidth;t.save(),n.hasMatrix?(i=n.transMatrix,t.transform(i.a,i.c,i.b,i.d,i.tx,i.ty)):t.translate(n.tx,n.ty),t.translate(s,o),n.hitType===m?(t.fillStyle="#ffff00",t.fillRect(0,0,r.width,r.height)):t.drawImage(n.currImg,0,0),t.restore()},V={initialize:function(){p.on("app:complete",function(){O()}),p.on("slide:hasMounted",function(e){var i=r.get(e,"props.model");null==i||e.props.isMessageWindow||(t.width=i.get("width"),t.height=i.get("height"))})},initSlideObject:function(e){this.addCollisionProp(e),e.isVectorShape()?(e.collision.img=e.collision.img||{},e.collision.canvas=e.collision.canvas||{},e.collision.ctx=e.collision.ctx||{},e.collision.hitType=f):e.isGroupingSlideObject&&!e.isKind("scrollarea")?e.collision.hitType=g:e.collision.hitType=m},sanitizeSvgForCollision:function(e,t){var i=t||"#ffff00",n=e.replace(/<image(.*?)image>/g,'<rect fill="'+i+'"$1rect>').replace(/xlink\:href="(.*?)"/g,"").replace(/&nbsp;/g," ").replace(/fill="(?!none)(.*?)"/g,'fill="'+i+'"').replace(/stroke="(?!none)(.*?)"/g,'stroke="'+i+'"').replace(/data-reactid="(.*?)"/g,"").replace(/stroke-opacity="(.*?)"/g,'stroke-opacity="1"').replace(/fill-opacity="(.*?)"/g,'fill-opacity="1"');return n},addCollisionProp:function(e){e.collision||(e.collision={})},registerCollisions:function(e){var t,i,n=e.props.model;n.hasCollisionEvents===!1||n.cacheCollisionSetup||(t=this.getCollisionEvents(n),i=this.getStageCollisionEvents(n),t.length>0&&(this.addCollisionProp(n),n.hasCollisionEvents=!0,this.setupCollideables(n,t)),i.length>0&&(this.addCollisionProp(n),n.hasCollisionEvents=!0,this.setupStageCollisions(n)),null!=n.initForCollisions?n.initForCollisions():p.once("slide:hasMounted",function(){null!=n.initForCollisions&&n.initForCollisions()}.bind(this)))},setCollisionStartEventVals:function(e,t){t.length>0?(e.hasCollisionEvents=!0,e.cacheCollisionSetup=!0):e.hasCollisionEvents=e.hasCollisionEvents||!1},getStageCollisionEvents:function(e){var t=r(e.events()).filter(function(e){return"ononscreen"===e.kind||"onoffscreen"===e.kind}).value();return this.setCollisionStartEventVals(e,t),t},getCollisionEvents:function(e){var t=r(e.events()).filter(function(e){return"oncollisionstart"===e.kind||"oncollisionend"===e.kind}).value();return this.setCollisionStartEventVals(e,t),t},initForCollisions:function(e,t){t&&(e.collisionParents||(e.collisionParents=[]),r.contains(e.collisionParents,t)||e.collisionParents.push(t)),e.initForCollisions=function(e){V.addCollisionProp(this),this.isCollideable=!0,this.collision.transform=this.collision.transform||{rotateXPos:this.prop("rotateXPos"),rotateYPos:this.prop("rotateYPos")},this.collision.transMatrix=this.collision.transMatrix||new d,h.getBoundingBox(this),this.collision.fill=this.collision.fill||"#ff0000",V.initSlideObject(this),V.calculateHitTest(this,e)}},setupCollideables:function(e,t){this.initForCollisions(e),e.collision.objects=r(t).chain().reduce(function(e,t,i){return e=e.concat(t.targets)},[]).unique().map(function(t){var i=l.resolvePath(t,e);return i.collisionPath=t,this.initForCollisions(i,e),null!=i.currView?i.initForCollisions():p.once("slide:hasMounted",function(){i.initForCollisions()}.bind(this)),i}.bind(this)).value()},setupStageCollisions:function(e){e.initForCollisions||this.initForCollisions(e),e.collision.checkStage=!0},executeCollisionEvent:function(e,t,i){e.executeFilteredPlayerEvent(function(e){return r.contains(e.targets,t)},i),e.collision.executionParent&&e.collision.executionParent.executeFilteredPlayerEvent(function(e){return r.contains(e.targets,t)},i)},hitTestStage:function(e,i){var n=i.props.model,r=[0,0,t.width,t.height],s=n.id+"_stage";I[s]===y&&(I[s]="collide"),h.collisionAabb(e,r)?"collide"!==I[s]&&(n.executePlayerEvent("ononscreen"),I[s]=y):"collide"===I[s]&&(n.executePlayerEvent("onoffscreen"),I[s]=b)},hitTestAtoB:function(e,t,i,n){var s,o,a,l,u,c,p,d,f,m,w,S,x={},T=t.props.model,C=null!=t.state.OnStage?t.state.OnStage:t.state.isVisible,P=!1,E=[],_=T.collision.objects;for(s=_.length,p=0;s>p;p++){w=_[p],f=w.collision.hitType===g?w.currView.allRefs.slice():[w],m=f.length;for(var k=0;m>k;k++)o=f[k],a=o.currView,d=null!=a.state.OnStage?a.state.OnStage:a.state.isVisible,l=h.getBoundingBox(o,o.collision.transform),u=(null!=n?n.id:t.props.model.id)+"_"+w.id,h.collisionAabb(e,l)&&C&&d?E.push({view:a,relationKey:u,model:w}):I[u]!==v&&I[u]!==y||t.isLast===!1||k!==m-1||(this.executeCollisionEvent(t.props.model,w.collisionPath,"oncollisionend"),I[u]=b)}for(s=E.length,p=0;s>p;p++)c=E[p],a=c.view,o=c.model,S=c.relationKey,x[S]!==!0&&(P=this.pixelTest(t,a,e,{view:t,model:o,relationKey:S}),x[S]=P);return r.contains(r.values(x),!0)},hitTestBtoA:function(e,t,i,n){var s,o,a,l,u,c,p,d,f,m,w,S,x={},T=t.props.model,C=!1,P=[],E=T.collisionParents,_=null!=t.state.OnStage?t.state.OnStage:t.state.isVisible;for(s=E.length,c=0;s>c;c++){m=E[c],f=m.collision.hitType===g?m.currView.allRefs.slice():[m],d=f.length;for(var k=0;d>k;k++)o=f[k],a=o.currView,p=null!=a.state.OnStage?a.state.OnStage:a.state.isVisible,l=h.getBoundingBox(o,o.collision.transform),u=m.id+"_"+(null!=n?n.id:t.props.model.id),h.collisionAabb(e,l)&&_&&p?(o.collision.executionParent=m,P.push({view:a,relationKey:u})):I[u]!==v&&I[u]!==y||t.isLast===!1||k!==d-1||(this.executeCollisionEvent(m,null!=n?n.collisionPath:T.collisionPath,"oncollisionend"),I[u]=b)}for(s=P.length,c=0;s>c;c++)w=P[c],a=w.view,S=w.relationKey,x[S]!==!0&&(C=this.pixelTest(t,a,e,{view:a,model:t.props.model,relationKey:S}),x[S]=C);return r.contains(r.values(x),!0)},getPixels:function(e,t,n,r,s){var o,a,l,u,c,p,d;for(r[0]-=P,r[1]-=P,r[2]+=E,r[3]+=E,r=r.map(function(e){return parseInt(e)}),i.clearRect(r[0],r[1],r[2],r[3]),i.globalAlpha=.5,this.drawToCtx(i,t),c=n.length,u=0;c>u;u++)null==p&&(p=h.getBoundingBox(t.props.model)),d=h.getBoundingBox(n[u].props.model),h.collisionAabb(p,d)&&this.drawToCtx(i,n[u],!0);this.drawToCtx(i,e),o=i.getImageData(r[0],r[1],r[2],r[3]).data,a=o.length;for(var f=T;a>f&&l!==!1;f+=x)l=s(o[f])},drawToCtx:function(e,t,i){var n,r,s,o,a,l=t.props.model,u=l.collision;i||null==u.scrollAncestor||t.dragging?(e.save(),i&&(e.globalAlpha=1,e.globalCompositeOperation="destination-out"),N(l,e),e.restore()):(o=u.scrollAncestor.width(),a=u.scrollAncestor.height(),null==u.scrollAncestor.scrollCanvas?(r=u.scrollAncestor.scrollCanvas=document.createElement("canvas"),r.width=o,r.height=a):r=u.scrollAncestor.scrollCanvas,s=r.getContext("2d"),s.clearRect(0,0,o,a),s.save(),n=u.scrollMatrix.copy().invert(),s.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),N(l,s),s.restore(),e.save(),n=u.scrollMatrix,e.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),e.drawImage(r,0,0),e.restore())},pixelTest:function(e,t,i,n){
var r=!1,s=!1,o=n.relationKey,a=n.view.props.model.collision.executionParent||n.view.props.model,l=null!=n.model.collision.executionParent?n.model.collision.executionParent.collisionPath:n.model.collisionPath;return I[o]===y&&(I[o]="collide"),this.getPixels(e,t,[],i,function(e){return e>C?(s=!0,"collide"!==I[o]&&(I[o]=y,l=null!=n.model.collision.executionParent?n.model.collision.executionParent.collisionPath:n.model.collisionPath,this.executeCollisionEvent(a,l,"oncollisionstart")),r=!0,!1):void 0}.bind(this)),s||"collide"!==I[o]||(this.executeCollisionEvent(a,l,"oncollisionend"),I[o]=b,r=!0),r},performCollisionDetect:function(e,t,i){var n,r,s,o,a,l,u,c=!1,p=e.props.model;if(M++,M%2!==0||i===!0){if(n=h.getBoundingBox(p,t),p.collision.hitType===g){e.allRefs||e.getAllRefs(),l=e.allRefs.filter(function(e){return e.currView.state.OnStage===!0}),u=l.length;for(var d=0;u>d&&(r=l[d],a=r.currView,o=h.getBoundingBox(r,r.collision.transform),r.collision.executionParent=p,p.collision.objects&&(a.isLast=d===u-1,s=r.collision.objects,r.collision.objects=p.collision.objects,c=this.hitTestAtoB(o,a,r.collision.transform,p),r.collision.objects=s),p.collisionParents&&(a.isLast=d===u-1,s=r.collisionParents,r.collisionParents=p.collisionParents,c=this.hitTestBtoA(o,a,r.collision.transform,p)||c,r.collisionParents=s),r.collision.executionParent=void 0,c!==!0);d++);}else p.collision.objects&&this.hitTestAtoB(n,e,t),p.collisionParents&&this.hitTestBtoA(n,e,t);p.collision.checkStage&&this.hitTestStage(n,e)}},calculateHitTest:function(e,t){var i;e.collision.hitType===f?this.fromSvg(e.currView,t):e.collision.hitType===g&&(i=e.currView.allRefs,i.forEach(function(e){e.hasCollisionEvents||(V.initSlideObject(e),V.calculateHitTest(e,t)),V.initForCollisions(e),e.initForCollisions(t)}))},containsPoint:function(e,t,i){var n=e.props.model,r=!1;return n.collision.hitType===g?(n.objects().forEach(function(e){V.viewContainsPoint(e.currView,t,i)&&(r=!0)}),r):this.viewContainsPoint(e,t,i)},viewContainsPoint:function(e,t,i){var n,r=e.props.model.collision,s=r.currCanvas,o=r.currCtx,a=r.currImg;o.globalCompositeOperation="source-over",o.clearRect(0,0,s.width,s.height),o.fillStyle="#000000",o.fillRect(0,0,s.width,s.height),o.drawImage(a,0,0),o.globalCompositeOperation="lighter",o.fillStyle="rgba(0,0,255,1)",o.fillRect(t,i,10,10);try{n=o.getImageData(t,i,1,1).data,n=n[0]}catch(l){n=0,console.warn("security error")}return 0!==n},getRotatedPixelBounds:function(e,t){var i,n,r,s,o,l,u,c,h,p,f,g,v,y,b,w,S,x,T,C=e.props.model,P=C.getCurrentStateMetrics(),E=new d;return null==C.collision&&(this.initSlideObject(C),this.calculateHitTest(C)),C.collision.hitType===m?(E.rotate(t,P.width/2,P.height/2),this.getTransformedBounds(P.yPos,P.height-P.yPos,P.xPos,P.width-P.xPos,E)):(f=C.collision,g=document.createElement("canvas"),v=g.getContext("2d"),y=P.strokewidth,b=y/2,w=P.width+y,S=P.height+y,x=f.currCanvas.width,T=f.currCanvas.height,E.rotate(t,w/2,S/2),i=this.getTransformedBounds(-y,P.height+y,-y,P.width+y,E),n=Math.ceil(i.right-i.left),r=Math.ceil(i.bottom-i.top),g.width=n,g.height=r,v.save(),v.translate(n/2,r/2),v.rotate(a.degToRad(t)),v.translate(-w/2,-S/2),v.drawImage(f.currImg,-(x-w)/2,-(T-S)/2),v.restore(),s=v.getImageData(0,0,n,r).data,o=this.findEdge(s,n,r,"top"),u=this.findEdge(s,n,r,"left"),l=this.findEdge(s,n,r,"bottom"),c=this.findEdge(s,n,r,"right"),h=-(n-w)/2,p=-(r-S)/2,{top:o+p-1,left:u+h-1,bottom:l+p+1,right:c+h+1})},getTransformedBounds:function(e,t,i,n,r){var s=r.transformPoint(i,e),o=r.transformPoint(n,e),a=r.transformPoint(i,t),l=r.transformPoint(n,t);return{top:Math.min(s.y,o.y,a.y,l.y),left:Math.min(s.x,o.x,a.x,l.x),bottom:Math.max(s.y,o.y,a.y,l.y),right:Math.max(s.x,o.x,a.x,l.x)}},findEdge:function(e,t,i,n){var r,s,o=-1;if("top"===n){for(s=0;i>s;s++)for(r=0;t>r;r++)if(0!==e[s*t*4+4*r+3])return s;return o}if("bottom"===n){for(s=i-1;s>=0;s--)for(r=0;t>r;r++)if(0!==e[s*t*4+4*r+3])return s;return o}if("left"===n){for(r=0;t>r;r++)for(s=0;i>s;s++)if(0!==e[s*t*4+4*r+3])return r;return o}if("right"===n){for(r=t-1;r>=0;r--)for(s=0;i>s;s++)if(0!==e[s*t*4+4*r+3])return r;return o}return o},getBitmaskHash:function(e){var t=e.getCurrentStateData(),i=t.html5data||{},n=i.mask||"",r=i.url||"",s=A[r];return null!=s?s:A[r]=a.generateHash(n)},fromSvg:function(e,t){var i,n,s,o=e.props.model,a=[o.getPathLib(),o.commandsetId(),this.getBitmaskHash(o)].join(""),l=o.collision;l.img[a]||(l.img[a]=new window.Image),i=l.img[a],l.canvas[a]||(l.canvas[a]=document.createElement("canvas")),n=l.canvas[a],l.ctx[a]||(l.ctx[a]=n.getContext("2d")),s=l.ctx[a],r.extend(l,{currImg:i,currCanvas:n,currCtx:s}),this.drawSvgStringToImage(e,a,l,t)},cleanHitCache:function(){var e=k[0];k.length>w&&(_[e].img.parentNode||(k.shift(),delete _[e]))},drawSvgStringToImage:function(e,t,i,s){var a,l,h,p,d=i.currImg,f=i.currCanvas,m=i.currCtx,g=e.props.model;this.cleanHitCache(),_[t]?(i.imgLoaded=!0,r.extend(i,{currImg:_[t].img,currCanvas:_[t].canvas,currCtx:_[t].ctx}),n.appendChild(i.currImg),n.appendChild(i.currCanvas)):(a=g.getCurrentStateData(),l=a.html5data||{},h=e.find("svg"),p=h.parentNode.innerHTML,f.width=h.getAttribute("width"),f.height=h.getAttribute("height"),n||(n=document.querySelector("#collision-library")),n.appendChild(d),n.appendChild(f),null!=l.mask?(d=i.currImg=i.img[t]=o.buildImage(l.mask,l.width,l.height),i.imgLoaded=!0):c.isIE()||s?(d=i.currImg=i.img[t]=document.createElement("canvas"),u(d,this.sanitizeSvgForCollision(p),{col:g.collision.fill||"#ff0000"}),i.imgLoaded=!0):(d.src=L(this.sanitizeSvgForCollision(p,g.collision.fill)),d.addEventListener("load",function(){i.imgLoaded=!0}.bind(this))),_[t]={canvas:f,img:d,ctx:m},k.push(t))},slideObjectMouseLoc:function(e,t,i,n,r){var o,l,u,c,h,p,f,m=null!=t?t:s.mouseX,g=null!=i?i:s.mouseY,v=e.props.parent,y=e.state,b=y.Rotation%360,w={x:0,y:0},S=document.querySelector(".slide"),x=m,T=g;if(n||(p=S.getBoundingClientRect(),x=m-p.left,T=g-p.top),f=r?1:e.props.model.getSlide().calculateTotalScale(),v){for(o=[],l=e;l;)l.props.isInnard||o.push(l),l=l.props.parent;o.reverse(),u=new d,o.forEach(function(e){var t=e.state;u.translate(t.RawXPos/f,t.RawYPos/f).rotate(t.Rotation,t.rotateXPos/f,t.rotateYPos/f)}),c=u.transform(0,0),h=-u.decompose().rotation,w=a.rotatePoint(x-c.x,T-c.y,0,0,h)}else w.x=x-y.RawXPos/f,w.y=T-y.RawYPos/f,b&&(w=a.rotatePoint(w.x,w.y,y.rotateXPos/f,y.rotateYPos/f,-y.Rotation));return w.x=Math.floor(w.x),w.y=Math.floor(w.y),w},ensureHasImage:function(e,t){var i,n,s,o,a=e.props.model;null==r.get(a,"collision.currImg.src")&&(a.collision.hitType===f?this.fromSvg(e,t):a.collision.hitType!==g&&a.collision.hitType!==m||(s=a.prop("width"),o=a.prop("height"),i=document.createElement("canvas"),r.extend(i,{width:s,height:o}),n=i.getContext("2d"),a.collision.hitType===g?(a.objects().forEach(function(e){V.ensureHasImage(e.currView,t),n.drawImage(e.collision.currImg,e.prop("RawXPos"),e.prop("RawYPos"))}),a.collision.currImg=i):a.collision.hitType===m&&(n.fillStyle="#ffff00",n.fillRect(0,0,s,o)),a.collision.currImg=i))},getOverlapArea:function(e,t,i,n,r,s){var o,a=[[e,n],[t,r]].map(function(e){var t=e[0],i=e[1];return h.getBoundingBox(t.props.model,i)}),l=a[0],u=a[1],c=0;return h.collisionAabb(l,u)&&(o=[Math.min(l[0],u[0]),Math.min(l[1],u[1]),Math.max(l[2],u[2]),Math.max(l[3],u[3])],c=0,[e,t].concat(i).forEach(function(e){this.ensureHasImage(e,s)}.bind(this)),this.getPixels(e,t,i,o,function(e){e>C&&c++})),c},destroy:function(e){var t=e.props.model,i=t.collision.currImg,n=t.collision.currCanvas;null!=r.get(i,"parentNode")&&i.parentNode.removeChild(i),null!=r.get(n,"parentNode")&&n.parentNode.removeChild(n),t.collision.hitType===g&&t.objects().forEach(function(e){V.destroy(e.currView)})}};return V.ensureHasImage=V.ensureHasImage.bind(V),V.initialize(),V}),define("helpers/conditioner",["require","lodash","helpers/errorManager","helpers/resolver","views/helpers/collisionHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("helpers/resolver"),r=e("views/helpers/collisionHelper"),s=i.throwError("conditioner"),o=i.backtick,a="Cannot evaluate unsupported operator",l="Correct Response",u={and:" and ",or:" or ",nand:" nand ",nor:" nor ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},c={andOr:function(e,t,i){return t.statements.map(function(e){return S.statementToString(e,i)}).join(e)},compare:function(e,t){return[h(e.valuea,e.typea,t),h(e.valueb,e.typeb,t)].join(u[e.operator])}};c.and=t.partial(c.andOr,u.and),c.or=t.partial(c.andOr,u.or),c.nand=t.partial(c.andOr,u.nand),c.nor=t.partial(c.andOr,u.nor);var h=function(e,t,i){return"property"===t?l:d({type:t,value:e},{context:i})},p=function(e,i){var n=t.isArray(e)?e:i,r=n===e?i:e;return{arr:n,item:r}},d=function(e,t){return n.getRef(e,t.context||t,t.context&&t)},f=function(e){return String(e).toLowerCase()},m=function(e,t){var i=e+"Response",n=e+"id";return t[i]===t[n]},g=t.partial(m,"statement"),v=t.partial(m,"choice"),y={and:t.every,or:t.some};y.nand=t.negate(y.and),y.nor=t.negate(y.or);var b={eq:function(e,t){return e==t},noteq:function(e,t){return e!=t},iceq:function(e,t){return f(e)===f(t)},icneq:function(e,t){return f(e)!==f(t)},gt:function(e,t){return e>t},lt:function(e,t){return t>e},gte:function(e,t){return e>=t},lte:function(e,t){return t>=e}};b.has=function(e,i){var n=p(e,i);return t.contains(n.arr,n.item)},b.ichas=function(e,t){var i=p(e,t);return b.has(i.arr.map(f),f(i.item))};var w={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",stateexists:"checkState",hittestpoint:"evaluateHitTest",pair:"evaluatePair",isdescendant:"evaluateIsDescendant",containstext:"evaluateContainsText"},S={evaluateAction:function(e,t){return this.evaluateStatement(e.condition.statement,t)},evaluateStatements:function(e,t,i){return e(t,function(e){return this.evaluateStatement(e,i)}.bind(this))},evaluateStatement:function(e,t){if(!e)return!1;var i=w[e.kind]||"evaluateGroup";return this[i](e,t)},evaluateHitTest:function(e,t){var i,s=n.resolvePath(e.objRef.value,t.context),o=d({type:e.xPos.type,value:e.xPos.value},t),a=d({type:e.yPos.type,value:e.yPos.value},t),l=s.currView;return null==s.collision&&(r.initSlideObject(s),r.calculateHitTest(s,!0)),null!=l?(i=r.slideObjectMouseLoc(l,o,a,!0,!0),r.containsPoint(l,i.x,i.y)):!1},evaluatePair:function(e,t){return g(e)&&v(e)},evaluateComparison:function(e,t){var i,n,r=(t.context,e.operator);return r in b||s("evaluate",a,o(r)),i=d({type:e.typea,value:e.valuea},t),n=d({type:e.typeb,value:e.valueb},t),b[r](i,n)},evaluateIsDescendant:function(e,t){var i=d({type:e.typea,value:e.targeta},t),r=d({type:e.typeb,value:e.targetb},t),s=n.resolvePath(i,t),o=n.resolvePath(r,t);return-1!==s.absoluteId.indexOf(o.absoluteId)},evaluateContainsText:function(e,i){var n=e.casesensitive?t.identity:f,r=t.flow(d,n),s=r(e.targetref,i),o=r(e.searchref,i);return-1!==s.indexOf(o)},evaluateGroup:function(e,t){var i=y[e.kind],n=e.statements;return this.evaluateStatements(i,n,t)},checkExistence:function(e,t){var i=n.getRef(e,t.context,t);return!!n.resolvePath(i,t.context,{optional:!0})},checkState:function(e,i){var r=n.getRef(e.objRef,i.context,i),s=n.resolvePath(r,i.context,{optional:!0}),o=n.getRef(e.stateRef,i.context,i);return null!=s&&t.isFunction(s.getStateFromName)&&null!=s.getStateFromName(o)},statementToString:function(e,t){return c[e.kind](e,t)}};return S}),define("helpers/animationClock",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=132,n=33,r={callbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),currentTime:0,locks:[],locked:!1,waitingLock:!1,requestAnimationFrame:function(e){this.callbacks.push(e),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var e=t.uniqueId("lock-");return this.locks.push(e),this.locked=!0,e},unlock:function(e){t.pull(this.locks,e),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var e=Date.now(),t=e-this.lastCpuTime;return this.lastCpuTime=e,t>i&&(t=n),this.currentTime+=t,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)return void(this.waitingLock=!0);var e=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),e?this.requestStaleFrame():this.timeStale=!0},executeCallbacks:function(){var e=this.callbacks.slice(0),t=e.length;this.callbacks=[];for(var i=0;t>i;i++)e[i](this.frameTime)}};return r}),define("helpers/AnimationTimeline",["require","lodash","helpers/utils","helpers/GsapTweenLite","timeline-lite","helpers/animationClock"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/GsapTweenLite"),r=e("timeline-lite"),s=e("helpers/animationClock"),o=function(e,i){return t.findIndex(e,{id:i})},a=function(e){return e instanceof n||e instanceof r},l=function(e){var t=["onUpdate","onComplete"];this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=e&&(t.forEach(function(t){this[t]=e[t]}.bind(this)),e.tweens&&e.tweens.forEach(function(e){var t=e.delay();a(e)&&(this.wrapGsap(e),t=i.toMilliseconds(t)),this.addSeekable(e,t,!0)}.bind(this)))};return t.extend(l.prototype,{add:function(e,i,n){return t.isString(e)?void(this.labels[e]=i):(i=t.isString(i)?this.labels[i]:i||0,t.isFunction(e)?(this.insertCallback(this.wrapCallback(e,i)),void this.updateDuration(i)):(a(e)&&this.wrapGsap(e),void(t.isFunction(e.stepAnimation)&&this.addSeekable(e,i,n))))},remove:function(e){if(t.isString(e))return void delete this.labels[e];var i,n,r,s;null!=e.timelineData&&(i=e.timelineData.seekableId,n=o(this.callbacks,i),n>=0&&(this.callbacks.splice(n,1),r=o(this.seekables,i),r>=0&&(this.seekables.splice(r,1),s=o(this.activeSeekables,i),s>=0&&(this.activeMutated=!0,this.activeSeekables.splice(s,1)))),e.timelineData=null,this.mutated=!0)},updateDuration:function(e){e>this.duration&&(this.duration=e,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(e){this.updateDuration(e.timelineData.startTime+e.totalTime())},wrapGsap:function(e){e.pause(),e.totalTime=function(){return i.toMilliseconds(e.duration())},e.stepAnimation=function(t,n){var r=i.toSeconds(t);e.seek(r,!0),e.render(r,!!n,!0)}},addSeekable:function(e,t,n){var r=e.totalTime(),s=i.clamp(0,r,this.currentTime-t),o=this.wrapSeekable(e,t);this.seekables.push(o),this.insertCallback(o),!n&&this.currentTime>=t&&((this.executingCallbacks||r>=s)&&o.timelineCallback(),this.executingCallbacks||e.stepAnimation(s)),this.updateDuration(t+e.totalTime())},wrapCallback:function(e,i){return{startTime:i,id:t.uniqueId("wc"),timelineCallback:e}},wrapSeekable:function(e,i){var n=t.uniqueId("ws"),r={startTime:i,id:n,seekable:e};return r.timelineCallback=function(){r.seekable.killed||this.activeSeekables.push(r)}.bind(this),e.timelineData={parent:this,seekableId:n,startTime:i},r},insertCallback:function(e){return 0===this.callbacks.length||e.startTime>=t.last(this.callbacks).startTime?void this.callbacks.push(e):void this.callbacks.splice(t.sortedLastIndex(this.callbacks,e,"startTime"),0,e)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:s.time()-this.startTime)},play:function(){this.playing||this.hasParentTimeline()||(this.playing=!0,this.startTime=s.time()-this.currentTime,s.requestAnimationFrame(this.tick.bind(this)))},seek:function(e,t){this.hasParentTimeline()||(e<=this.lastCallbackTime&&this.reset(),this.startTime=s.time()-e,this.currentTime=e,this.executingCallbacks&&!this.renderDirty||this.update(t))},reset:function(){this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach(function(e){null!=e.seekable.reset&&e.seekable.reset()})},progress:function(e,t){return null==e?i.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(e*this.duration,t),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return i.clamp(0,this.duration,this.currentTime)},totalTime:function(e){return null==e?this.duration:void(this.duration=e)},tick:function(){var e;this.killed||(e=this.currentTime,this.currentTime=s.time()-this.startTime,this.playing&&(e<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),s.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(e,t){this.currentTime;this.currentTime=i.clamp(0,this.duration,e),this.update(t)},update:function(e){this.renderDirty=!1,this.executeCallbacks()&&(this.updateActiveSeekables(e),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,e||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var e=t.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(e>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var i=this.callbacks.slice(e),n=i.length,r=0,s=this.currentTime;!this.killed&&n>r&&i[r].startTime<=s;){if(this.lastCallbackTime=i[r].startTime,i[r].timelineCallback(),s>this.currentTime)return this.executingCallbacks=!1,!1;s=this.currentTime,r++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(e){var t,i,n,r=this.activeSeekables.length-1;for(this.activeMutated=!1;r>=0&&!this.killed;)(!this.activeMutated||r<this.activeSeekables.length)&&(n=this.activeSeekables[r],t=n.seekable,i=n.startTime,t.stepAnimation(this.currentTime-i,e),this.currentTime>=i+t.totalTime()&&(!this.activeMutated||n===this.activeSeekables[r])&&this.activeSeekables.splice(r,1)),r--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach(function(e){null!=e.seekable.kill&&e.seekable.kill()}),this.seekables=null)}}),l}),define("polyfills/fills/rangeSliders",["require","lodash"],function(e){"use strict";var t=e("lodash"),i="allowTheChangeEventToPropagate",n=function(e,n){var r=document.createEvent("Event");r.initEvent("change",!0,!0),t.defaults(r,n),Object.defineProperty(r,i,{value:!0}),e.dispatchEvent(r),document.removeEventListener("mouseup",e.fireChangeEvent)},r={patchEvents:function(){document.addEventListener("change",function(e){var r,s;e[i]||"range"!==e.target.getAttribute("type")||(e.stopPropagation(),r=document.createEvent("Event"),r.initEvent("input",!0,!0),t.defaults(r,e),e.target.dispatchEvent(r),document.removeEventListener("mouseup",e.target.fireChangeEvent),s=t.partial(n,e.target),e.target.fireChangeEvent=s,document.addEventListener("mouseup",s))},!0)}};return r}),define("polyfills/vendorOverrides",["require","jquery","lodash","react","react-dom","polyfills/detection","helpers/svg/svgUtils","polyfills/fills/rangeSliders","tween-lite","helpers/windowManager","helpers/captionsManager","helpers/constants","helpers/stringTabler","helpers/vow","helpers/utils","helpers/pubSub"],function(e){"use strict";var t=(e("jquery"),e("lodash")),i=e("react"),n=(e("react-dom"),e("polyfills/detection")),r=e("helpers/svg/svgUtils"),s=e("polyfills/fills/rangeSliders"),o=e("tween-lite"),a=(e("helpers/windowManager"),e("helpers/captionsManager")),l=e("helpers/constants"),u=e("helpers/stringTabler"),c=(e("helpers/vow"),e("helpers/utils")),h=e("helpers/pubSub"),p={},d=function(e){e.style.display="inline-block";e.offsetHeight;e.style.display=""},f=function(e,t){var i,n;null!=t&&t.length>0&&(i=e.addTextTrack("captions",u.getString("closed_captions"),""),i.mode=a.isCaptionButtonToggled()?"showing":"hidden",t.forEach(function(e){n=new window.VTTCue(e.startTime,e.endTime,e.text.cueSource),n.line=12,i.addCue(n)}))};return n.isWebKit()&&(p.forceSingleRepaint=function(e){d(e)},p.forceRepaint=function(e,t){return o.to(e,t,{onUpdate:function(){d(e)},onComplete:function(){d(e)}})},p.fixTspan=function(e,i){var n=e.y;return t.range(1,i.length).forEach(function(){e.y+=" "+n}),e},p.handleWillChange=function(e){e.willChange="opacity"}),n.isIE()&&(s.patchEvents(),p.mouseOver=function(){return"mouseover"},p.elementsFromPoint=function(e,i,n){return t(document.msElementsFromPoint(e,i)).filter(n).value()},p.wrapTspan=function(e,n,s){var o,a,l,u,c=[],h=s.x.split(" "),p=s.y,d=t.get(s,"children[0]","").split("");return delete n.x,delete n.y,d.forEach(function(e,t){o=i.createElement("tspan",null,e),a=i.createElement("text",n,o),l=h[t]?h[t]:h[0],u=i.createElement("g",{transform:r.transformTranslate(l,p),key:t},a),c.push(u)}),i.createElement("g",{key:n.key},c)}),(n.isIE()||n.isEdge())&&(p.stopColorProps=function(e){return{stopColor:c.toRgba(e.rgb,e.alpha)}}),n.isMobile&&(p.positionCaptions=function(e){if("portrait"===n.orientation){var t=document.querySelector(".slide-container"),i=t.getBoundingClientRect(),r=window.innerHeight,s=(r-l.MOBILE_UI_SIZE-i.bottom)/2;e.style.top=c.pxify(i.bottom+s),e.classList.add("caption--centered")}else e.classList.remove("caption--centered"),e.style.top="auto"},h.on("detection:orientationChange",function(){var e=document.querySelector(".caption");null!=e&&p.positionCaptions(e)})),n.isAndroid&&(p.getAudioInitEvent=function(){return"click"}),n.isIOS()&&(p.destroyAudioContext=t.noop,p.detectVisibilityChange=function(){var e,t=2e3,i=500,n=900,r=(new Date).getTime(),s=!1,o=!1;setInterval(function(){var i=(new Date).getTime(),a=i-r,l=s;r=i,s=a>=n,!l&&s?e=i:l&&s&&!o&&i-e>=t?(o=!0,h.trigger("detection:visibilityhidden")):l&&!s&&(o=!1,h.trigger("detection:visibilityshown"))},i)},p.onOpenWindow=function(e,i,n){var r=t.get(i,"eventType"),s=t.get(i,"context.currView.el");"onpress"===r&&null!=s?s.addEventListener("touchend",function o(){n(),s.removeEventListener("touchend",o)}):n()},p.handleWillChange=function(e){e.willChange="unset"},n.isUIWebView()&&(p.registerAudioInitEvent=function(e,t,i,n){if(n.props.model.isKind("button")){var r=e(t,"click",function(){return!0},i);return[{teardown:r}]}},p.getAudioInitEvent=function(){return"click"})),n.isIosPhoneBefore10()&&(p.buildCaptionTracks=function(e,t){a.hasCaptions(t)&&f(e,a.getCaptions(t))},p.onCaptionsEnabled=function(e){h.on("captions:enable",e)},p.offCaptionsEnabled=function(e){h.off("captions:enable",e)}),p.moveVarTextOutOfSvg=function(e){var i=[],n={nodeType:"variableText"},s=function(e){return t.remove(e.children,n)},o=function(e){return i=i.concat(s(e)),e},a=function(e){if(0===i.length)return e;var t={nodeType:"div",className:"textlib-wrapper"};return t.children=i.slice(),t.children.push(e),t};return o.afterFinish=a,r.transformNodeConfig(o,e)},p.unwrapForeignObjectVarText=function(e){var t=e.children[0];return t},p}),define("helpers/slideThumb",["require","helpers/windowManager","lodash"],function(e){"use strict";var t=e("helpers/windowManager"),i=e("lodash"),n=function(e,t){return'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/main.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+e+"px; height: "+t+'px; } </style> </head> <body> <div class="slide-thumb">'},r=function(e,t){return'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+t+", slideW = "+e+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); </script> </body></html>'},s=/data-reactid="(.*?)"/g,o=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g,a="-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;",l={createVideoThumb:function(e){var t=document.createElement("canvas"),i=t.getContext("2d");return t.width=parseFloat(e.parentNode.style.width),t.height=parseFloat(e.parentNode.style.height),i.drawImage(e,0,0,t.width,t.height),{uri:t.toDataURL("image/jpeg",.8),src:e.src}},addVideoImageThumbs:function(e,t){var n={};return i(e).map(this.createVideoThumb).forEach(function(e){n[e.src]=e.uri}).value(),t.replace(/<video(.*?)<\/video>/g,function(e){var t,i=document.createElement("div");return i.innerHTML=e,t=i.querySelector("video").src,['<img src="',n[t],'"/>'].join("")})},generate:function(){var e,i,l,u,c,h,p=t.getCurrentWindow().getCurSlide(),d="";return null!=p?(e=p.el.innerHTML,i=p.props.model.get("width"),l=p.props.model.get("height"),e=e.replace(s,"").replace(o,a),h=document.querySelectorAll("video"),h.length>0&&(e=this.addVideoImageThumbs(h,e)),u=document.getElementById("svg-library"),c=document.getElementById("mask-library"),null!=u&&(d+=u.outerHTML),null!=c&&(d+=c.outerHTML),{width:i,height:l,html:[n(i,l),e,d,r(i,l)].join("")}):{html:null}}};return l}),define("helpers/automation",["require","lodash","timeline-lite","helpers/AnimationTimeline","helpers/pubSub","helpers/utils","helpers/actionator","polyfills/vendorOverrides","helpers/slideThumb","helpers/resume/courseStateHelper"],function(e){"use strict";var t,i,n,r=e("lodash"),s=e("timeline-lite"),o=e("helpers/AnimationTimeline"),a=e("helpers/pubSub"),l=e("helpers/utils"),u=(e("helpers/actionator"),e("polyfills/vendorOverrides"),e("helpers/slideThumb")),c=e("helpers/resume/courseStateHelper"),h=0,p={},d={},f="started",m="playing",g=window.vInterfaceObject||window,v={mainWindow:null,updateTime:function(e){var n,r=this.mainWindow.state.currentSlide,s=this.mainWindow.getCurSlide(),o=s.transition;t!==r&&(t=r,i=h),n=t.fullId(),o&&!d[n]?s.seekTransition(e-i):(d[n]===f&&(i=h,d[n]=m),t.getBaseLayer().timeline().seek(e-i).trigger("playing",{override:!0})),h=e},nextSlide:function(){var e=n.shift();e&&a.trigger("nextSlide:requesting",l.prefixWithPlayer(e))}},y={silenceActions:{trigger_next_slide:!1},initialize:function(e,t){var i=l.parseParams();if("1"===i.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0),window.autoSpider){document.body.addEventListener("mousedown",this.onPlayerClicked.bind(this)),document.body.addEventListener("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=t.display().width(),window.g_nHeight=t.display().height(),"1"===i.overrideclock&&(s.prototype.play=r.noop,o.prototype.play=r.noop);var h=function(e){return!/^MsgScene|^PromptScene/.test(e)};n=r(t.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(h).tap(function(t){t.forEach(function(t){var i=e.getSlide(l.prefixWithPlayer(t)),n=i.get("showAnimationId");null!=n&&(p[n]=t)})}).rest().value();var d={playerTime:0,type:"dark-spider",AutoUpdateTime:function(){this.UpdateAutomationTime(this.playerTime),this.playerTime+=500},UpdateAutomationTime:function(e){v.updateTime(e)},TriggerNextSlide:function(){v.nextSlide()},CaptureSlideImage:function(){return u.generate()},GetCourseStateData:function(){return c.getState()},GetTargetDuration:function(t){var i=p[t];return i?e.getSlide(l.prefixWithPlayer(i)).getTransitionAnimation().duration():e.getSlide(l.prefixWithPlayer(t)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return d},r.bindAll(this,"onSlideStarted","onSlideTransition","onMainWindowCreated","onEnterFullscreen","onExitFullscreen"),a.on({"slide:started":this.onSlideStarted,"slide:transitionStarted":this.onSlideTransition,"layer:timelineActived":this.onLayerTimelineActivated,"mainWindow:created":this.onMainWindowCreated,"presentation:enterFullscreen":this.onEnterFullscreen,"presentation:exitFullscreen":this.onExitFullscreen})}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(e){v.mainWindow=e,this.callIfExists("AutomationReady")},onSlideTransition:function(e,t){this.callIfExists("OnSlideTransition",e,t)},onSlideStarted:function(e){d[e]=f,this.callIfExists("OnSlideStarted",e)},onLayerTimelineActivated:function(e){if(e.isBaseLayer()){var t=e.getClosestAncestorByKind("slide").absoluteId;y.onSlideStarted(l.stripPlayer(t))}},callIfExists:function(e){var t=g[e];"function"==typeof t&&t.apply(g,r.rest(arguments))}};return y}),define("helpers/Iterable",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e){return function(){var t=e.length,i=0;return{next:function(){return i===t?{done:!0}:{value:e[i++],done:!1}}}}},n=function(e){t.isArray(e)?(this.iterator=i(e),this.arr=e):this.iterator=e};return n.empty=new n([]),t.extend(n.prototype,{toArray:function(){if(null!=this.arr)return this.arr;var e=[];return this.forEach(function(t){e.push(t)}),this.arr=e,e},forEach:function(e){for(var t,i,r=this.iterator(),s=0,o=[];!(t=r.next()).done&&i!==!1;)i=e(t.value,s++,this),o.push(t.value);return new n(o)},map:function(e){return new n(function(){var t=this.iterator(),i=0;return{next:function(){var n=t.next();return n.done?{done:!0}:{value:e(n.value,i++,this),done:!1}}.bind(this)}}.bind(this))},filter:function(e){return new n(function(){var t=this.iterator(),i=0;return{next:function n(){var r=t.next();return r.done?{done:!0}:e(r.value,i++,this)?{value:r.value,done:!1}:n.call(this)}.bind(this)}}.bind(this))},some:function(e){var t=!1;return this.forEach(function(i,n){return t=!!e(i,n,this),!t}.bind(this)),t},flatten:function(){return new n(function(){var e=this.iterator(),i=[];return{next:function r(){var s=e.next(),o=s.value;return s.done?(e=i.pop(),null==e?{done:!0}:r.call(this)):(t.isArray(o)&&(o=new n(o)),o instanceof n?(i.push(e),e=o.iterator(),r.call(this)):s)}.bind(this)}}.bind(this))}}),n}),define("helpers/actionManager",["require","lodash","backbone","helpers/utils","helpers/debug","helpers/errorManager","helpers/pubSub","helpers/resolver","helpers/actionator","helpers/conditioner","helpers/mixer","mixins/shortEventable","mixins/actionable","helpers/automation","helpers/constants","helpers/Iterable"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),r=e("helpers/debug"),s=e("helpers/errorManager"),o=(e("helpers/pubSub"),e("helpers/resolver")),a=e("helpers/actionator"),l=e("helpers/conditioner"),u=e("helpers/mixer"),c=e("mixins/shortEventable"),h=e("mixins/actionable"),p=e("helpers/automation"),d=e("helpers/constants"),f=e("helpers/Iterable"),m=s.throwError("actionManager"),g=s.warn("actionManager"),v=s.backtick,y="Cannot execute action without a context:",b=function(e){var i="action:",n=e.shortEvents,r=n&&n.self;return t.keys(r).filter(function(e){return 0===e.indexOf(i)}).map(function(e){return e.replace(i,"")})},w={global:null,meta:null},S=function(e,i){var n=w[e];return t.contains(n,i.kind)},x=t.partial(S,"global"),T=t.partial(S,"meta"),C=function(e){
var i=["gotoplay","history_prev","playnextdrawslide","nextunansweredslide","nextunsubmittedslide","nextviewedslide","history_prev_scene","history_prev_group"];return t.contains(i,e.kind)},P=function(e,t){var i=t.context,n=k(e,t);return!!n&&o.resolvePath(n.replace(/^\./,""),i,{optional:!0})},E=function(e,i){return t.mapValues(e.params||{},function(e){return o.getRef(e,i.context,i)})},_=function(e,i,n){var r,s=e;return null!=i.scopeRef&&(t.isArray(e)?s=e.map(function(e){var t=o.getRef(i.scopeRef,e,n);return 0===i.id.indexOf(d.CHILDREN)&&t===d.CHILDREN?e:o.resolvePath(t,e)}):(r=o.getRef(i.scopeRef,n.context,n),s="_owner"===r?e:o.resolvePath(r,n.context))),s},k=function(){var e=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value","startslideid","scrollref"],i=function(e,i,n){var r=e[i];return t.isPlainObject(r)?o.getRef(r,n.context,n):r};return function(n,r){var s;return t.find(e,function(e){return s=i(n,e,r)}),s}}(),A=function(e,i){var n=o.splitPath(e.id),r=t.last(n),s=o.joinPath(t.initial(n)),a=s?o.resolvePath(s,i.context):i.context,l=_(a,e,i),u=t.isArray(a)?a:[a],c=u.map(function(e){return o.resolvePath(r,e,{optional:"_children"===t.first(n)})}),h=t.isArray(l)?l:[l];return 1===c.length&&h.length>1&&h.forEach(function(e,t){u[t]=u[t]||u[0],c[t]=c[t]||c[0]}),new f(c).map(function(n,r){if(null!=n){var s=t.defaults({context:h[r]},i),o=t.defaults({context:u[r]},i);return s.params=E(e,o),{actions:n.actions,data:s}}}.bind(this)).filter(t.identity)},R=function(e,t){var i=l.evaluateAction(e,t),n=i?"thenActions":"elseActions",r=e[n];return r},M={exe_actiongroup:function(e,t){return A(e,t).map(function(e){return I.traceActions(e.actions,e.data)}).flatten()},if_action:function(e,t){return I.traceActions(R(e,t),t)}},I={mixins:[h,c,i.Events],shortEvents:{self:{"action:exe_actiongroup":"executeActionGroup","action:if_action":"evaluateConditional","action:foreach":"executeLoop","action:debug_trace":"logDebugMessage","action:debug_error":"logErrorMessage"}},executeActions:function(e,i){var n,r,s=0,o=e.length,a=!1;if(o>0)do n=e[s],a&&"close_window"!==n.kind?g("executeActions","skip action:",n.id):(this.slideJumpPerformed=!1,r=t.clone(i),this.executeAction(n,r),i.cancel=r.cancel,a=C(n)||a||this.slideJumpPerformed);while(++s<o);return this.slideJumpPerformed=a,this},executeAction:function(e,i){if(p.silenceActions[e.kind]!==!0){i&&i.context||m("executeAction",y,v(e.kind));var r,s,o;return"close_window"!==e.kind&&i.context.isAncestral&&(o=i.context.getClosestAncestorByKind("slide",!0),t.get(o,"destroyed"))?(g("executeActions","skip action:",e.id),this):(r=P(e,i),s=x(e)?a:T(e)?I:r,s||m("executeAction","the object",n.doubleQuote(k(e,i)),"does not exist in this scope:",n.doubleQuote(n.stripPlayer(i.context.absoluteId||"")),"to execute the action",v(e.kind)),i.actionTarget=r,n.applyMethod("triggerAction",s,e,i),this)}},executeActionGroup:function(e,t){return A(e,t).forEach(function(e){var i=e.actions,n=e.data;this.executeActions(i,n),n.cancel&&(t.cancel=n.cancel)}.bind(this)),this},evaluateConditional:function(e,t){var i=R(e,t);return i&&this.executeActions(i,t),this},executeLoop:function(e,i){e.iterables.forEach(function(n){var r=t.defaults({iterables:n.valueref},i);I.executeActions(e.actions,r)})},logMessage:function(e,t,i){if(r.debugMode){var n="debug"===e,s=n?"log":"error";console[s](e.toUpperCase()+":",t.message),n||r.throwError()}},traceActions:function(e,t){return null==e?f.empty:new f(e).map(function(e){var i=M[e.kind];return null!=i?i(e,t):[e]}).flatten()},isJumpAction:C};return I.logDebugMessage=t.partial(I.logMessage,"debug"),I.logErrorMessage=t.partial(I.logMessage,"error"),u.mix(I),u.initMixinsOf(I),w.global=b(a),w.meta=b(I),I}),define("views/mixins/swipeable",["require","lodash","helpers/cssPrefix","helpers/constants","polyfills/detection","views/helpers/dom","helpers/slideObjectUtils","helpers/utils","helpers/svg/svgUtils","helpers/pubSub","helpers/windowManager","helpers/GsapTweenLite","timeline-lite","helpers/actionManager","helpers/appState","ease-pack"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/cssPrefix"),e("helpers/constants")),n=(e("polyfills/detection"),e("views/helpers/dom")),r=e("helpers/slideObjectUtils"),s=e("helpers/utils"),o=e("helpers/svg/svgUtils"),a=e("helpers/pubSub"),l=e("helpers/windowManager"),u=e("helpers/GsapTweenLite"),c=e("timeline-lite"),h=e("helpers/actionManager"),p=e("helpers/appState");e("ease-pack");var d,f=300,m=100,g=40,v=i.math.QUARTER_PI,y=i.math.THREE_QUARTER_PI,b=1,w=2,S=3,x=4,T="#212121",C={};C[x]="onprevslide",C[w]="onnextslide";var P=!1;a.once("player:menuOptions",function(e){d=e.get("flow")});var E=function(e){return"free"===d&&r.isMobileSlide(e)&&null==e.props.slideFrame&&!e.props.slideContainer.props.lightboxed},_=function(){var e=P;return P=!1,e},k={DIRECTION_UP:b,DIRECTION_RIGHT:w,DIRECTION_DOWN:S,DIRECTION_LEFT:x,componentWillMount:function(){this.swipe={swiping:!1,wasSwiped:_,swipeBehavior:E}},componentDidMount:function(){var e=this.el;this.swipe.swipeBehavior(this)&&(this.calcCancelTolerance().hasPrevNextActions().getWidthHeight().getNextEl(),e.addEventListener("touchstart",this.onSwipeableTouchStart,!0),e.addEventListener("touchmove",this.onSwipeableTouchMove),e.addEventListener("touchend",this.onSwipeableTouchEnd),window.addEventListener("popstate",this.onPopState),this.listenTo(p,"layout:changed",this.hasPrevNextActions))},componentWillUnmount:function(){var e=this.el;this.swipe.swipeBehavior(this)&&(e.removeEventListener("touchstart",this.onSwipeableTouchStart),e.removeEventListener("touchmove",this.onSwipeableTouchMove),e.removeEventListener("touchend",this.onSwipeableTouchEnd),window.removeEventListener("popstate",this.onPopState))},getWidthHeight:function(){return this.swipe.width=this.props.model.get("width"),this.swipe.height=this.props.model.get("height"),this},getNextEl:function(){var e=this.el.parentNode,t=e.parentNode;return this.swipe.nextEl=t.querySelector(".swipe-transition-container"),this},onSwipeableTouchStart:function(e){var t,i=this.swipe;this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.startX=t.pageX,i.startY=t.pageY,i.startTime=(new Date).getTime(),i.duration=null,i.cancelled=!1,i.willJump=!1)},onSwipeableTouchMove:function(e){var t,i=this.swipe,n=i.direction;this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.x=t.pageX,i.y=t.pageY,this.swipe.swiping=!0,i.direction=this.getSwipeDirection(),n!==i.direction&&this.determineSwipeActions(),i.direction===x?this.animateSwipe().followDir(!1,x):i.direction===w&&this.animateSwipe().followDir(!1,w))},determineSwipeActions:function(){var e=this.swipe,i=this.props.model.tracePlayerEvent(C[e.direction]),n=l.getCurrentWindow();return t.extend(e,{cancelled:!0,willJump:!0}),i.forEach(function(t){return e.willJump=h.isJumpAction(t)&&("gotoplay"!==t.kind||t.window===n.id||"_current"===t.window),e.cancelled=!e.willJump||!("history_prev"!==t.kind||n.getPrevSlide()),e.cancelled}),this},onPopState:function(){this.resetSwipe()},calcCancelTolerance:function(){return this.swipe.cancelTolerance=this.props.model.get("width")/2,this},hasPrevNextActions:function(){var e=p.currentLayout();return this.swipe.canSwipeLeft=e.swipeleft,this.swipe.canSwipeRight=e.swiperight,this},resetSwipe:function(){var e=this.el;e.style[this.cssTransform]="",t.toArray(document.querySelectorAll(".slide-transition-container")).forEach(function(e){e.style[this.cssTransform]=""}.bind(this)),this.onSwipeableTouchEnd(),this.killLoader()},restricted:function(){return this.swipe.cancelled||!this.swipe.canSwipeLeft&&this.swipe.direction===x||!this.swipe.canSwipeRight&&this.swipe.direction===w},forceShowNextLoader:function(){this.swipe.rampShow=!0,this.showNextLoader()},showNextLoader:function(e,t){var i;t&&!this.swipe.rampTimeout&&(this.swipe.rampTimeout=setTimeout(function(){this.swipe.rampShow=!0,this.swipe.rampTimeout=null}.bind(this),300)),i={visibility:"visible",display:"block",backgroundColor:"transparent",opacity:this.restricted()||!this.swipe.rampShow?0:1},i[this.cssTransform]=e,this.props.slideContainer.setLoaderStyle(i)},getPadding:function(){var e=this.props.model.parentTransform;return Math.max(2*e.xOff,g)},followDir:function(e,t){var i,r,a,l=this.props.model.parentTransform,u=this.swipe.width+this.getPadding(),c=t===x?-u:u;e&&(i=this.el.getBoundingClientRect(),this.swipe.currX=(i.left-l.xOff)*this.props.model.calculateTotalScale()),this.swipe.nextEl&&(this.swipe.lastDir=t,a=this.swipe.currX+c,r=o.transformTranslate(s.pxify(a),s.pxify(0)),this.restricted()||(n.setStyles(this.swipe.nextEl,{width:s.pxify(this.swipe.width),height:s.pxify(this.swipe.height)}),this.swipe.nextEl.style[this.cssTransform]=r,this.swipe.nextEl.style.background=T),this.showNextLoader(r,Math.abs(a)<this.swipe.width/2))},onSwipeableTouchEnd:function(){var e,t,i=this.swipe,n=i.direction;return i.duration=(new Date).getTime()-i.startTime,this.swipe.cancelled||!this.swipe.canSwipeLeft&&n===x||!this.swipe.canSwipeRight&&n===w?void this.endSwipe(n,!1):void(i.swiping&&(e=this.getSwipeLength(),t=this.speedSwipe(e),t||e>this.swipe.cancelTolerance?(this.endSwipe(n,!0),t&&this.forceShowNextLoader()):this.endSwipe()))},speedSwipe:function(e){var t=this.swipe.duration;return f>t&&e>m},doSwipe:function(e){var i={};return i[x]=this.swipe.canSwipeLeft?this.onSwipeLeft:t.noop,i[w]=this.swipe.canSwipeRight?this.onSwipeRight:t.noop,i.hasOwnProperty(e)&&i[e](),this},onSwipeRight:function(){this.props.model.executePlayerEvent(C[w]),P=!0,this.swipe.isNavigating=!0},onSwipeLeft:function(){this.props.model.executePlayerEvent(C[x]),P=!0,this.swipe.isNavigating=!0},shouldSwipe:function(e){var t=this.props.model.pinchZoomScale,i=null!=t&&1!==t;return!(r.isScrollRelated(e)||r.isDraggableRelated(e)||r.isRotatableRelated(e)||r.isSlideableRelated(e)||i)},endSwipe:function(e,t){this.swipe.swiping=!1,delete this.swipe.direction,this.animateSwipeEnd(e,t)},getSwipeLength:function(){var e=this.swipe,t=s.dist(e.startX,e.startY,e.x,e.y)*this.props.model.calculateTotalScale();return t},getSwipeDirection:function(){var e=this.swipe,t=Math.atan2(e.startY-e.y,e.startX-e.x),i=Math.abs(t);return v>=i?w:t>v&&y>=t?b:-v>t&&t>=-y?S:x},animateSwipe:function(e){var t=this.el,i=this.swipe,n=i.startX-i.x,r=0>n?-1:1,s=e||-(Math.abs(n)*r*this.props.model.calculateTotalScale());return this.restricted()&&(s*=i.willJump?.1:.5*Cubic.easeOut.getRatio(Math.abs(n)/document.body.clientWidth)),u.set(t,{x:s}),this.swipe.currX=s,this},killLoader:function(){var e={visibility:null,opacity:null,display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)"};e[this.cssTransform]=null,this.props.slideContainer.setLoaderStyle(e)},swipeEndRight:function(){this.followDir(!0,w),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndRight)},swipeEndLeft:function(){this.followDir(!0,x),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndLeft)},animateSwipeEnd:function(e,t){var i,n,r,o=this.el,l=0;t?(r=this.getSuccessSwipeTween(e),n=e===w?this.swipeEndRight:this.swipeEndLeft):(n=this.swipe.lastDir===w?this.swipeEndRight:this.swipeEndLeft,r=this.getFailedSwipeTween(e)),i=s.toMilliseconds(r.duration()),this.swipe.updateNextSlide=window.requestAnimationFrame(n),r.play(),window.clearTimeout(this.swipe.resetTransform),this.swipe.resetTransform=window.setTimeout(function(){o.style[this.cssTransitionDuration]="0s",window.cancelAnimationFrame(this.swipe.updateNextSlide),this.doSwipe(e),t?(this.forceShowNextLoader(),a.once("loader:hide",function(){o.style[this.cssTransform]="",o.style.opacity=0,this.resetNextEl(),this.killLoader()}.bind(this))):this.resetNextEl()}.bind(this),i+l)},getSuccessSwipeTween:function(e){var t,i=this.swipe.width+this.getPadding(),n=new c;return e===w?t=-i:e===x&&(t=i),n.add(u.to(this.el,.25,{x:t,ease:"Sine.easeOut"})),n},getFailedSwipeTween:function(e){var t,i,n=this.el,r=this.swipe,o=new c;return!r.willJump&&this.speedSwipe(this.getSwipeLength())?(i=Math.max(.2,s.toSeconds(r.duration)),t=Math.min(Math.abs(r.startX-r.x),r.width*(r.willJump?.1:.5)),o.add([u.to(n,i,{x:t*(e===w?-1:1),ease:"Cubic.easeOut"}),u.to(n,2*i,{x:0,ease:"Cubic.easeOut"})],0,"sequence")):o.add(u.to(n,.25,{x:0,ease:"Sine.easeOut"})),o},resetNextEl:function(){this.swipe.nextEl&&(this.swipe.nextEl.style[this.cssTransform]="",n.setStyles(this.swipe.nextEl,{width:null,height:null,background:null}))}};return k}),define("helpers/svg/masks/Mask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("views/helpers/dom"),r=(e("helpers/TransMatrix"),e("helpers/utils"),function(e,t){this.maskProps=t,this.shapeProps=e,this.createSvg(e),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn())});return t.extend(r.prototype,{setupAnimation:t.noop,animate:t.noop,getDirection:function(){return this.maskProps.direction},isExit:function(){return this.maskProps.isExit},createSvg:function(e){return this.width=e.rotatedBounds.right-e.rotatedBounds.left+2,this.height=e.rotatedBounds.bottom-e.rotatedBounds.top+2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.maskId=t.uniqueId("mask-"),this.maskNode=i.createSvgNode(this.width,this.height),this.clipPath=i.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.maskNode.appendChild(this.clipPath),this.clipShape=n.setAttributes(i.createElement("path"),{"clip-rule":"evenodd"}),this.transformSvg(e),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=i.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},transformSvg:function(e){var t=i.transformRotate(-e.globalRotation.x,e.regPoint.x-e.rotatedBounds.left,e.regPoint.y-e.rotatedBounds.top),n=i.transformTranslate(e.rotatedBounds.left-e.maskableOffset.x,e.rotatedBounds.top-e.maskableOffset.y);this.clipShape.setAttribute("transform",[n,t].join(" "))},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),r}),define("helpers/svg/masks/CheckerboardMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){var e,t,i,n,r,s,o="across"===this.direction,a=10,l=14,u=o?a/2:a,c=o?l:l/2,h=function(e){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*e*this.finalHeight+this.finalHeight}:{x:2*e*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=o,this.finalWidth=this.width/u,this.finalHeight=this.height/c,this.points=[],e=a*l/2;e--;)t=e%a,i=t%u,n=Math.floor(e/u),this.isHorizontal?(r=u>t?0:this.finalWidth/2,s=0):(r=0,s=i%2?this.finalHeight/2:0),this.points[e]={x:i*this.finalWidth+r,y:n*this.finalHeight+s};for(e=this.isHorizontal?c:u;e--;)this.points.push(h(e))},animate:function(e){var t=this.isHorizontal?e:1,n=this.isHorizontal?1:e,r=this.points.map(function(e){return i.rectPath(e.x,e.y,this.finalWidth*t,this.finalHeight*n)}.bind(this));this.clipShape.setAttribute("d",r.join(" "))}}),r}),define("helpers/svg/masks/CircleMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(e){e*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*e,this.halfHeight*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(e){this.drawCircle(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/BoxMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(e){var t=this.halfWidth-this.halfWidth*e,n=this.halfHeight-this.halfHeight*e,r=this.width*e,s=this.height*e;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.rectPath(t,n,r,s)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(e){this.drawBox(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/FullMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=(e("helpers/utils"),function(e,t){n.call(this,e,t)});return t.extend(r.prototype,n.prototype,{drawBox:function(e,t,n,r){(this.width-this.shapeProps.size.x)/2,(this.height-this.shapeProps.size.y)/2;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.rectPath(-(n.x-t.x),-(n.y-t.y),this.width,this.height)].join(" "))},getAnimateFn:function(){return this.drawBox}}),r}),define("helpers/svg/masks/DiamondMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{drawDiamond:function(e){var t=r.invertPercent(e),n=this.width*t-this.halfWidth,s=this.height*t-this.halfHeight;e*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.diamondPath(n,s,this.width*e,this.height*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(e){this.drawDiamond(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/BlindsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){var e;this.numBlinds=6,e="horizontal"===this.direction?"height":"width",this.blindThickness=this[e]/this.numBlinds},animate:function(e){for(var t,n=[];n.length<this.numBlinds;)t=n.length*this.blindThickness,n.push("horizontal"===this.direction?i.rectPath(0,t,this.width,this.blindThickness*e):i.rectPath(t,0,this.blindThickness*e,this.height));this.clipShape.setAttribute("d",n.join(" "))}}),r}),define("helpers/svg/masks/RandomBarsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/svg/svgUtils"),e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),r=1e3,s=1,o="M 0 0",a=function(e){return Math.max(s,Math.ceil(e)/r)},l=function(e,t){return Math.ceil(e/t)},u=function(e,t,i,n,r){return e?["M",0,r*t,"h",i,"v",t,"h",-i,"Z"].join(" "):["M",r*t,0,"v",n,"h",t,"v",-n,"Z"].join(" ")},c=function(e,t){i.call(this,e,t)};return t.extend(c.prototype,i.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var e="horizontal"===this.direction,i=e?this.height:this.width,n=a(i),r=l(i,n),s=i/r,o=t.partial(u,e,s,this.width,this.height),c=t.range(r).map(o);return this.barPaths=t.shuffle(c),this.barPaths},animate:function(e){var t=Math.round(n.invertPercent(e)*this.getBarPaths().length),i=this.getBarPaths().slice(t).join(" ")||o;this.clipShape.setAttribute("d",this.invertRect+i)}}),c}),define("helpers/svg/masks/SplitMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){var e="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!e:e,this.adjustScale=this.isExit()?r.invertPercent:t.identity},getAnimateFn:function(){return this.isOut?function(e){var t,n=0,s=0;e=this.adjustScale(e),t=r.invertPercent(e),this.clipShape.setAttribute("d",this.isVertical?i.rectPath(t*this.halfWidth,s,this.width*e,this.height):i.rectPath(n,t*this.halfHeight,this.width,this.height*e))}:function(e){var t,n,r=[];e=this.adjustScale(e),this.isVertical?(t=e*this.halfWidth,n=this.height):(t=this.width,n=e*this.halfHeight),r.push(i.rectPath(0,0,t,n)),t*=-1,n*=-1,r.push(i.rectPath(this.width,this.height,t,n)),this.clipShape.setAttribute("d",r.join(" "))}}}),s}),define("helpers/svg/masks/WheelMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e){var t=e.m,i=e.l,n=e.a;return["M",t.x,t.y,"L",i.x,i.y,"A",n.rx,n.ry,n.xRot,n.lgArc,n.sweep,n.x,n.y].join(" ")},o=function(e,t,i,n){var s=360*n-90;return t+e(r.degToRad(s))*i},a=function(e,t,i,n){var r=e+i,s=t+n;return["M",e,t,"L",r,t,r,s,e,s].join(" ")},l=t.partial(o,Math.cos),u=t.partial(o,Math.sin),c=t.partial(l,.5),h=t.partial(u,.5),p=function(e,t){n.call(this,e,t)};return t.extend(p.prototype,n.prototype,{setupAnimation:function(){var e=this.clipShape.getAttribute("transform");this.clipShape.setAttribute("transform",[e,"scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?i.rectPath(0,0,1.1,1.1):""},animate:function(e){this.clipShape.setAttribute("d",1===e?a(0,0,this.width,this.height):this.invertRect+this.calcArcPath(e))},createArcAnimationFunc:function(){var e=this.width,i=this.height,n=this.direction,o=parseInt(this.maskProps.spokes,10),a=r.hypot(e,i),l=a/e/2,u=a/i/2,p=t.range(o).map(function(e){var t=e/o,i=Object.freeze({x:.5,y:.5}),r=Object.freeze({x:c(l,t),y:h(u,t)}),a=Object.defineProperties({},{rx:{value:l},ry:{value:u},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===n?1:-1},x:{value:r.x,writable:!0},y:{value:r.y,writable:!0}});return{initRotDec:t,m:i,l:r,a:a,update:function(e){var t=e+this.initRotDec;return this.a.x=c(l,t),this.a.y=h(u,t),this},toPathCommands:function(){return s(this)}}});return function(e){return p.map(function(t){return t.update(e/o).toPathCommands()}).join(" ")}}}),p}),define("helpers/svg/masks/DissolveMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=255,o=9,a=function(e,t){var i=Math.ceil(e/s),n=Math.ceil(t/s);return{width:Math.max(o,i),height:Math.max(o,n)}},l=function(e,t){n.call(this,e,t)};return t.extend(l.prototype,n.prototype,{setupAnimation:function(){var e,n=a(this.width,this.height),r=Math.ceil(this.height/n.height),s=Math.ceil(this.width/n.width);for(this.grains=[],this.numGrains=r*s,e=this.numGrains;e--;){var o=e%s*n.width,l=Math.floor(e/s)*n.height;this.grains[e]=i.rectPath(o,l,n.width,n.height)}this.grains=t.shuffle(this.grains),this.pathData=""},animate:function(e){for(var t=r.invertPercent(e)*this.numGrains;this.grains.length>t;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),l}),define("helpers/svg/masks/PlusMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{drawPlus:function(e){var t=r.invertPercent(e),n={x:0,y:0,width:this.halfWidth,height:this.halfHeight},s={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},o={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},a={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};n.width=t*this.halfWidth,n.height=t*this.halfHeight,s.x=this.halfWidth+this.halfWidth*e,s.height=n.height,o.width=t*this.halfWidth,o.y=this.halfHeight+this.halfHeight*e,a.x=this.halfWidth+this.halfWidth*e,a.y=o.y,this.clipShape.setAttribute("d",[this.invertRect,i.rectPath(0,0,this.width,this.height),this.inRect,i.rectPath(n.x,n.y,n.width,n.height),i.rectPath(s.x,s.y,s.width,s.height),i.rectPath(o.x,o.y,o.width,o.height),i.rectPath(a.x,a.y,a.width,a.height)].join(" "))},getAnimateFn:function(e){return"out"===this.direction?this.drawPlus:function(e){this.drawPlus(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/WipeMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){t.bindAll(this),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(e,t){t.y=this.height*r.invertPercent(e)},fromTop:function(e,t){t.height=this.height*e},fromLeft:function(e,t){t.width=this.width*e},fromRight:function(e,t){t.x=this.width*r.invertPercent(e)},animate:function(e){var t={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](e,t),this.clipShape.setAttribute("d",this.invertRect+i.rectPath(t.x,t.y,t.width,t.height))}}),s}),define("helpers/svg/masks/StripsMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/svg/masks/Mask"),r=e("helpers/utils"),s=20,o=10,a=30,l=function(e){return Math.max(o,Math.min(a,e,Math.ceil(e/s)))},u=function(e,t){n.call(this,e,t)};return t.extend(u.prototype,n.prototype,{setupAnimation:function(){var e=this.width,t=this.height,i=l(t),n=this.getDirection();this.fromTop="leftdown"===n||"rightdown"===n,this.fromLeft="rightdown"===n||"rightup"===n,this.boxSize=i,this.maxWidth=(Math.ceil(t/i)+Math.ceil(e/i))*i},animate:function(e){for(var t,n,s="",o=this.boxSize,a=this.fromTop?0:this.height,l=this.fromTop?o:-o,u=(this.isExit()?r.invertPercent(e):e)*this.maxWidth;u>0&&a>-o&&a<=this.height;)n=Math.min(u,this.width),t=this.fromLeft?0:this.width-n,s+=i.rectPath(t,a,n,o),a+=l,u-=o;this.clipShape.setAttribute("d",s)}}),u}),define("helpers/svg/masks/WedgeMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/svg/masks/Mask"),r=e("helpers/utils"),s=270,o=90,a=function(e,t){n.call(this,e,t)};return t.extend(a.prototype,n.prototype,{setupAnimation:function(){this.radius=Math.ceil(r.dist(0,0,this.halfWidth,this.halfHeight)),this.startingAngle=this.isExit()?o:s},animate:function(e){var t=180*(this.isExit()?r.invertPercent(e):e),n=180!==t?i.wheelPath(this.halfWidth,this.halfHeight,this.radius,this.startingAngle-t,this.startingAngle+t):i.rectPath(0,0,this.width,this.height);this.clipShape.setAttribute("d",n)}}),a}),define("views/helpers/TweenHelper",["require","lodash","helpers/utils","helpers/TransMatrix","views/helpers/dom","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/errorManager","helpers/svg/masks/CheckerboardMask","helpers/svg/masks/CircleMask","helpers/svg/masks/BoxMask","helpers/svg/masks/FullMask","helpers/svg/masks/DiamondMask","helpers/svg/masks/BlindsMask","helpers/svg/masks/RandomBarsMask","helpers/svg/masks/SplitMask","helpers/svg/masks/WheelMask","helpers/svg/masks/DissolveMask","helpers/svg/masks/PlusMask","helpers/svg/masks/WipeMask","helpers/svg/masks/StripsMask","helpers/svg/masks/WedgeMask","helpers/cssPrefix","polyfills/detection","backbone","tween-lite","ease-pack"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/TransMatrix"),r=e("views/helpers/dom"),s=e("helpers/svg/svgUtils"),o=e("polyfills/vendorOverrides"),a=e("helpers/errorManager"),l=e("helpers/svg/masks/CheckerboardMask"),u=e("helpers/svg/masks/CircleMask"),c=e("helpers/svg/masks/BoxMask"),h=e("helpers/svg/masks/FullMask"),p=e("helpers/svg/masks/DiamondMask"),d=e("helpers/svg/masks/BlindsMask"),f=e("helpers/svg/masks/RandomBarsMask"),m=e("helpers/svg/masks/SplitMask"),g=e("helpers/svg/masks/WheelMask"),v=e("helpers/svg/masks/DissolveMask"),y=e("helpers/svg/masks/PlusMask"),b=e("helpers/svg/masks/WipeMask"),w=e("helpers/svg/masks/StripsMask"),S=e("helpers/svg/masks/WedgeMask"),x=e("helpers/cssPrefix"),T=e("polyfills/detection"),C=e("backbone");e("tween-lite"),e("ease-pack");var P=x.camelCase("transform"),E=["position","rotation","scale","skew","alpha","mask","colors"],_={position:"applyTranslation",scale:"applyScale",skew:"applySkew",rotation:"applyRotation",alpha:"applyAlpha",mask:"applyMask",colors:"applyColor"},k={checkerboard:l,circle:u,box:c,diamond:p,blinds:d,randombars:f,split:m,wheel:g,dissolve:v,plus:y,wipe:b,full:h,strips:w,wedge:S},A={right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},R={topleft:{x:0,y:0},topright:{x:1,y:0},bottomleft:{x:0,y:1},bottomright:{x:1,y:1}},M=["blinds","box","checkerboard","circle","clock","comb","diamond","dissolve","full","none","plus","randombars","split","strips","wedge","wheel","wipe","strips"],I=a.throwError("TweenHelper"),O=function(e,t,n){return t>=n?1:i.clamp(0,1,EaseLookup.find(e).getRatio(t/n))},L=o.forceSingleRepaint||t.noop,D=function(e,t,i,n){this.view=e,this.secondaryView=n,this.model=this.view.props.model,this.isReverse=t,this.config=i,this.duration=i.duration,this.startTime=0,this.tweens=i.tweens,this.listenTo(this.model,{moveTo:this.updateDefaultPosition}),this.initialize(),this.handleMobileVideo()};return t.extend(D.prototype,C.Events,{initialize:function(){this.defaults=this.getDefaults()},handleMobileVideo:function(){T.isMobile&&this.model.isKind("video")&&this.model.get("autoplay")&&(this.applyTweenedConfig=t.noop)},stepAnimation:function(e){this.isReverse&&(e=this.duration-e,0>e&&(e=0)),this.applyTweenedConfig(this.getTweenedConfig(e))},totalTime:function(){return this.duration},delay:function(){return this.startTime},reset:function(){var e={matrix:new n,props:{},style:{}};e.props.ScaleX=this.defaults.scale.x,e.props.ScaleY=this.defaults.scale.y,e.props.RawXPos=this.defaults.position.x,e.props.RawYPos=this.defaults.position.y,e.props.Rotation=this.defaults.rotation.x,e.props.Alpha=this.defaults.alpha.x,e.matrix.translate(this.defaults.position.x,this.defaults.position.y),e.matrix.rotate(this.defaults.rotation.x,0,0),e.matrix.scale(i.pctToDec(this.defaults.scale.x),i.pctToDec(this.defaults.scale.y)),e.style.opacity=i.pctToDec(this.defaults.alpha.x),e.style[P]=e.matrix.toCssTransform(),this.applyTweenedConfig(e)},updateDefaultPosition:function(e,t){this.defaults.position.x=e,this.defaults.position.y=t},getDefaults:function(){return this.model.isSlideObject?this.getSlideObjectProps():this.getSlideOrLayerProps()},getSlideOrLayerProps:function(){var e,t,i=this.model.get("width"),n=this.model.get("height");return t={
regPoint:{x:i/2,y:n/2},position:{x:0,y:0},scale:{x:100,y:100},rotation:{x:0},globalRotation:{x:0},size:{x:i,y:n},maskableOffset:{x:0,y:0}},this.hasSecondary()&&(e=this.secondaryView.props.model,t.secondarySize={x:e.get("width"),y:e.get("height")}),t},hasSecondary:function(){return null!=this.secondaryView},getSlideObjectProps:function(){var e=this.model.playerProps,t=this.model.getCurrentStateMetrics();return{regPoint:{x:this.model.rotateXPos(),y:this.model.rotateYPos()},position:{x:e.get("RawXPos"),y:e.get("RawYPos")},scale:{x:e.get("ScaleX"),y:e.get("ScaleY")},rotation:{x:e.get("Rotation")},globalRotation:{x:this.view.getGlobalRotation()},size:{x:t.width-(2*t.xPos-1),y:t.height-(2*t.yPos-1)},alpha:{x:e.get("Alpha")},maskableOffset:{x:t.xPos-t.strokewidth,y:t.yPos-t.strokewidth}}},getTweenedConfig:function(e,i){var r={},s=0,o=this.tweens.length,a={matrix:new n,props:{Rotation:0},style:{}};for(i=i!==!1;o>s;)this.tweens[s].delay<=e&&t.extend(r,this.tweens[s].tweenAttrs),s++;return E.forEach(function(t){this[_[t]](e,r[t],a,i)}.bind(this)),a.style[P]=a.matrix.toCssTransform(),a},applyTweenedConfig:function(e){this.view.tweenedConfig=e,t.extend(this.view.el.style,e.style),this.hasSecondary()&&null!=this.config.pushDir&&this.tweenSecondary(e.props)},adjustRotateble:function(e){var t,i=this.defaults.regPoint;if(this.model.isRotatable&&this.model.isRotatable()){t=this.view.decorators.rotatable;var n=this.model.prop("Rotation");e.rotate(n,0,0),e.rotate(t.lastSetRotation,t.rotateXPos-i.x,t.rotateYPos-i.y),e.rotate(-n,0,0)}},applyTranslation:function(e,t,i,n){var r,s=this.getAttrPointAtTime(e,t,this.defaults.position,t?t.autoRotation:!1);i.props.RawXPos=s.x,i.props.RawYPos=s.y,i.matrix.translate(s.x,s.y),t&&t.autoRotation&&(null==this.initRotation&&(0===e?this.initRotation=s.angle:this.initRotation=this.getAttrPointAtTime(0,t,this.defaults.position,t.autoRotation).angle),r=e>=t.duration+t.delay&&t.closedPath?0:s.angle-this.initRotation,i.matrix.rotate(r,0,0),i.props.Rotation=r)},applyScale:function(e,t,n,r){var s=this.getAttrPointAtTime(e,t,this.defaults.scale),o=this.view.animationOverride&&this.view.animationOverride.scale;n.props.ScaleX=s.x,n.props.ScaleY=s.y,null!=o?o(n.props):(n.matrix.rotate(-this.defaults.globalRotation.x,0,0),n.matrix.scale(i.pctToDec(s.x),i.pctToDec(s.y)),n.matrix.rotate(this.defaults.globalRotation.x,0,0))},applyRotation:function(e,t,i,n){var r=this.getAttrPointAtTime(e,t,this.defaults.rotation).x;n&&this.adjustRotateble(i.matrix),i.matrix.rotate(r,0,0),i.props.Rotation+=r},applyAlpha:function(e,t,n,r){if(t){var s=this.getAttrPointAtTime(e,t,this.defaults.alpha).x;n.style.opacity=i.pctToDec(s),n.props.Alpha=s}},getAttrPointAtTime:function(e,t,i,n){if(null==t)return i;var r,s=e-t.delay;return r=0===t.duration&&(0>s||0===s&&this.isReverse)?0:O(t.ease,s,t.duration),t.getPointAtTime(r,n)},applySkew:function(e,t,n,r){if(null!=t){var s=this.getAttrPointAtTime(e,t,{x:0,y:0}),o=R[t.corner],a=t.useGlobalAxes?{x:this.defaults.size.x*o.x,y:this.defaults.size.y*o.y}:{x:t.regPoint.x,y:t.regPoint.y},l=t.useGlobalAxes?this.defaults.globalRotation.x:0,u=t.getSecondaryPoint();a.x-=this.defaults.regPoint.x,a.y-=this.defaults.regPoint.y,n.matrix.rotate(-l,0,0),n.matrix.scale(i.pctToDec(u.x),i.pctToDec(u.y),a.x,a.y),n.matrix.skew(-s.x,s.y,a.x,a.y),n.matrix.rotate(l,0,0)}},applyColor:function(e,t,n,r){var s;t&&this.model.isSlide&&r&&(null==this.overlay&&this.createColorOverlay(),s=this.getAttrPointAtTime(e,t,0).x,this.overlay.style.opacity=i.pctToDec(s))},applyMask:function(e,t,n,r){if(null!=t&&r&&!this.model.isKind("video")){var s;if(T.isMobile&&-1!==M.indexOf(t.maskType))return!this.isReverse&&t.maskProps.isExit&&(e=this.duration-e,this.isReverse=!0),s=i.decToPct(this.getAttrPointAtTime(e,t,this.isReverse?1:0).x),n.style.opacity=i.pctToDec(s),void(n.props.Alpha=s);var o,a=this.getAttrPointAtTime(e,t,0).x;null==this.mask&&(null==k[t.maskType]&&(I("The mask type ",t.maskType," does not exist"),t.maskType="split"),this.createMask(t)),"full"===t.maskType&&(o=this.getTweenedConfig(this.duration,!1),this.ptFinal=this.ptFinal||o.matrix.transformPoint(0,0)),this.mask.animate(a,this.ptFinal,n.matrix.transformPoint(0,0)),L(this.maskedEl)}},createMask:function(e){var t=this.view.el.firstElementChild;this.marker=this.view.find(".marker-animation"),null!=this.marker&&this.marker.classList.add("hidden"),this.defaults.rotatedBounds=null!=this.view.getRotatedPixelBounds?this.view.getRotatedPixelBounds(this.defaults.globalRotation.x):{top:0,left:0,bottom:this.defaults.size.y,right:this.defaults.size.x},this.mask=new k[e.maskType](this.defaults,e.maskProps),this.maskedEl=r.hasClass(t,"slideobject-maskable")?t:this.view.el,this.maskedEl.style.WebkitClipPath=s.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=s.buildUrl(this.mask.maskId),this.maskedEl.style.willChange="contents"},tweenSecondary:function(e){var t,n=this.defaults.secondarySize,r=A[this.config.pushDir];t=s.transformTranslate(i.pxify(r.x*(n.x+e.RawXPos*r.x)),i.pxify(r.y*(n.y+e.RawYPos*r.y))),this.secondaryView.el.style.transform=t},createColorOverlay:function(){this.overlay=r.setAttributes(document.createElement("div"),{"class":"slide-overlay"}),r.setStyles(this.overlay,{width:i.pxify(this.defaults.size.x),height:i.pxify(this.defaults.size.y)}),this.view.el.appendChild(this.overlay)},kill:function(){this.stopListening(),null!=this.maskedEl&&(this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.maskedEl=null),null!=this.marker&&this.marker.classList.remove("hidden"),null!=this.mask&&(this.mask.destroy(),this.mask=null),null!=this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null)}}),D}),define("views/mixins/transitionableSlide",["require","lodash","react","react-dom","helpers/AnimationTimeline","views/helpers/TweenHelper","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=(e("react"),e("react-dom"),e("helpers/AnimationTimeline")),n=e("views/helpers/TweenHelper"),r=(e("helpers/svg/svgUtils"),e("polyfills/vendorOverrides"),e("helpers/pubSub")),s=1e3,o={getInitialState:function(){return{transitionDepth:0}},setPrevSlide:function(e){var t=e.props.model;this.prevSlide=e,t.slideLayers().pauseAll(!0),t.storeInteractionResults()},setTransparent:function(e){this.el.classList[e?"add":"remove"]("transparent")},componentDidMount:function(){this.transitionIsComplete=!1,this.completeHook=t.noop,null!=this.props.model.getTransitionAnimation()&&this.setTransparent(!0)},publishTransitionStarted:function(){r.trigger("slide:transitionStarted",this.transition.id,this.transition.duration())},transitionIn:function(e,t){var r,o=this;return this.completeHook=e,this.setTransparent(!1),this.transition=this.props.model.getTransitionAnimation(),r=this.transition&&this.transition.get("wipeTrans"),t||null==this.transition||r&&!this.prevSlide?void this.transitionComplete():(this.publishTransitionStarted(),r&&(this.prevSlide.killPinchZoom(),o=this.prevSlide,this.prevSlide.setState({transitionDepth:++s})),this.transitionTimeline=new i({tweens:[new n(o,!1,this.transition.getConfig(),this.prevSlide)],onComplete:this.onTransitionComplete}),this.transitionTimeline.seek(0),void this.transitionTimeline.play())},seekTransition:function(e){this.transitionTimeline.seek(e,!1)},forceTransition:function(){!this.transitionIsComplete&&this.transition&&(this.transitionTimeline.progress(1,!0),this.transitionTimeline.kill(),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&(this.prevSlide.killSlide(),this.prevSlide=null)},transitionComplete:function(){null!=this.transitionTimeline&&this.transitionTimeline.kill(),this.transitionIsComplete=!0,this.killPrevSlide(),this.completeHook(),this.props.transitionComplete()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var e=this.previousHome;null!=e&&e.grandparent.appendChild(e.parent)}};return o}),define("helpers/audio/AudioClipBase",["require","lodash","backbone","polyfills/detection","helpers/errorManager","helpers/pubSub","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("polyfills/detection"),r=e("helpers/errorManager"),s=e("helpers/pubSub"),o=e("helpers/vow"),a=function(e){this.deferredOp=t.noop,this.dfd=o.Deferred(),this.dfd.done(function(){this.deferredOp(),this.deferredOp=t.noop}.bind(this)),this.dfd.fail(function(e){r.throwError("AudioClipBase","constructor",'could not load "',this.url,'" ',e)}.bind(this)),this.url=e,this.startAt=0,this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.onTimeUpdateDelegate=this.onTimeUpdate.bind(this),this.onVisibilityHiddenDelegate=this.onVisibilityHidden.bind(this),this.onVisibilityShownDelegate=this.onVisibilityShown.bind(this),this.initialize()};a.prepare=t.noop;var l=a.prototype;return t.extend(l,i.Events,{initialize:function(){s.on({"detection:visibilityhidden":this.onVisibilityHiddenDelegate,"detection:visibilityshown":this.onVisibilityShownDelegate})},onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger("audioClip:ended")},onTimeUpdate:function(e){this.isPlaying&&this.trigger("audioClip:timeUpdate",e)},onVisibilityHiddenMobile:function(){this.isPlaying&&(this.wasPlayingWhenVisible=!0,this.pause())},onVisibilityShownMobile:function(){this.wasPlayingWhenVisible&&(this.wasPlayingWhenVisible=!1,this.play())},doDeferredOp:function(e){o.isResolved(this.dfd)?e():this.deferredOp=e},play:function(e){return null!=e&&(this.startAt=e),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(e){return this.startAt=e,this.isPlaying&&this.play(),this},destroy:function(){return s.off({"detection:visibilityhidden":this.onVisibilityHiddenDelegate,"detection:visibilityshown":this.onVisibilityShownDelegate}),this}}),t.extend(l,{onVisibilityHidden:n.isMobile?l.onVisibilityHiddenMobile:t.noop,onVisibilityShown:n.isMobile?l.onVisibilityShownMobile:t.noop}),a}),define("helpers/audio/AudioClipApi",["require","lodash","external/superagent","helpers/audio/AudioClipBase","polyfills/audioContext","helpers/vow","helpers/utils","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t,i,n=e("lodash"),r=e("external/superagent"),s=e("helpers/audio/AudioClipBase"),o=e("polyfills/audioContext"),a=(e("helpers/vow"),e("helpers/utils")),l=e("polyfills/detection"),u=e("polyfills/vendorOverrides"),c=3e4,h=250,p=a.createSuper(s),d={},f={},m=function(){null==i&&(i=o&&new o,i.onstatechange=function(){null!=i&&"suspended"===i.state&&i.resume()}),null!=t&&(clearTimeout(t),t=null)},g=u.destroyAudioContext||function(){null!=t&&clearTimeout(t),t=setTimeout(function(){i.close(),i=null},c)},v=function(){s.apply(this,arguments)};n.extend(v,s,{context:function(){return m(),i},prepare:function(){this.playInaudibleBeep()},playInaudibleBeep:function(){var e=new y,t=e.destroy.bind(e);e.play(),l.isAndroid?setTimeout(t,30):t()}}),v.prototype=new s,n.extend(v.prototype,{constructor:v,initialize:function(){p("initialize").apply(this,arguments),this.contextStartTime=0,this.dfd.fail(function(){delete d[this.url]}.bind(this))},load:function(){return d.hasOwnProperty(this.url)?(this.buffer=d[this.url],this.dfd.resolve()):r.get(this.url).on("request",function(){this.xhr.responseType="arraybuffer"}).end(function(e,t){return e?void this.dfd.reject(e):void this.decode(t.xhr.response)}.bind(this)),this},decode:function(e){v.context().decodeAudioData(e,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(e){e?(d[this.url]=this.buffer=e,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},onEnded:function(){this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),p("onEnded").apply(this,arguments)},createGain:function(){var e=v.context();this.gainNode=e.createGain(),this.gainNode.connect(e.destination),this.gainNode.gain.value=this.volume},destroyGain:function(){null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null)},createSource:function(){var e=v.context();this.source=e.createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode)},destroySource:function(){if(null!=this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(e){}this.source.disconnect(),this.source=null}},clearTimeUpdateInterval:function(){clearInterval(this.timeUpdateTimeoutHandle)},startTimeUpdateInterval:function(){this.clearTimeUpdateInterval(),this.timeUpdateTimeoutHandle=setInterval(function(){this.onTimeUpdateDelegate(this.getCurrentTime())}.bind(this),h)},deferredPlay:function(){var e=v.context();this.destroySource(),this.destroyGain(),this.startAt<this.getDuration()?(this.createGain(),this.createSource(),this.contextStartTime=e.currentTime,this.source.start(this.contextStartTime+Math.max(0,-this.startAt),Math.max(0,this.startAt)),this.startTimeUpdateInterval(),this.isPlaying=!0,this.markAsPlaying()):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.destroySource(),this.destroyGain(),this.isPlaying=!1,this.unmarkAsPlaying(),this.clearTimeUpdateInterval())},getCurrentTime:function(){if(!this.isPlaying)return this.startAt;var e=v.context().currentTime-this.contextStartTime+this.startAt;return e||0},getDuration:function(){return this.buffer.duration},setVolume:function(e){return this.volume=e,null!=this.gainNode&&(this.gainNode.gain.value=e),this},destroy:function(e){return null==e&&(e=!l.isMobile),this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),this.clearTimeUpdateInterval(),e||delete d[this.url],p("destroy").apply(this,arguments),this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=n.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),delete this.onEndedOnceDelegate},markAsPlaying:function(){f[this.url]=!0},unmarkAsPlaying:function(){delete f[this.url],0===Object.keys(f).length&&g()}});var y=function(){v.apply(this,arguments),this.url="#inaudible",this.volume=0,this.dfd.resolve()};return y.prototype=new v,n.extend(y.prototype,{constructor:y,createSource:function(){var e=v.context();this.source=e.createOscillator(),this.source.type="sine",this.source.frequency.value=22e3,this.source.connect(this.gainNode)},getDuration:function(){return 1/0}}),v}),define("helpers/audio/AudioClipElement",["require","lodash","helpers/audio/AudioClipBase","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/audio/AudioClipBase"),n=e("helpers/utils"),r=n.createSuper(i),s=document.body,o={},a=function(){i.apply(this,arguments)};return t.extend(a,i),a.prototype=new i,t.extend(a.prototype,{constructor:a,initialize:function(){r("initialize").apply(this,arguments),this.dfd.fail(function(){delete o[this.url]}.bind(this)),this.playTimeout=null,this.updateTimeDelegate=this.updateTime.bind(this)},onEnded:function(){this.startTime=this.getDuration(),r("onEnded").call(this,arguments)},updateTime:function(e){this.onTimeUpdateDelegate(e.target.currentTime)},load:function(){return null==o[this.url]?(this.el=new window.Audio,this.el.setAttribute("preload","auto"),this.el.src=this.url,s.appendChild(this.el),this.el.load(),o[this.url]=this.el):(this.el=o[this.url],this.el.readyState>=this.el.HAVE_ENOUGH_DATA&&this.dfd.resolve()),this.el.addEventListener("canplaythrough",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),this.el.addEventListener("timeupdate",this.updateTimeDelegate),this},deferredPlay:function(){var e=this.el.play.bind(this.el);this.clearPlayTimeout(),this.startAt<this.getDuration()?(this.startAt<0?(this.negative=!0,this.el.pause(),this.setCurrentTime(0),this.playTimeout=setTimeout(e,n.toMilliseconds(-this.startAt))):(this.negative=!1,this.setCurrentTime(this.startAt),e()),this.performanceStartTime=(new Date).getTime(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.isPlaying&&(this.clearPlayTimeout(),0===this.el.currentTime&&this.negative?this.startAt=n.toSeconds((new Date).getTime()-this.performanceStartTime)+this.startAt:this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1)},getDuration:function(){return this.el.duration},setVolume:function(e){return this.el.volume=e,this},setCurrentTime:function(e){this.el.currentTime!==e&&(this.el.currentTime=e)},destroy:function(e){return this.clearPlayTimeout(),null!=this.el&&(this.el.removeEventListener("canplaythrough",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),this.el.removeEventListener("timeupdate",this.updateTimeDelegate),e||(s.removeChild(this.el),delete o[this.url])),r("destroy").apply(this,arguments),this},clearPlayTimeout:function(){clearTimeout(this.playTimeout),this.playTimeout=null}}),a}),define("helpers/audio/audioManager",["require","helpers/audio/AudioClipApi","helpers/audio/AudioClipElement","polyfills/detection"],function(e){"use strict";var t=e("helpers/audio/AudioClipApi"),i=e("helpers/audio/AudioClipElement"),n=e("polyfills/detection"),r=function(){return n.hasAudioApi()?t:i},s={prepare:function(){var e=r();e.prepare()},loadUrl:function(e){var t=r(),i=new t(e);return i.load(),i}};return s}),define("helpers/MediaLoader",["require","lodash","backbone","helpers/vow","helpers/errorManager","helpers/utils","polyfills/detection"],function(e){"use strict";var t=(e("lodash"),e("backbone")),i=e("helpers/vow"),n=e("helpers/errorManager"),r=e("helpers/utils"),s=e("polyfills/detection"),o=n.throwError("MediaLoader"),a=(r.createSuper(t.View),(new i.Deferred).resolve().promise()),l=t.View.extend({events:{load:"onLoad",canplay:"onCanPlay",error:"onError"},retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:function(){return!!this.el.load},initialize:function(e){e&&e.url||o("initialize","Must provide a `url` option"),e&&e.type||o("initialize","Must provide a `type` option"),null!=e.retries&&(this.retries=e.retries),null!=e.retryTimeout&&(this.retryTimeout=e.retryTimeout),this.failuresCount=0,this.url=e.url,this.type=e.type,this.createDeferred().createElement(),e.autoload&&this.load()},createDeferred:function(){var e=new i.Deferred;return Object.defineProperties(this,{dfd:{value:e},promise:{value:e.promise()}}),this},createElement:function(){return this.setElement(document.createElement(this.type)),this},load:function(){return this[s.isIOS()&&this.isMediaElement()?"loadSync":"loadAsync"]()},loadSync:function(){return this.failuresCount>0?this.loadAsync():(a.always(this.loadAsync.bind(this)),a=this.promise),this.promise},loadAsync:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.src=this.url,this.isMediaElement()&&this.loadMediaElement()),this.promise},loadMediaElement:function(){this.el.load()},clearMediaElement:function(){this.el.src=""},retry:function(){return this.failuresCount++,setTimeout(function(){return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries},state:function(){return this.promise.state()},isPending:function(){return"pending"===this.state()},isLoaded:function(){return"resolved"===this.state()},isErrored:function(){return"rejected"===this.state()},onLoad:function(e){this.isMediaElement()||this.dfd.resolve()},onCanPlay:function(){this.dfd.resolve()},onError:function(e){this.shouldRetry()?this.retry():this.dfd.reject("Could not load media "+this.url)},teardown:function(){this.isMediaElement()&&this.clearMediaElement(),this.remove()}});return l}),define("helpers/AudioLoader",["require","helpers/audio/audioManager","polyfills/detection","helpers/MediaLoader","helpers/utils"],function(e){"use strict";var t=e("helpers/audio/audioManager"),i=(e("polyfills/detection"),e("helpers/MediaLoader")),n=e("helpers/utils"),r=(n.createSuper(i),i.extend({createElement:function(){return this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=t.loadUrl(this.url),this.audioClip.dfd.promise().done(this.dfd.resolve).fail(this.dfd.reject)),this.promise},teardown:function(){this.audioClip&&this.audioClip.destroy(!0),this.remove()}}));return r}),define("helpers/globalAudioManager",["require","helpers/assetManager","helpers/appState","helpers/pubSub","helpers/audio/audioManager","helpers/vow","lodash","helpers/AudioLoader"],function(e){"use strict";var t,i=e("helpers/assetManager"),n=e("helpers/appState"),r=e("helpers/pubSub"),s=e("helpers/audio/audioManager"),o=e("helpers/vow"),a=e("lodash"),l=e("helpers/AudioLoader"),u={},c=function(e){var t=e.props.model;t.getScene().isMessageScene()||(a.isEmpty(t.get("globalAudioId"))?g.stop():g.play(t.get("globalAudioId")))},h=function(e){t=e,r.on("slide:hasMounted",c)},p=function(e,t){u.setVolume(t)},d=function(){null!=u.url&&(n.off("change:currentVolume",p),u.destroy(),u={})},f=function(e){var r=t.find(function(t){return t.get("id")===e}),o=i.getAssetUrl(r.get("assetId"));o!==u.url&&(g.stop(),u=s.loadUrl(o),n.on("change:currentVolume",p),u.setVolume(n.currentVolume()),u.play())},m=function(e){var n,r,s;return a.isEmpty(e)?(new o.Deferred).resolve().promise():(r=t.find(function(t){return t.get("id")===e}),s=i.getAssetUrl(r.get("assetId")),s!==u.url?(n=new l({type:"audio",url:s,autoload:!0}),n.promise.always(n.teardown.bind(n))):void 0)},g={initialize:h,play:f,stop:d,load:m};return g}),define("views/presentation/Slide",["require","lodash","helpers/pubSub","helpers/keyManager","react","views/mixins/propertizable","views/mixins/mouseable","views/mixins/zoompanable","views/mixins/pinchzoomable","views/mixins/swipeable","views/mixins/baseView","views/mixins/transitionableSlide","helpers/resolver","helpers/utils","helpers/windowManager","helpers/globalAudioManager","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/keyManager"),r=e("react"),s=e("views/mixins/propertizable"),o=e("views/mixins/mouseable"),a=e("views/mixins/zoompanable"),l=e("views/mixins/pinchzoomable"),u=e("views/mixins/swipeable"),c=e("views/mixins/baseView"),h=e("views/mixins/transitionableSlide"),p=e("helpers/resolver"),d=e("helpers/utils"),f=e("helpers/windowManager"),m=(e("helpers/globalAudioManager"),e("polyfills/detection")),g=function(e,i,n){n.executeFilteredPlayerEvent(function(e){return t(e.objects).pluck("value").map(p.splitPath).map(t.last).intersection(i).isEmpty()},e)},v=r.createClass({displayName:"Slide",mixins:[c,s,o,h,a,l,u],getDefaultProps:function(){return{onSlideStarted:t.noop}},componentWillMount:function(){var e=this.props.model;e.destroyed=!1,e.getVariableChangeSubscriptions();var i=e.getSlideDraw(),r=f.getCurrentWindow();null!=i&&this.listenTo(i,"slidedraw:exit",this.onSlideDrawExit),null==this.props.slideFrame&&n.clearSlide(this,r.isMainWindow?null:r.props.model.absoluteId),this.mouseX=0,this.mouseY=0,e.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=t.memoize(this.getSlideObjectViews)},componentDidMount:function(){var e=this.props.model;e.applyResumeData(),n.onBuildComplete(),this.registerEvent("clickoutsideobjects",function(e){this.triggerClickOutside("on"+e.type,e.data)}.bind(this)),e.interactions().invoke("updateInitialAttemptCount"),e.setAsViewed(),this.htmlReady(this.whenHtmlReady),this.updateWindowId(),i.trigger("slide:hasMounted",this)},componentWillUpdate:function(e,t){t.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},whenHtmlReady:function(){var e=this.props.model,t=e.getBaseLayer(),n=this.swipe.wasSwiped();null!=this.prevSlide&&this.prevSlide.props.model.executePlayerEvent("ontransitionout"),t.timeline().pause(),e.executePlayerEvent("ontransitionin"),i.trigger("slide:ontransitionin",this.props.model),this.transitionIn(function(){e.executePlayerEvent("ontransitionincomplete"),null==this.props.slideFrame&&t.isTimelineLayerPlayable()&&!e.pauseForResume&&t.resumeTimeline(),e.pauseForResume=!1,i.trigger("preview:notify","PREVIEW_SLIDE_IN_COMPLETE",e.absoluteId),e.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this),n),m.isMobile?setTimeout(function(){window.requestAnimationFrame(function(){i.trigger("loader:hide")})},60):i.trigger("loader:hide")},componentWillUnmount:function(){var e=this.props.model;e.destroyed=!0,e.removeVariableChangeSubscriptions(),this.props.model.prepareResumeData()},updateWindowId:function(e){this.props.model.windowId=e||this.props.slideContainer&&this.props.slideContainer.props.windowId},triggerClickOutside:function(e,i){var n=this.props.model,r=t.partial(g,e,i);r(n),n.slideLayers().forEach(r)},onStoreMouseLoc:function(e){var t=this.el.getBoundingClientRect(),i=e.pageX-t.left,n=e.pageY-t.top,r=this.slideScale?d.invertPercent(this.slideScale)+1:1;this.mouseX=i*r,this.mouseY=n*r},calcMouseLoc:function(e,t){var i=this.el.getBoundingClientRect(),n=e-i.left,r=t-i.top,s=this.props.model.calculateTotalScale();return{x:n*s,y:r*s,slideRect:i,scale:s}},onStoreTouchLoc:function(e){1===e.touches.length&&this.onStoreMouseLoc(e.touches[0])},publishSlideStarted:function(){this.props.model.trigger("started"),i.trigger("slide:started",d.stripPlayer(this.props.model.absoluteId)),this.props.onSlideStarted()},onCtxMenu:function(e){e.preventDefault()},getSlideObjectViews:function(e,t){e=e||"",t=t||0;var i,n;return i=this.refs["layer"+t],n=i.findAllComponents("SlideObject"),""!==e?n.filter(function(t){return t.props.model.kind()===e}):n},onSlideDrawExit:function(){this.props.model.storeInteractionResults()},killSlide:function(){null!=this.props.killSlide&&this.props.killSlide()}});return v}),define("views/presentation/SlideContainer",["require","lodash","react","react-dom","helpers/vow","views/mixins/baseView","views/presentation/Slide","views/helpers/dom","polyfills/detection","helpers/constants","helpers/utils","helpers/pubSub","helpers/keyManager","helpers/captionsManager","views/player/mixins/appStateable","helpers/slideObjectUtils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("react-dom"),e("helpers/vow")),r=e("views/mixins/baseView"),s=(e("views/presentation/Slide"),e("views/helpers/dom"),e("polyfills/detection")),o=e("helpers/constants"),a=e("helpers/utils"),l=e("helpers/pubSub"),u=(e("helpers/keyManager"),e("helpers/captionsManager"),e("views/player/mixins/appStateable")),c=e("helpers/slideObjectUtils"),h=function(e){var t=e[0],i=e[1];return t>i?"50%":a.pxify(a.fix((t+Math.max(0,i-t))/2,2))},p=i.createClass({displayName:"SlideContainer",mixins:[r,u],subscriptions:{"mobileStartOverlay:thumbView":"onEnterThumbView","mobileStartOverlay:exitThumbView":"onExitThumbView",resizeSlideContainer:"onResize"},getDefaultProps:function(){return{onPinchZoom:t.noop}},getInitialState:function(){return{slides:[],loadContainerStyleAttr:{}}},componentWillMount:function(){this.firstLoad=!0},componentDidMount:function(){this.thumbView=!1,window.addEventListener("resize",this.onResize)},onResize:function(){null!=this.curSlide&&this.positionSlide(this.curSlide)},onEnterThumbView:function(){this.thumbView=!0,this.positionSlide(this.curSlide)},onExitThumbView:function(){this.thumbView=!1,this.positionSlide(this.curSlide)},addSlideEvents:function(e){return e.on("pinchzoom",this.onPinchZoom),this},removeSlideEvents:function(e){return e.off("pinchzoom",this.onPinchZoom),this},componentWillUpdate:function(e){e.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.slideScale=e.scale,this.updateInnerSlides(e.currentSlide))},componentDidUpdate:function(e,i){var n,r=["xOff","yOff","scale"];if(t.isEqual(t.pick(i,r),t.pick(this.state,r))||l.trigger("slideContainer:positioned"),!t.isEqual(i.slides,this.state.slides)){if(t.intersection(Object.keys(this.refs),t.pluck(this.state.slides,"id")).length!==this.state.slides.length)return;n=0===this.state.slides.length?null:this.refs[t.last(this.state.slides).id],n!==this.curSlide&&(this.prevSlide=this.curSlide,this.curSlide=n,null!=this.curSlide&&(this.curSlide.slideScale=this.slideScale,this.addSlideEvents(this.curSlide),this.positionSlide(this.curSlide),null!=this.prevSlide&&(this.removeSlideEvents(this.prevSlide),this.curSlide.setPrevSlide(this.prevSlide)),this.curSlideDfd.resolve(this.curSlide)))}},stateableValuesUpdated:function(){this.htmlReady(this.onResize)},updateInnerSlides:function(e){return this.curSlideDfd=new n.Deferred,this.setState(function(i){return{slides:t(i.slides).without(e).push(e).value(),overflowHide:s.isMobile}}),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||new n.Deferred,this.curSlideDfd.promise()},rebuildCurSlide:function(){return this.updateInnerSlides(this.props.currentSlide),this},transitionComplete:function(){this.setState({overflowHide:!1}),this.firstLoad&&c.removeEngageBorder(),this.firstLoad=!1},killSlide:function(e){this.setState(function(i){return{slides:t.without(i.slides,e)}})},desktopPositionSlide:function(e){var t,i,n,r,s,o,l,u=e.props&&e.props.model;if(null!=u&&!u.getScene().isMessageScene()&&!this.props.lightboxed){t=this.el.parentNode,i=t.offsetWidth,n=t.offsetHeight,r=u.get("width"),s=u.get("height"),o=Math.min(i/r,n/s),l=Math.min(0,(i-r)/2);var c={xOff:a.fix(l,2),scale:a.fix(o,2),origin:[[i,r],[n,s]].map(h).join(" ")};this.setState(c),u.parentTransform=c}},mobilePositionSlide:function(e){if(!this.props.shouldScale||this.props.shouldScale()){var t,i,n,r,l,u,c,h,p,d,f,m,g=0,v=0,y=this.getWrapperDimensions(),b=y.width,w=y.height*s.heightScalar,S=this.props.windowType?this.props.windowType():null,x=this.props.hasUi&&!this.thumbView?o.MOBILE_UI_SIZE:0,T="resume-prompt-slide"===S?0:x;f=b>=w?T:0,m=w>b?T:0,t=b-f,i=w-m,l=e.props.model,n=l.get("width"),r=l.get("height"),u=t/n,c=i/r,p=n*u,d=r*u,d>i?(h=c,p=n*c):h=u,t>p&&(g=t/2-p/2),i>=d&&(v=i/2-d/2,g=0);var C={xOff:a.fix(g,2),yOff:a.fix(v,2),scale:a.fix(h,4)};this.setState(C),l.parentTransform=C}},onPinchZoom:function(){this.props.onPinchZoom()},getWrapperDimensions:function(){return null!=this.props.getWrapperDimensions?this.props.getWrapperDimensions():{width:document.body.clientWidth,height:document.body.clientHeight}},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this},replaceSlideWith:function(e){return s.isMobile&&(e.killPinchZoom(),e.initPinchZoom(this.props.lightboxed?this:null)),e.props.slideContainer.killSlide(e.props.model),this.updateInnerSlides(e.props.model),this.props.lightboxed&&this.props.lightbox.updateSizeCalculations(e.props.model),this},setLoaderStyle:function(e){this.setState({loadContainerStyleAttr:e})}}),d=p.prototype;return d.positionSlide=d[s.isMobile?"mobilePositionSlide":"desktopPositionSlide"],p}),define("views/presentation/MainWindow",["require","lodash","react","views/mixins/baseView","helpers/pubSub","views/presentation/mixins/slideWindow","views/player/mixins/appStateable","views/presentation/SlideContainer"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("helpers/pubSub"),r=e("views/presentation/mixins/slideWindow"),s=e("views/player/mixins/appStateable");e("views/presentation/SlideContainer");var o=t.createClass({displayName:"MainWindow",mixins:[i,r,s],isMainWindow:!0,stateableValues:{submitall:void 0,volume:void 0,seekbar:void 0,pauseplay:void 0,replay:void 0,previous:void 0,next:void 0,submit:void 0,finish:void 0},hasBottomBar:function(){return this.props.player.controlOptions().bottomBarOptions().get("bottomBarEnabled")&&(this.state.stateable_submitall||this.state.stateable_volume||this.state.stateable_seekbar||this.state.stateable_pauseplay||this.state.stateable_replay||this.state.stateable_previous||this.state.stateable_next||this.state.stateable_submit||this.state.stateable_finish||this.props.player.controlOptions().controls().get("closed_captions")===!0);
},getBackground:function(){var e=this.state.currentSlide;return null==e?null:e.get("slidewindowbg")},componentWillMount:function(){n.trigger("mainWindow:created",this)},componentWillUpdate:function(e,t){t.currentSlide&&(n.trigger("loader:mute"),n.trigger("mainWindow:slideChanged",t.currentSlide))}});return o}),define("views/player/mixins/sidebar",["require","lodash","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n={componentWillMount:function(){this.listenTo(i,"mainWindow:slideChanged",this.onSlideChanged)},onSlideChanged:function(e){var t=e.get("presenterRef"),i=t&&t.videodata;null!=t&&"none"!==t.id?this.setState({presenterId:t.id,presenterVideo:i}):this.setState({presenterId:void 0,presenterVideo:i})},hasPresenter:function(){return this.props.model.get("presenters")&&this.props.model.get("presenters").length&&this.state.presenterId},hasVideo:function(){return this.state.presenterVideo},getSlidePresenter:function(){var e=this.props.model.get("presenters");return t.findWhere(e,{id:this.state.presenterId})},getSlidePresenterVideo:function(){return this.state.presenterVideo}};return n}),define("views/player/Sidebar",["require","lodash","helpers/utils","views/helpers/dom","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/dom"),r=e("helpers/constants"),s=e("react"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("views/player/mixins/sidebar"),u=e("polyfills/vendorOverrides"),c=u.forceSingleRepaint||t.noop,h=function(e){return e.isLive=!1,e},p=function(e){return!e.outline.enabled&&!e.glossary&&!e.transcript},d=r.tabIndices.SIDEBAR,f=s.createClass({displayName:"Sidebar",mixins:[o,a,l],isSidebar:!0,setActiveState:function(e,i){if(i){t.findWhere(this.state.tabs,{name:e});this.setFirstTab()}},stateableValues:function(){return{logo:void 0,outline:t.partial(this.setActiveState,"outline"),glossary:t.partial(this.setActiveState,"glossary"),transcript:t.partial(this.setActiveState,"transcript")}},stateableValuesUpdated:function(e){var i;p(e)?(this.setState({activeTab:null}),e.logo||document.body.classList.add("no-sidebar")):(this.state.activeTab&&(i=e[this.state.activeTab.name],(i&&i===!0||t.result(i,"enabled"))&&this.setActiveTab(this.state.activeTab)),document.body.classList.remove("no-sidebar")),this.htmlReady(this.resizeTabs)},getTabbableItems:function(){var e,i,n=t.range(0,4),r=function(e,i,n){var r=this.refs[e+n];return null!=r&&i.push(t.assign(r,{idx:d++,indexGroupName:"SidebarTab"})),i},s=function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t},o=r.bind(this,"sidebarTab");return i=n.reduce(o,[]),e=n.reduce(s.bind(this,"sidebarPanel"),[]),i.concat(e)},getInitialState:function(){return{activeTab:null,tabs:t.cloneDeep(this.props.model.getSidebar()).map(h)}},hasLogo:function(){return this.state.stateable_logo},logoUrl:function(){return i.resolveAssetUrl(this.getPath("props.model.controlOptions.sidebarOptions.html5_logo_url"))},componentDidMount:function(){this.setFirstTab(),this.afterHtmlReady(this.resizeTabs)},componentDidUpdate:function(){this.resizeTabs()},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setFirstTab(),c(this.el)},setFirstTab:function(){this.hasLiveTab()||this.setActiveTab(t.findWhere(this.state.tabs,{isLive:!0}))},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(e){e&&(e.isLive=!0),this.setState({activeTab:e})},resizeTabs:function(){n.resizeToFit(this.find(".tabs-wrap"),this.findAll(".tabs > .tab:not(.hidden)"),2)}});return f}),define("views/player/SlideLoaderOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/detection"),s=200,o=0,a=r.isMobile?o:s,l=i.createClass({displayName:"SlideLoaderOverlay",mixins:[n],getInitialState:function(){return{showIndicator:!1}},componentWillMount:function(){this.spinnerTimeout=null},componentDidMount:function(){this.spinnerTimeout=setTimeout(t.partial(this.setState,{showIndicator:!0}).bind(this),a)},componentWillUnmount:function(){clearTimeout(this.spinnerTimeout)}});return l}),define("views/presentation/PopupWindow",["require","react","helpers/pubSub","lodash","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("lodash"),r=e("views/mixins/baseView"),s="B",o=t.createClass({displayName:"PopupWindow",subscriptions:{"popup:show":"onPopupShow","popup:toggle":"onPopupToggle","mainWindow:slideChanged":"onSlideChanged","keyManager:frameControlKey":"onFrameControlKey"},mixins:[r],getInitialState:function(){return{show:!1,presenter:{}}},onSlideChanged:function(e){var t=e.get("presenterRef");null!=t&&"none"!==t.id&&this.setState({presenter:n.findWhere(this.props.presenters,{id:t.id})})},onPopupShow:function(e){this.setState({show:!0})},onPopupToggle:function(){this.state.show?this.hidePopup():this.onPopupShow()},hidePopup:function(){i.trigger("popup:hide"),this.setState({show:!1})},closePopup:function(e){e.preventDefault(),this.hidePopup()},sendEmail:function(e){e.preventDefault();var t=this.state.presenter.email;i.trigger("popup:email",t)},hasEmail:function(){return this.state.presenter.email},onFrameControlKey:function(e){e[s]&&i.trigger("popup:toggle")}});return o}),define("views/presentation/SlideLockCursor",["require","react","views/mixins/baseView","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/resolver","polyfills/detection"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/helpers/dom"),r=e("helpers/utils"),s=e("helpers/svg/svgUtils"),o=(e("helpers/resolver"),e("polyfills/detection")),a=t.createClass({displayName:"SlideLockCursor",mixins:[i],subscriptions:{"slide:ontransitionin":"onSlideTransitionStarted"},getInitialState:function(){return{show:!1}},componentWillMount:function(){o.isMobile||document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){o.isMobile||document.body.removeEventListener("mousemove",this.onMouseMove)},isLockable:function(e){return n.hasClass(e,"slide-lockable")},onSlideTransitionStarted:function(e){this.currSlideLocked=e.get("slideLock"),this.currSlideLocked?(document.body.classList.add("curr-slide-locked"),o.isMobile||(this.hideInterval=window.setInterval(function(){var e;this.state.show||(e=document.elementFromPoint(n.mouseX,n.mouseY),this.onMouseMove({target:e,pageX:n.mouseX,pageY:n.mouseY}))}.bind(this),60))):(this.setState({show:!1}),document.body.classList.remove("curr-slide-locked"))},onMouseMove:function(e){clearInterval(this.hideInterval),this.currSlideLocked&&(n.hasClass(e.target,"slide-lockable")?this.setState({show:!0}):null!=n.closest(e.target,this.isLockable)?this.setState({show:!0}):this.setState({show:!1}),this.state.show&&(this.el.style[this.cssTransform]=s.transformTranslate(r.pxify(e.pageX),r.pxify(e.pageY))))}});return a}),define("polyfills/mobileChromeKiller",["require","lodash","polyfills/detection","helpers/pubSub","helpers/utils","helpers/windowManager","helpers/slideObjectUtils","views/helpers/dom","helpers/GsapTweenLite","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n=e("helpers/pubSub"),r=e("helpers/utils"),s=e("helpers/windowManager"),o=e("helpers/slideObjectUtils"),a=e("views/helpers/dom"),l=e("helpers/GsapTweenLite"),u=e("helpers/constants"),c=88,h=75,p=2*h,d=function(){return window.self!==window.top},f=function(e){e&&(window.innerHeight<=u.MOBILE_WIDTH_MIN?e.style.bottom="":e.style.bottom="0")},m={doFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},styleIfExists:function(e,t,i){e&&(e.style[t]=i)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");"portrait"===i.orientation?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",r.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initMobilePreview:function(){setInterval(function(){f(document.querySelector(".relative-nav"))},100)},initAndroid:function(){var e=document.querySelector("body.is-mobile");this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),e.style.minHeight=i.smallestSide+"px",setInterval(function(){f(document.querySelector(".relative-nav"))},100)},initIOS:function(){var e,u,d,m,g,v=document.querySelector(".mobile-chrome-warning"),y=document.querySelector(".mobile-chrome-warning-bubble"),b=document.querySelector(".mobile-chrome-warning-btn"),w=document.querySelector("#preso"),S=0,x=!1;document.querySelector("body.is-mobile").style.height="120%",i.heightScalar=100/120,document.addEventListener("touchstart",function(){u=!0}),document.addEventListener("touchend",function(){u=!1}),n.once("slide:started",function(){var e;x&&(e=s.getCurrentWindow().getCurSlide(),e&&e.props.model.currentTimeline().pause())}),v.addEventListener("touchstart",function(){l.killTweensOf(y),l.killTweensOf(b),l.to(b,.05,{opacity:1,scaleX:.6,scaleY:.6}),l.to(y,.1,{opacity:1}),l.to(y,.3,{opacity:0,delay:3})}),setInterval(function(){var e,i=document.activeElement,r=document.querySelector(".relative-nav");f(r),(!i||"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName)&&(window.innerHeight<document.documentElement.clientHeight?("block"!==v.style.display&&"none"!==w.style.display&&(v.style.display="block",t.extend(w.style,{position:"absolute",left:"0px",top:"0px",zIndex:0}),l.killTweensOf(y),l.killTweensOf(b),l.set(y,{opacity:0}),l.to(y,1,{opacity:1}),l.to(y,.8,{opacity:0,delay:3}),l.to(b,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"Back.easeOut"}),e=s.getCurrentWindow().getCurSlide(),e?e.props.model.currentTimeline().pause():x=!0,d=!0,S=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||u||window.scrollTo(0,0)):"none"!==v.style.display&&"block"!==w.style.display&&(n.trigger("mobileChromeKiller:presentationVisible"),v.style.display="none",w.style.zIndex=null,e=s.getCurrentWindow().getCurSlide(),e&&e.props.model.currentTimeline().play(),d=!1))},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)}),document.body.addEventListener("touchstart",function(e){1===e.touches.length&&(m=e.touches[0].clientY),d&&(S=Math.abs(window.innerHeight-document.body.clientHeight))});var T=function(){if(d&&u){var e=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-S),t=e/c;v.style.opacity=1-t,v.style.height=r.pxify(h+p*t)}else u||(v.style.opacity=1,v.style.height="75px");window.requestAnimationFrame(T)};T(),document.body.addEventListener("touchmove",function(e){var t,i=!1,n=e.target,r=a.parentNodesOf(n,function(e){return o.isScrollable(e)});o.isScrollable(n)&&r.unshift(n),d||(i=!0,1===e.touches.length&&null!=m&&(t=e.touches[0].clientY,i=r.every(function(e){var i=0===e.scrollTop&&t>m,n=e.scrollTop+e.offsetHeight===e.scrollHeight&&m>t;return i||n}))),i&&e.preventDefault()}),document.body.addEventListener("touchend",function(){m=null}),document.documentElement.addEventListener("touchstart",function(e){1===e.touches.length&&(g?e.preventDefault():(g=!0,setTimeout(function(){g=!1},500)))})}};return d()?m.init=t.noop:i.isTablet?m.init=t.noop:i.isAndroid&&!i.is360?m.init=m.initAndroid:i.isIOS()&&i.iOSVersion()>=8?m.init=m.initIOS:i.isMobilePreview?m.init=m.initMobilePreview:m.init=t.noop,m}),define("views/player/MobileStartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/mobileChromeKiller","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/mobileChromeKiller"),s=e("helpers/pubSub"),o=e("polyfills/detection"),a=e("polyfills/vendorOverrides"),l=null!=a.getAudioInitEvent?a.getAudioInitEvent:t.constant("touchstart"),u=i.createClass({displayName:"MobileStartOverlay",mixins:[n],subscriptions:{"mobileStart:requesting":"onMobileStart","presentation:exitFullscreen":"onExitFullScreen"},componentDidMount:function(){this.refs.playIcon.addEventListener(l(),this.onStart)},getInitialState:function(){return{visible:!1}},onExitFullScreen:function(){var e;o.is360&&o.isPhone&&(s.trigger("mobileStartOverlay:thumbView"),s.trigger("slide:pauseTimeline"),this.overlay=document.querySelector("#overlay-mobile"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=0),this.overlay.classList.add("opaque"),this.setState({visible:!0}),this.overlay.style.background="rgba(0, 0, 0, 0.5)",e=document.querySelector("body > .slide-loader"),null!=e&&e.parentNode.removeChild(e),this.restarted=!0)},onMobileStart:function(e){this.rejectDeferred=e,this.overlay=document.querySelector("#overlay-mobile"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onStart:function(){s.trigger("loader:unmute"),s.once("slide:started",function(){this.overlay.classList.remove("opaque")}.bind(this)),this.restarted?(s.trigger("mobileStartOverlay:exitThumbView"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=1),window.requestAnimationFrame(function(){this.overlay.classList.remove("opaque")}.bind(this))):(this.rejectDeferred(),r.init()),this.setState({visible:!1}),o.is360&&o.isPhone&&(s.trigger("presentation:enterFullscreen"),s.trigger("slide:playTimeline"))}});return u}),define("views/player/MobileDisabledOrientation",["require","lodash","react","views/mixins/baseView","polyfills/detection"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("polyfills/detection"),r=t.createClass({displayName:"MobileDisabledOrientation",mixins:[i],subscriptions:{"detection:orientationChange":"onOrientationChange"},stringTitles:{disabled_orientation:"disabled_orientation"},onOrientationChange:function(){this.setState({forceHide:n.forceHideOrientationWarning})}});return r}),define("views/player/mixins/fullScreenable",["require","polyfills/detection","helpers/pubSub"],function(e){"use strict";var t=e("polyfills/detection"),i=e("helpers/pubSub"),n={componentDidMount:function(){t.is360&&t.isTablet&&(this.toggleFullScreen=t.data360.toggleFullScreen,this.bodyUpdate())},componentWillUpdate:function(){t.is360&&t.isTablet&&(this.toggleFullScreen=t.data360.toggleFullScreen)},bodyUpdate:function(){var e=document.querySelector("body"),i=t.data360.toggleFullScreen?"add":"remove";e.classList[i]("fullscreen-360")},handleFullScreen:function(){this.toggleFullScreen?i.trigger("presentation:enterFullscreen"):i.trigger("presentation:exitFullscreen"),t.is360&&t.isTablet&&(this.toggleFullScreen=!this.toggleFullScreen,t.data360.toggleFullScreen=this.toggleFullScreen,this.bodyUpdate())}};return n}),define("views/player/PlaybackControls",["require","react","views/mixins/baseView","helpers/pubSub","helpers/windowManager","views/player/mixins/fullScreenable"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/pubSub"),r=e("helpers/windowManager"),s=e("views/player/mixins/fullScreenable"),o=t.createClass({displayName:"PlaybackControls",mixins:[i,s],getInitialState:function(){return{timeline:this.props.slide&&this.props.slide.currentTimeline()}},componentWillMount:function(){this.listenTo(this.props.slide,"change:currentTimeline",this.onTimelineChanged),this.listenTo(n,"timeline:currentTimeline",this.onTimelineForceChanged)},componentWillUpdate:function(e){e.slide!==this.props.slide&&(this.stopListening(),this.listenTo(e.slide,"change:currentTimeline",this.onTimelineChanged),this.onTimelineChanged(e.slide,e.slide.currentTimeline()))},changeTimeline:function(e){var t=r.getCurrentWindow();null!=t&&t.isMainWindow&&this.setState({timeline:e})},onTimelineChanged:function(e,t){this.changeTimeline(t)},onTimelineForceChanged:function(e){this.changeTimeline(e)}});return o}),define("views/player/VolumeControls",["require","react","react-dom","helpers/pubSub","helpers/constants","lodash","helpers/appState","views/mixins/baseView","views/mixins/mouseable","views/events/eventHelper"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/pubSub"),r=e("helpers/constants"),s=e("lodash"),o=e("helpers/appState"),a=e("views/mixins/baseView"),l=e("views/mixins/mouseable"),u=e("views/events/eventHelper"),c=t.createClass({displayName:"VolumeControls",mixins:[a,l],getTabbableItems:function(){return[s.assign(this,{idx:r.tabIndices.VOLUME,indexGroupName:"PlayerControlButton"})]},componentDidMount:function(){var e=this.find(".volume");this.registerEvent("releaseoutside",this.onHide,e),this.registerEvent("clickoutside",this.onHide,e),n.on("volume:changed",this.onChangeVol)},onChangeVol:function(e){this.setState({volumeStrength:e})},componentDidUpdate:function(e,t){var i=t.isOpen,n=this.state.isOpen;i!==n&&this.state.tabFocused&&this.stealFocus()},getInitialState:function(){return{isOpen:!1,volumeStrength:o.currentVolume()}},stringTitles:{volume:"acc_volume"},onHide:function(){this.hideSlider()},onClick:function(e){u.isSpacebarClick(e)||this.toggleSlider()},onInputChange:function(e){this.changeVolume(e.target.valueAsNumber)},showSlider:function(){this.setState({isOpen:!0})},hideSlider:function(){this.setState({isOpen:!1})},toggleSlider:function(){this.setState({isOpen:!this.state.isOpen})},changeVolume:function(e){n.trigger("volume:changed",e)},stealFocus:function(){var e=this.state.isOpen;this.setState({tabFocused:!0}),this.focusedEl=this.find(e?"input":"button"),this.focusedEl.focus()},releaseFocus:function(){this.setState({tabFocused:!1,isOpen:!1}),this.focusedEl.blur(),this.focusedEl=null},treeKeyCallback:function(e,t){var n=t?"stepDown":"stepUp",r=i.findDOMNode(this.refs.volumeRange);if(this.state.isOpen){try{r[n]()}catch(s){}return this.changeVolume(r.valueAsNumber),!0}return!1},actionKeyCallback:function(){this.showSlider()}});return c}),define("views/player/SlideRelatedActions",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants"),r=t.createClass({displayName:"SlideRelatedActions",mixins:[i],getChildProps:function(){return{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide,windowId:this.props.windowId||n.refs.FRAME,lightboxed:this.props.lightboxed}}});return r}),define("views/player/SubmitAllButton",["require","react","views/mixins/baseView","helpers/constants","lodash","views/helpers/dom","helpers/pubSub"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants"),r=e("lodash"),s=e("views/helpers/dom"),o=e("helpers/pubSub"),a=t.createClass({displayName:"SubmitAllButton",mixins:[i],stringTitles:{submitall:"submitall"},onTouchStart:function(e){s.tappedClass(e.currentTarget)},triggerSubmitAll:function(){this.props.slide.storeInteractionResults(),o.trigger("presentation:onobjectevent","submitall_pressed")},getTabbableItems:function(){var e=this.refs.btn;return e.dsFocusController=this,[r.assign(e,{idx:n.tabIndices.SUBMIT_ALL,indexGroupName:"SlideControlButton"})]},stealFocus:function(){this.refs.btn.focus()},releaseFocus:function(){this.refs.btn.blur()}});return a}),define("views/player/CaptionBtn",["require","react","helpers/pubSub","helpers/constants","helpers/captionsManager","lodash","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("helpers/constants"),r=e("helpers/captionsManager"),s=e("lodash"),o=e("views/mixins/baseView"),a=t.createClass({displayName:"CaptionBtn",mixins:[o],getInitialState:function(){return{enabled:r.isCaptionButtonToggled()}},componentWillMount:function(){i.on("captions:enabled",this.onCaptionsEnabled)},componentWillUnmount:function(){i.off("captions:enabled",this.onCaptionsEnabled)},onCaptionsEnabled:function(e){this.setState({enabled:e})},stringTitles:{caption:"acc_closed_captions"},getTabbableItems:function(){return[s.assign(this,{idx:n.tabIndices.CAPTIONS,indexGroupName:"PlayerControlButton"})]},toggleCaption:function(){i.trigger("captions:enable",!this.state.enabled)},actionKeyCallback:function(){return this.toggleCaption(),!0}});return a}),define("views/player/MobileSearchButton",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"MobileSearchButton",mixins:[i]});return n}),define("views/player/FullscreenBtn",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"FullscreenBtn",mixins:[i]});return n}),define("views/presentation/VectorText",["require","lodash","react","helpers/svg/svgUtils","views/mixins/baseView","polyfills/vendorOverrides"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("helpers/svg/svgUtils"),n=e("views/mixins/baseView"),r=(e("polyfills/vendorOverrides"),t.createClass({displayName:"VectorText",mixins:[n],getInitialState:function(){var e=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),t=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return{defaultCommandsetId:e,curCommandsetId:e,defaultPathLib:t,curPathLib:t}},renderAs:function(e,t){var i=t||this.defaultCommandsetId,n=e||this.defaultPathLib;this.setState({curCommandsetId:i,curPathLib:n})},onClickCallback:function(e){this.trigger("textHit",e)},getTransform:function(){return[i.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY),i.transformTranslate(this.props.originX,this.props.originY)].join(" ")}}));return r}),define("views/helpers/variableTextHelper",["require","lodash","helpers/resolver","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/utils"),r=/(%[^%^\^^\s]+%)/g,s=/\.\$/g,o=/^\$/,a=/%/g,l=/\s+$/g,u="\n",c=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}],h=function(e){return t.isNumber(e)?n.fix(e,2):e},p=function(e){var t=e.split(u);return t.map(function(e,i){return e.replace(l,"")+(i<t.length-1?u:"")}).join("")},d=function(e){return c.reduce(function(e,t){return e.replace(t.find,t.replace)},e)},f=function(e){var n=e.split("."),r=t.initial(n).join("."),s=t.last(n).replace(o,"");return function(e,t){var n=i.resolvePath(r,e).playerProps,o="change:"+s;return n.on(o,t),function(){n.off(o,t)}}},m=function(e){return function(t,i){return e.on("change",i),function(){e.off("change",i)}}},g=function(e,n){var r,o,l=e.replace(a,""),u=i.resolvePath(l,n,{optional:!0});return u||l.search(s)>-1?(i.isPropRef(l)?(r=function(e){return h(i.resolvePath(l,e))},o=f(l)):(r=function(){return h(u.value())},o=m(u)),{builder:r,on:o}):{builder:t.constant(e)}},v=function(e,i){if(null==e)return{updateString:t.constant(""),addListeners:t.noop};var n=e.split(r),s=[],o=[],a={};return n.forEach(function(e,n){var r,l;n%2===1?(r=g(e,i),l=r.on,s.push(r.builder),null!=l&&null==a[e]&&(a[e]=!0,o.push(l))):t.isEmpty(e)||s.push(t.constant(d(e)))}),{updateString:function(e){return p(s.map(function(t){return t(e)}).join(""))},addListeners:function(e,t){var i=o.map(function(i){return i(e,t)});return function(){i.forEach(function(e){e()})}}}},y={parseTemplate:v};return y}),define("views/presentation/VariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper","helpers/cssPrefix"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),r=(e("backbone"),e("views/mixins/baseView")),s=e("views/helpers/dom"),o=(e("helpers/resolver"),e("helpers/svg/svgUtils")),a=e("views/helpers/variableTextHelper"),l=e("helpers/cssPrefix"),u=/<\/?html>/g,c=/font-family:(.*?);/g,h="font-family:$1, sans-serif;",p=20,d=l.kebabCase("transform"),f=l.kebabCase("transform-origin"),m={top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"},g=function(e){return m[e.get("valign")]},v=function(){var e=/^event:/;return function(t){return e.test((t.href||"").trim())}}(),y=function(e){return t.last((e||"").split(":"))},b=function(e){return s.closest(e.parentNode,function(e){return"p"===e.nodeName.toLowerCase()})},w=n.createClass({displayName:"VariableText",mixins:[r],initialVisibility:!1,getInitialState:function(){this.origTemplate=this.props.model.vartext();var e=a.parseTemplate(this.origTemplate);return this.listenToVarChanges=e.addListeners,this.updateVarText=e.updateString,{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){this.setState({valignClass:g(this.props.model)}),this.setupValues().checkShouldFitText().show()},componentWillMount:function(){this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(e,i){(e.isSlideObject||e.isSlideLayer)&&this.listenTo(e,{shown:t.partial(this.onAncestorShown,i),hidden:t.partial(this.onAncestorHidden,i)})}.bind(this))},componentDidUpdate:function(){this.setupValues().fitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(e){this.ancestors[e]=!0,this.checkShouldFitText()},onAncestorHidden:function(e){this.ancestors[e]=!1},setDefaultFont:function(e){return e.replace(c,h)},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font"),this.fonts.forEach(function(e){var t=b(e);e.setAttribute("data-original-size",e.style.fontSize),t.setAttribute("data-original-line-height",t.style.lineHeight)}),this},stripTags:function(e){return e.replace(u,"")},parseVars:function(){return this.setDefaultFont(this.updateVarText(this.props.model))},possibleHit:function(e){e.preventDefault();var t=s.closest(e.target,v);t&&this.trigger("textHit",y(t.href))},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState({embeddedTemplate:this.parseVars()})}.bind(this)),this},checkShouldFitText:function(){return this.ancestors.every(t.identity)&&this.fitText(),this},fitText:function(){var e=0,t=this.find(".textlib-inner"),i="foreignObject"===this.el.parentNode.tagName,n=this.props.model.width(),r=this.props.model.height(),s=function(){return e>p},a=function(){var e=this.getHeightAndWidth(this.fonts),t=e.width,i=e.height;return t>0&&(i>r||t>n)}.bind(this),l=function(){this.fonts.forEach(function(e){var t=parseInt(e.style.fontSize,10),i=b(e),n=parseFloat(i.style.lineHeight),r=n/t;e.style.fontSize=t-1+"px",i.style.lineHeight=(t-1)*r+"px"})}.bind(this),u=function(){for(;!s()&&a();)e++,l()};return this.fonts.forEach(function(e){var t=b(e);e.style.fontSize=e.getAttribute("data-original-size"),t.style.lineHeight=t.getAttribute("data-original-line-height")}),i&&(t.style[f]="",t.style[d]="translate(-50%, -50%)",this.el.parentNode.setAttribute("transform",o.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY))),u(),this},getInnerProps:function(){var e={};return e[this.cssTransformOrigin]=[i.pxify(this.props.originX),i.pxify(this.props.originY)].join(" "),e[this.cssTransform]=[o.transformRotate(this.props.rotDeg+"deg"),o.transformTranslate(i.pxify(this.props.originX),i.pxify(this.props.originY))].join(" "),e},getHeightAndWidth:function(e){var i=e.map(function(e){return e.getBoundingClientRect()}),n=this.props.model.getClosestAncestorByKind("slide").calculateTotalScale();return{height:(t.max(t.pluck(i,"bottom"))-t.min(t.pluck(i,"top")))*n,width:(t.max(t.pluck(i,"right"))-t.min(t.pluck(i,"left")))*n}}});return w}),define("helpers/svg/svgBuilder",["require","lodash","helpers/svg/svgUtils","helpers/utils","react","polyfills/vendorOverrides","views/presentation/VectorText","views/presentation/VariableText"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/utils"),r=e("react"),s=e("polyfills/vendorOverrides"),o=e("views/presentation/VectorText"),a=e("views/presentation/VariableText"),l={vectorText:o,variableText:a},u=function(e){return e.join("")},c={"xlink:href":"xlinkHref"},h=("image rect ellipse path".split(" "),function(e){return e?t.isString(e)?e:e.map(i.buildTransformFromConfigFn).join(" "):""}),p={transform:h,gradientTransform:h,patternTransform:h},d=function(e){return b(e)},f=function(e){return t.isArray(e)?e.join(","):e},m=function(e){return e.nodeType!==!1},g=function(e,i){return"text"===e&&"tspan"===t.get(i,"children[0].nodeType")},v=function(e,i){return g(e,i)&&n.hasArabicCharacters(t.get(i,"children[0].children[0]"))},y=function(e,i,n){var o,a,l=[],c=i.children,h="tspan"===e,p=0,d=h?u:t.identity;return null!=s.wrapTspan&&v(e,i)?s.wrapTspan(i,n,i.children[0]):(c&&(o=t.pick(n,"data-accepts"),l=c.filter(m).map(function(e,i){return"defs"===e.nodeType&&(p=1),b(t.defaults(e,o),i-p)})),a=d(l),null!=s.fixTspan&&h&&a.length>1&&(n=s.fixTspan(n,a)),r.createElement(e,n,a))},b=function(e,i){if(!m(e))return"";if(null==e.nodeType)return e;var r,s=l[e.nodeType]||e.nodeType,o=t.omit(e,"children","nodeType");return r=t.transform(o,function(e,t,i){-1===i.indexOf("data-")&&/-/g.test(i)&&(i=n.camelCaseAttr(i));var r=p[i]||f,s=c[i]||i;e[s]=r(t)},{}),"tspan"===s&&(r["aria-hidden"]=!0),null!=i&&(r.key="defs"===e.nodeType||null!=l[e.nodeType]?t.uniqueId("r-"):i),t.isString(s)||(r.ref=r.ref||r.key),y(s,e,r)};return{createSvg:d}}),define("helpers/svg/imageHelper",["require","lodash","helpers/svg/svgUtils","../assetManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("../assetManager"),r="animatedgif",s={IMAGE:"data-original-image"},o={findImage:function(e,i){var r=t.findWhere(e,{id:i[s.IMAGE]});return n.getAsset(r.assetId)},containsGif:function(e){return null!=e&&null!=t.find(e,function(e){var t=n.getAsset(e.assetId);return null!=t&&t.get("imageType")===r})},addImageAttrs:function(e,n){if(!i.isImageNode(e))return e;var s,a=o.findImage(n,e);return a.isValid()?(s=a.url(),a.get("imageType")===r&&(s=s+"?rs="+t.uniqueId("")),e["xlink:href"]=s,e.height=a.height(),e.width=a.width(),e.x+=a.get("mobiledx")||0,e.y+=a.get("mobiledy")||0,e):{nodeType:!1}}};return o.applyImagelib=t.partial(i.transformNodeConfig,o.addImageAttrs),o}),define("views/presentation/ObjectSlideBackground",["require","react","views/mixins/baseView","views/mixins/propertizable","helpers/svg/svgUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=(e("views/mixins/propertizable"),e("helpers/svg/svgUtils"),t.createClass({mixins:[i],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}}));return n}),define("helpers/svg/backgroundHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","views/presentation/ObjectSlideBackground"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("../assetManager"),e("views/presentation/ObjectSlideBackground")),r={BG_IMAGE:"data-slidefill"},s=function(e,t,s){if(!e[r.BG_IMAGE])return e;
var o=["slide","bg",t.commandsetId].join("-"),a={nodeType:"g",children:[]};return a.children.skipTraversal=!0,e.fill=i.buildUrl(o),a.children.push({nodeType:n,id:o,model:s.props.model,playerProps:s.props.playerProps,patternTransform:e["data-stroke-sharpened"]?[i.buildTranslateConfig(-.5,-.5)]:""}),a.children.push(e),a},o={applySlideBackground:t.partial(i.transformNodeConfig,s)};return o}),define("helpers/svg/patternHelper",["require","lodash","helpers/svg/imageHelper","helpers/svg/svgUtils","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/imageHelper"),n=e("helpers/svg/svgUtils"),r=e("helpers/utils"),s=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],o=function(e){return n.isPatternNode(e)&&"image"===e["data-type"]},a={addPatternAttrs:function(e,s,l){if(!o(e))return e;var u,c=t.first(e.children.filter(n.isDefsNode)),h=t.first(c.children.filter(n.isImageNode)),p=e.children.filter(n.isUseNode),d=i.findImage(s,h),f=d.width(),m=d.height(),g=!h.preserveAspectRatio,v=t.partial(a.transformUseNode,f,m);return g?(e.width=f,e.height=m,p.forEach(v)):(u=Math.round(r.hypot(l.fullHeight,l.fullWidth)),e.height=u,e.width=u),e},transformUseNode:function(e,i,r,o){var a=t.findWhere(r.transform,{type:"scale"}),l=a.args[0],u=a.args[1],c=s[o],h=c.x[l>0?"posMult":"negMult"]*e,p=c.y[u>0?"posMult":"negMult"]*i;r.transform=[n.transformTranslate(h,p),n.transformScale(l,u)].join(" ")}};return a.applyImagePatterns=t.partial(n.transformNodeConfig,a.addPatternAttrs),a}),define("helpers/svg/strokeHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=function(e){var t=e["stroke-width"];return t&&t%2!==0},r=function(e){return 0===e["stroke-width"]&&(e["stroke-width"]=1),n(e)&&(e["data-stroke-sharpened"]=!0,i.getTransformOf(e).unshift(i.buildTranslateConfig(.5,.5))),e},s={translateOddWidths:t.partial(i.transformNodeConfig,r)};return s}),define("helpers/svg/idHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/svg/svgUtils"),r="uniqueDomId-",s=function(){t={}},o=function(e){var n=i.uniqueId(r);return t[e]=n,n},a=function(e){return e.id&&o(e.id),e};a.beforeStart=function(){s()},a.afterFinish=function(e){return JSON.parse(i.reduce(t,function(e,t,i){return e.replace(new RegExp(i,"g"),t)},JSON.stringify(e)))};var l={ensureIdsAreUnique:i.partial(n.transformNodeConfig,a)};return l}),define("helpers/svg/textHelper",["require","lodash","helpers/svg/svgUtils","helpers/errorManager","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/errorManager"),r=e("polyfills/vendorOverrides"),s=n.throwError("textHelper"),o=n.backtick,a="No text lib item with id of",l=r.moveVarTextOutOfSvg||t.identity,u=r.unwrapForeignObjectVarText||t.identity,c=function(e){return"text"===e["data-reference-type"]},h=function(e){return e["data-reference-id"]},p={vartext:function(e,t,i){t.index();return u({nodeType:"foreignObject",width:t.width()+e.x,height:t.height()+e.y,children:[{ref:"vtext",nodeType:"variableText",model:t,id:e.id,originX:e.x,originY:e.y,hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"]}]})},vectortext:function(e,t,i,n){return{nodeType:"vectorText",hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"],originX:e.x,originY:e.y,textLibItem:t}}},d=function(e,i,n,r){if(!c(e))return e;var l,u=h(e),d=i.get(u);return d||s("renderText",a,o(u)),(l=p[d.type()]||t.identity)(e,d,n,r)};d.afterFinish=l;var f,m={setSvgManager:function(e){f=e},applyTextLib:t.partial(i.transformNodeConfig,d)};return m}),define("helpers/svg/adornableHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n={ADORNMENT_TYPE:"data-adornment-type",IS_REFLECTION:"data-is-reflection-gradient"},r=function(e){return n.ADORNMENT_TYPE in e&&(e.ref=t.uniqueId("adornable"),e["data-transform"]=JSON.stringify(e.transform),e.transform=null),e},s=function(e){return e[n.IS_REFLECTION]===!0&&(e["data-rotation-offset"]=!0,e[n.IS_REFLECTION]=null),e},o=t.compose(r,s),a={decorateAdornables:t.partial(i.transformNodeConfig,o)};return a}),define("helpers/svg/svgManager",["require","lodash","models/BaseModel","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/svg/svgBuilder","helpers/svg/imageHelper","helpers/svg/backgroundHelper","helpers/svg/patternHelper","helpers/svg/strokeHelper","helpers/svg/idHelper","helpers/svg/textHelper","helpers/svg/adornableHelper"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),r=e("helpers/errorManager"),s=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgBuilder"),a=e("helpers/svg/imageHelper"),l=e("helpers/svg/backgroundHelper"),u=e("helpers/svg/patternHelper"),c=e("helpers/svg/strokeHelper"),h=e("helpers/svg/idHelper"),p=e("helpers/svg/textHelper"),d=e("helpers/svg/adornableHelper"),f=r.throwError("SvgManager"),m=r.backtick,g=n.createSuper(i),v=i.extend({url:n.resolveDataUrl("paths"),getSvgNode:function(e,i){var n,r,f=this.get(e.libId,s.svgPrefix(e.commandsetId));return f=s.getFullSvgConfig(f,e.bounds,e.commandsetId),f=h.ensureIdsAreUnique(f),n=s.getDefsNode(f),f=d.decorateAdornables(f),e.imagelib&&(r=t.pick(e.bounds,"fullHeight","fullWidth"),f=a.applyImagelib(f,e.imagelib),f=u.applyImagePatterns(f,e.imagelib,r)),f=c.translateOddWidths(f,e),f=l.applySlideBackground(f,e,i),e.textLib&&!e.textLib.isEmpty()&&(f=p.applyTextLib(f,e.textLib,e.bounds,n)),o.createSvg(f)},getSvgFromData:function(e,i){var n=e.pick("imagelib","textLib");return y.getSvgNode(t.extend(n,{commandsetId:e.commandsetId(),libId:e.getPathLib(),bounds:e.getBounds()}),i)},createMask:function(e,t,i){var n,r,a=new window.DOMParser,l={top:0,left:0,width:0,height:0},u=s.getFullSvgConfig(e,l);return n=a.parseFromString(o.createSvg(u),"text/xml"),r=document.adoptNode(n.documentElement).firstChild,i.appendChild(r),r},get:function(e,t){var i,r=g("get").call(this,e);return r||f("get","tried calling for an undefined library",m(e)),i=r[t],i||f("get","tried calling for an undefined path id",m(t)),n.cloneDeeply(i)},getStringFromVectorText:function(e){var i=e.i,n=e.l,r=s.svgPrefix(i),o=y.get(n,r);return t.get(o,"children[0].children[0].children[0]")}}),y=new v;return p.setSvgManager(y),y}),define("views/presentation/VectorTextItem",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/svg/svgUtils","helpers/svg/svgManager","helpers/svg/svgBuilder"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgManager"),a=e("helpers/svg/svgBuilder"),l=function(e){return e["font-family"]&&(e["font-family"]=r.doubleQuote(e["font-family"])),e},u=function(e){return s.isTspanNode(e)&&(e.children=e.children.map(function(e){return e.replace(/\s/g,"")})),e},c=i.createClass({displayName:"VectorTextItem",mixins:[n],addShadow:function(e){return this.props.isShadow&&s.isTspanNode(e)&&(e.filter="url(#text-shadow)",e.fill="rgba(0, 0, 0, 0.2)"),e},template:function(e){var i=s.svgPrefix(this.props.commandsetId),n=o.get(this.props.pathLib,i);return s.transformNodeConfig(t.compose(u,l,this.addShadow),n),a.createSvg(n)}});return c}),define("views/player/Icon",["require","react","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils"),r="Icon",s=function(e){return n.upperCaseFirst(e)+r},o=t.createClass({displayName:"Icon",mixins:[i],template:function(){var e=s(this.props.type);return this.getTemplateManager().getTemplate(e).bind(this)()}});return o}),define("views/presentation/DropListItem",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=i.createClass({mixins:[t],displayName:"DropListItem",getInitialState:function(){return{hovered:!1,display:"none",selected:!1}},onClick:function(){this.props.selected(this.props.order)},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}});return n}),define("views/presentation/ScrollBar",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/utils","helpers/windowManager","views/helpers/dom","views/presentation/Slide"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/detection"),s=e("helpers/utils"),o=e("helpers/windowManager"),a=e("views/helpers/dom"),l=(e("views/presentation/Slide"),i.createClass({displayName:"ScrollBar",mixins:[n],componentDidMount:function(){this.contentHeight=this.props.parent.contentheight(),this.closedHeight=this.props.closedHeight||0,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.scrollingArea.addEventListener("wheel",this.onWheel),r.isMobile||(this.scrollingArea.style.overflowY="hidden"),this.props.initSelf&&(this.update(),this.scrollingArea.addEventListener("scroll",this.update))},componentWillUnmount:function(){this.scrollingArea.removeEventListener("wheel",this.onWheel)},update:function(){if(!r.isIE()&&!this.scrollByButton){var e=this.refs.scrollBtn,t=(this.contentHeight,this.props.height),i=t/this.contentHeight*t,n=this.scrollingArea.scrollTop/(this.contentHeight-t);n=s.clamp(0,1,n),n*=1-i/t,e.style.height=s.pxify(i),e.style.top=s.decToPct(n,!0)}},getParentY:function(){var e=this.calcMouseLoc(0,this.props.parent.el.getBoundingClientRect().top);return e.y+this.closedHeight},onAutoScroll:function(e){a.hasClass(e.target,"scrollarea-btn")||(this.offY=parseFloat(this.refs.scrollBtn.style.height)/2,this.onDragBtn(e),this.onScrollBtnDown(e))},calcMouseLoc:function(e,t){return this.currentSlide||(this.currentSlide=o.getCurrentWindow().getCurSlide()),this.currentSlide.calcMouseLoc(e,t)},onScrollBtnDown:function(e){var t,i,n;r.isMobile?(document.body.addEventListener("touchmove",this.onDragBtn),document.body.addEventListener("touchend",this.onEndScrollDrag)):(document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)),t=e.touches&&1===e.touches.length?this.calcMouseLoc(e.touches[0].pageX,e.touches[0].pageY):this.calcMouseLoc(a.mouseX,a.mouseY),i=this.refs.scrollBtn.getBoundingClientRect(),n=(i.top-t.slideRect.top)*t.scale,this.offY=t.y-(n||0),this.scrollByButton=!0},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn),document.body.removeEventListener("touchend",this.onEndScrollDrag),document.body.removeEventListener("touchmove",this.onDragBtn),this.scrollingArea.removeEventListener("scroll",this.update)},onDragBtn:function(e){var t,i,n,r=this.refs.scrollBtn,o=this.props.height,l=parseFloat(r.style.height),u=o-l,c=this.scrollingArea.scrollHeight-o;i=e.touches&&1===e.touches.length?this.calcMouseLoc(e.touches[0].pageX,e.touches[0].pageY):this.calcMouseLoc(a.mouseX,a.mouseY),n=i.y-this.getParentY()-this.offY,t=s.clamp(0,1,n/u),r.style.top=s.decToPct(t*(1-l/o),!0),this.scrollingArea.scrollTop=c*t},constrainScroll:function(){var e=t.result(this,"props.parent.height",this.props.height);this.scrollingArea.scrollTop+e>this.props.parent.state.contentHeight&&(this.scrollingArea.scrollTop=this.props.parent.state.contentHeight-e)},onWheel:function(e){this.scrollingArea.scrollTop+=e.deltaY,this.constrainScroll(),this.update()}}));return l}),define("views/presentation/LinearBackgroundGradient",["require","react","views/mixins/baseView","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils"),r=e("polyfills/vendorOverrides"),s=t.createClass({displayName:"LinearBackgroundGradient",mixins:[i],fill:function(){return this.props.fill||this.props.model.background().fill},stopPct:function(e){return n.stopPct(e.stop)},stopProps:r.stopColorProps||function(e){return{stopColor:n.rgbify(e.rgb),stopOpacity:n.opacify(e.alpha)}}});return s}),define("views/helpers/dragAndDropHelper",["require","lodash","helpers/utils","helpers/svg/svgUtils","views/events/touchHelper","views/helpers/collisionHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/svg/svgUtils"),r=e("views/events/touchHelper"),s=e("views/helpers/collisionHelper"),o=e("helpers/windowManager"),a="drag",l="drop",u=["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],c=t.reduce(u,function(e,i){return e["on"+i]=t.noop,e.setTargets=t.noop,e},{}),h=[],p=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top},d=function(e,t){if(!p(e,t))return 0;var i=Math.max(e.top,t.top),n=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),s=Math.min(e.right,t.right),o=s-r,a=n-i;return o*a},f=function(e){return-e.getZIndex()},m=function(e,i){var n,r=e.el.getBoundingClientRect(),s=t.sortBy(i,f);return s.reduce(function(e,t,i){var o=s.slice(0,i).reduce(function(e,t){return e-d(r,t.getBounds())},d(r,t.getBounds()));return o>e?(n=t,o):e},0),n},g=function(e,i,n){this.view=e,this.el=n||e.el,this.params=t.defaults(i,c),this.currSlide=o.getCurrentWindowSlide(),t.bindAll(this),this.enable()};t.extend(g.prototype,{hasMoved:!1,x:0,y:0,unbindTouch:t.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=t.flow(r.on(this.el,"touchstart",this.onGrabTouch),r.on(this.el,"touchmove",this.onMoveTouch),r.on(this.el,"touchend",this.onReleaseTouch))},grab:function(e,t){var i=this.getPosition(),n=this.currSlide.calculateTotalScale();this.params.setTargets(),this.params.getPosition&&(i=this.params.getPosition(),i.dontScale||(i.x*=n,i.y*=n)),this.offsetX=i.x-e*n,this.offsetY=i.y-t*n,this.origPosX=i.x,this.origPosY=i.y,this.hasMoved=!1},contain:function(){if(null==this.dropTarget){var e=this.el.getBoundingClientRect(),n=this.params.containment.getBoundingClientRect(),r=t.result(this.view.props.model,"getCurrentStateMetrics",{strokewidth:0}),s=r.strokewidth/2,o=this.currSlide.calculateTotalScale();this.x=i.clamp(s,(n.width-e.width)*o-s,this.x),this.y=i.clamp(s,(n.height-e.height)*o-s,this.y)}},move:function(e,t){var r=this.dropTarget,o=this.currSlide.calculateTotalScale();this.x=e*o+this.offsetX,this.y=t*o+this.offsetY,this.el.style[this.view.cssTransform]=[n.transformTranslate(i.pxify(this.x),i.pxify(this.y)),n.transformRotate(this.view.state.Rotation+"deg"),n.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),this.dropTarget=this.getDropTarget(a),this.view.props.model.isCollideable&&s.performCollisionDetect(this.view,{RawXPos:this.x,RawYPos:this.y}),this.hasMoved||(this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!r||this.dropTarget&&r===this.dropTarget||this.params.ondropleave(this,r),this.dropTarget&&(r!==this.dropTarget&&this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.contain(),this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget(l),this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget))},onGrabMouse:function(e){this.isMousedDown||(this.isMousedDown=!0,this.grab(e.clientX,e.clientY),document.body.addEventListener("mousemove",this.onMoveMouse),document.body.addEventListener("mouseup",this.onReleaseMouse),e.preventDefault())},onGrabTouch:function(e){var t=e.changedTouches[0];this.touchId=t.identifier,this.grab(t.clientX,t.clientY),e.preventDefault()},onMoveMouse:function(e){this.move(e.clientX,e.clientY),e.preventDefault()},onMoveTouch:function(e){var t=e.changedTouches[0];this.touchId===t.identifier&&(this.move(t.clientX,t.clientY),e.preventDefault())},onReleaseMouse:function(e){this.isMousedDown=!1,this.release(),document.body.removeEventListener("mousemove",this.onMoveMouse),document.body.removeEventListener("mouseup",this.onReleaseMouse)},onReleaseTouch:function(e){this.release()},getDropTarget:function(e){return this.params.getDropTarget?this.params.getDropTarget(this,h,e):m(this,h,e)},getPosition:function(){return{x:this.x,y:this.y}}});var v=function(e,t){this.el=e,this.params=t,h.push(this)};return t.extend(v.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},getZIndex:function(){return parseInt(this.el.style.zIndex)},unregister:function(){t.remove(h,this)}}),{DraggableHelper:g,DroppableHelper:v,util:{areOverlapping:p,unionArea:d,getDropTargetByOverlap:m,sortByZIndexReverse:f,getRegisteredDroppables:function(){return h}}}}),define("views/presentation/decorators/Droppable",["require","lodash","backbone","views/helpers/dragAndDropHelper","views/helpers/collisionHelper","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("views/helpers/dragAndDropHelper"),r=n.DroppableHelper,s=e("views/helpers/collisionHelper"),o=e("helpers/TransMatrix"),a=[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}],l=function(e){e.setToInitPosition().unParent()},u=function(e){this.view=e,this.model=this.view.props.model,this.dropChildren=[]};t.extend(u.prototype,i.Events,{componentDidMount:function(){var e=this.model;this.dragdropData=this.model.dragdrop(),this.bindDrop(),s.initSlideObject(e),this.model.collision.transMatrix=new o,this.view.htmlReady(s.calculateHitTest.bind(s,e,!1))},componentWillUnmount:function(){this.droppableHelper.unregister(),s.destroy(this.view),this.stopListening(this.model,"resume:reset",this.resetValues)},registerRelationship:function(e,t){return this.dropChildren[t]=e,this},getFromView:function(e,t){return t=t||this,t.view.getPlayerProp(e)},setOnView:function(e,t,i){i=i||this,i.view.setPlayerProp(e,t)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=a.slice()},setPositioningFns:function(){var e=this.dragdropData.droptype,i=c[e];t.extend(this,i)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},resetValues:function(){this.dropChildren=[]},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new r(this.view.el,{data:this,view:this.view}),this.resetQuadrants(),this.setPositioningFns(),this.listenTo(this.model,"resume:reset",this.resetValues)),this},onDragOver:function(e){this.canDropHere(e)&&this.addChild(e,!0)},onDropped:function(e){this.canDropHere(e)&&this.addChild(e)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=t.map(this.getDropChildren(),function(e){return e.getBounds()})},addChild:function(e,t){var i,n;this.isMultiDrop()||t||(this.getDropChildren().forEach(l.bind(this)),this.getDropChildren().length=0),i=this.getPlacementIndex(e),n=t?this.getDropChildren().slice():this.getDropChildren(),n.splice(i,0,e),this.reflow(n,i,t)},canDropHere:function(e){var i=t.partial(t.contains,this.dragdropData.dragdropids);return e.dragdropData.dragdropids.some(i)},removeDropChild:function(e){return t.remove(this.getDropChildren(),e),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var e=t.random(this.quadrants.length-1),i=this.quadrants.splice(e,1)[0];return this.quadrants.length||this.resetQuadrants(),i},getRandomStackPosition:function(e){var i=this.getDropQuadrant();return{x:this.getXPos()+this.dragdropData.snapx+t.random(this.dragdropData.dropoffsetx)*i.x-e.dragdropData.snapx,y:this.getYPos()+this.dragdropData.snapy+t.random(this.dragdropData.dropoffsety)*i.y-e.dragdropData.snapy}},resetChildrenDepths:function(){var e=this.getDepth();this.getDropChildren().forEach(function(t,i){t.setIndex(i),t.setDepth(e+i+1)})},getParents:function(){for(var e=[],t=this.view;t;)t.props.isInnard||e.push(t),t=t.props.parent;return e.reverse()},getXPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawXPos:this.getParents().reduce(function(e,t){return e+t.state.RawXPos},0)},getYPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawYPos:this.getParents().reduce(function(e,t){return e+t.state.RawYPos},0)},getDepth:function(){return this.model.parent.isKind("scrollarea")?this.view.state.depth:t.first(this.getParents()).state.depth}});var c={stackoffset:{getPlacementIndex:function(e){var t=this.getXPos()+this.dragdropData.snapx,i=this.getYPos()+this.dragdropData.snapy,n=e.getBounds(!0),r=Math.floor((n.left-t)/this.dragdropData.dropoffsetx)+1,s=Math.floor((n.top-i)/this.dragdropData.dropoffsety)+1,o=Math.min(r,s,this.positionSnapshot.length);return Math.max(0,o)},reflow:function(e,t,i){var n=this.getXPos()+this.dragdropData.snapx,r=this.getYPos()+this.dragdropData.snapy;(e||this.getDropChildren()).forEach(function(e,s){s>0&&(n+=this.dragdropData.dropoffsetx,r+=this.dragdropData.dropoffsety),i&&s===t||(e.setPosition(n,r),e.setIndex(s))}.bind(this))}},tile:{getPlacementIndex:function(e){for(var t=-1,i=e.getBounds(!0),n={x:Math.max(this.getXPos(),i.left+i.width/2),y:Math.max(this.getYPos(),i.top+i.height/2)};++t<this.positionSnapshot.length&&!(n.x<this.positionSnapshot[t].right&&n.y<this.positionSnapshot[t].bottom||n.y<this.positionSnapshot[t].top););return t},reflow:function(e,t,i){var n=this.getXPos(),r=this.getYPos(),s=n+this.dragdropData.snapx,o=r+this.dragdropData.snapy,a=s,l=o,u=s+this.getFromView("width")-this.dragdropData.dropoffsetx;(e||this.getDropChildren()).forEach(function(e,r,c){var h=this.getFromView("width",e),p=this.getFromView("height",e);r>0&&(s=a+this.dragdropData.dropoffsetx),a=s+h,a>u&&(s=n+this.dragdropData.snapx,a=s+h,o=l+this.dragdropData.dropoffsety),i&&r===t||(e.setPosition(s,o),e.setIndex(r)),l=Math.max(l,o+p)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return t.get(this,"positionSnapshot.length")||0},reflow:function(e,i,n){var r,s;return e=e||this.getDropChildren(),1===e.length?void(null==i?c.snap.reflow.call(this,e,0,!1):c.snap.reflow.call(this,e,i,n)):void(!n&&isFinite(i)&&(r=t.last(e),s=this.getRandomStackPosition(r),r.setPosition(s.x,s.y),r.setIndex(i)))}},snap:{getPlacementIndex:function(){return t.get(this,"positionSnapshot.length")||0},reflow:function(e,i,n){var r,s,o,a=this.getXPos(),l=this.getYPos(),u=a+this.dragdropData.snapx,c=l+this.dragdropData.snapy;!n&&isFinite(i)&&(o=t.last(e),r=o.dragdropData.snapx,s=o.dragdropData.snapy,o.setPosition(u-r,c-s),o.setIndex(i))}},free:{getPlacementIndex:function(){return t.get(this,"positionSnapshot.length")||0},reflow:t.noop}};return u}),define("views/presentation/decorators/Draggable",["require","lodash","backbone","views/presentation/decorators/Droppable","views/helpers/dragAndDropHelper","helpers/utils","views/helpers/dom","views/helpers/collisionHelper","helpers/windowManager","helpers/pubSub","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=(e("views/presentation/decorators/Droppable"),e("views/helpers/dragAndDropHelper")),r=n.DraggableHelper,s=(e("helpers/utils"),e("views/helpers/dom")),o=e("views/helpers/collisionHelper"),a=(e("helpers/windowManager"),e("helpers/pubSub"),e("helpers/TransMatrix")),l="ondragstart",u="ondragend",c="ondragover",h="ondragout",p="ondragdisconnect",d="ondragconnect",f=1500,m=function(e,i,r,s){return n.util.getRegisteredDroppables().filter(function(n){var o=n.params.data,a=o.dragdropData&&o.dragdropData[s];return o.model!==i&&t.result(o,e)&&t.intersection(a,r).length})},g=function(e){this.view=e,this.model=this.view.props.model};return t.extend(g.prototype,i.Events,{componentWillMount:function(){var e=this.model;this.getEnabledDroppables=t.partial(m,"isDroppable",this.model),this.getEnabledDraggables=t.partial(m,"isHoverable",this.model),this.listenTo(this.model,"addanimationdata",this.addAnimationData),this.listenTo(this.model.getSlide(),"resume:applied",this.registerRelationship),o.initSlideObject(e),this.model.collision.transMatrix=new a,this.view.htmlReady(o.calculateHitTest.bind(o,e,!0))},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.parentShuffleGroup=s.closest(this.view.el,function(e){return e.classList.contains("slide-object-shufflegroup")})},getFromView:function(e,t){return t=t||this,t.view.getPlayerProp(e)},setOnView:function(e,t,i){i=i||this,i.view.setPlayerProp(e,t)},componentDidUpdate:function(e,t){var i=this.view.state.Enabled,n=t.Enabled;i!==n&&null!=this.draggableHelper&&this.draggableHelper[i?"enable":"disable"]()},componentWillUnmount:function(){o.destroy(this.view),this.stopListening(this.model,"addanimationdata",this.addAnimationData),this.stopListening(this.model.getSlide(),"resume:applied",this.registerRelationship)},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new r(this.view,this.getDraggableConfig()),this.view.state.Enabled||this.draggableHelper.disable()),this},getDraggableConfig:function(){var e;return t.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget","setTargets"),e={containment:s.closest(this.view.el,function(e){return e.classList.contains("slide")}),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget,setTargets:this.setTargets}},registerRelationship:function(){var e,t=this.model.prop("DragConnected"),i=this.model.prop("DropIndex");t&&(e=t.currView.decorators.droppable,this.dropParent=e.registerRelationship(this,i))},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(e,t){this.setOnView({RawXPos:e,RawYPos:t})},setToInitPosition:function(){return this.setPosition(this.view.getPlayerProp("ShuffleXPos"),this.view.getPlayerProp("ShuffleYPos")),this.setOnView({depth:this.view.getPlayerProp("InitDepth")}),this},setTargets:function(){var e=this.dragdropData.dragdropids,t=this.dragdropData.dragoverids;this.enabledDropTargets=this.getEnabledDroppables(e,"dragdropids"),this.enabledDragTargets=this.getEnabledDraggables(t,"dragoverids")},onDragStart:function(e,t){this.unParent(),this.setDepth(++f),this.view.dragging=!0,this.model.executePlayerEvent(l)},onDragStop:function(e,t){this.view.dragging=!1,this.model.executePlayerEvent(u),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||this.setPosition(e.x,e.y)},onDraggingOver:function(e,t){var i=t.params.data;i.onDragOver(this,e.x,e.y,!0)},onDropEnter:function(e,t){var i=t.params.data;this.setOnView("DragOverId",i.model.id),i.setOnView("DragOverId",this.model.id),i.onDragEnter(),this.model.executePlayerEvent(c),i.model.executePlayerEvent(c)},onDragOut:function(e,t){var i=t.params.data;this.setOnView("DragOverId",null),i.reflow(),this.model.executePlayerEvent(h),i.model.executePlayerEvent(h)},onDropped:function(e,t){var i=t.params.data,n=i.view.props.model.parent.isKind("scrollarea");i.onDropped(this,e.x,e.y),this.dropParent=i,this.setOnView("DropTargetId",i.model.id),this.setOnView("DragConnected",i.model),this.model.executePlayerEvent(d),n&&this.dropParent.view.el.parentNode.appendChild(this.view.el)},getDropTarget:function(e,i,r){var s,a=this.draggableHelper,l="drag"===r?this.enabledDragTargets:this.enabledDropTargets,u=(a.el.getBoundingClientRect(),t.sortBy(l,n.util.sortByZIndexReverse)),c={RawXPos:a.x,RawYPos:a.y};return a.view.props.model.forEachAncestor(function(e){return e.isSlideObject?(c.RawXPos-=e.prop("RawXPos"),void(c.RawYPos-=e.prop("RawYPos"))):!1}),u.reduce(function(e,t,i){var n=o.getOverlapArea(a.view,t.params.view,u.slice(0,i).map(function(e){return e.params.view}),c,null,!0);return n>e?(s=t,n):e},0),s},unParent:function(){var e=this.dropParent;return e&&(e.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent(p)),this},updateParentDepth:function(e){var t=this.parentShuffleGroup.querySelector(".group").childNodes.length;this.parentShuffleGroup.style.zIndex=e+t},setDepth:function(e){this.parentShuffleGroup&&this.updateParentDepth(e),this.setOnView("depth",e)},setIndex:function(e){this.setOnView("DropIndex",e)},getBounds:function(e){var t=e?this.getDraggingPosition():this.getPosition(),i=this.getFromView("width"),n=this.getFromView("height");return{left:t.x,top:t.y,right:t.x+i,bottom:t.y+n,width:i,height:n}},addAnimationData:function(e){e({RawXPos:this.getFromView("RawXPos"),RawYPos:this.getFromView("RawYPos")})}}),g}),define("models/presentation/Timeline",["require","lodash","helpers/AnimationTimeline","helpers/utils","helpers/actionManager","models/BaseModel","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AnimationTimeline"),n=e("helpers/utils"),r=e("helpers/actionManager"),s=e("models/BaseModel"),o=e("helpers/resume/Chunk"),a={},l=s.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},initialize:function(){t.bindAll(this,"update","triggerPlaybackStateChange","onComplete"),this.timeline=new i({onUpdate:this.update,onComplete:this.onComplete}),this.labels=[],this.setUpTimelineDuration().setUpClamp().setupEvents().setRenderDirty()},setUpTimelineDuration:function(){return this.timeline.totalTime(this.duration()),this},setUpClamp:function(){return this.clampTime=t.partial(n.clamp,0,this.duration()||0),this},elapsedTime:function(){return this.timeline.time()},hasFinished:function(){return 1===this.timeline.progress()},hasStarted:function(){return this.timeline.progress()>0},update:function(){return this.trigger("tick",this.timeline.progress()),this},play:function(){return this.timeline.play(),this.render(),this.trigger("playing"),this},pause:function(e){return e||this.render(),this.timeline.pause(),this.trigger("paused"),this},render:function(){this.renderDirty&&(this.renderDirty=!1,this.seek(this.resetValue||0))},progress:function(e){return null==e?this.timeline.progress():void this.seek(Math.floor(e*this.duration()))},togglePlayback:function(){var e=this.isPlaying()&&!this.hasFinished()?"pause":"play";return this[e](),this},onSeekStart:function(){this.isSeeking||(this.trigger("seekStart",this.seekPlaybackState),this.seekPlaybackState=this.playbackState(),this.isSeeking=!0),this.pause(!0)},onSeekEnd:function(){this.trigger("seekEnd",this.seekPlaybackState),"playing"===this.seekPlaybackState?this.play():this.pause(),this.isSeeking=!1},seek:function(e){return e=this.clampTime(e),this.beforeSeekTime=this.elapsedTime(),this.trigger("beforeSeekUpdate"),this.timeline.reset(),this.timeline.seek(e),this.update(),this.trigger("afterSeekUpdate",e),this.lastSeekTime=e,this},reset:function(){return this.trigger("reset"),this},silentReset:function(){return this.timeline.seek(0,!0),this.timeline.pause(),this},isPlaying:function(){return this.timeline.isActive()},setupEvents:function(){var e=this.events();return null!=e&&e.forEach(function(e){var i=t.uniqueId("timeline-"),n=e.time;this.timeline.add(i,n),this.timeline.add(function(){this.triggerTimelineEvent(e,i)}.bind(this),i),this.labels.push(i),a[i]=this;
}.bind(this)),this},triggerTimelineEvent:function(e,t){var i={context:this.getClosestThisRef(),timelineLabel:t,isSeekAction:this.isSeeking,beforeSeekTime:this.beforeSeekTime||0,time:e.time,currentTime:this.elapsedTime()};r.executeActions(e.actions,i)},playbackState:function(){return this.hasFinished()?"ended":this.isPlaying()?"playing":"paused"},onComplete:function(){this.trigger("ended"),this.trigger("complete")},triggerPlaybackStateChange:function(){this.trigger(this.playbackState())},addChildTimeline:function(e,t){return this.timeline.add(e,t),this},removeChildTimeline:function(e){return this.timeline.remove(e),this},removeLabel:function(e){this.timeline.remove(e)},getResumeData:function(){return o.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0,this.setRenderDirty()},setResumeData:function(e){this.resetValue=o.fromSignedString64(e),this.setRenderDirty().pause()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this.setRenderDirty(),this},setRenderDirty:function(){return this.renderDirty=!0,this},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()},destroy:function(){this.labels.forEach(function(e){delete a[e]})}},{getTimelineFromLabel:function(e){return a[e]}});return l}),define("views/helpers/TweenableTimeline",["require","lodash","helpers/AnimationTimeline","backbone","models/presentation/Timeline"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/AnimationTimeline"),e("backbone")),n=e("models/presentation/Timeline"),r=function(e,t,i,r){this.view=e,this.timeline=t,this.timelineLabel=i,this.timelineControlled=null!=this.timelineLabel,this.layerTimeline=this.timelineControlled?n.getTimelineFromLabel(i):this.view.props.model.getLayer().timeline(),this.isHide=!!r,this.initialize()};return t.extend(r.prototype,i.Events,{playOnSeekEnd:!0,initialize:function(){this.addChildTimeline(),this.timelineControlled||this.listenTo(this.layerTimeline,{playing:this.playTimeline,paused:this.pauseTimeline,seekStart:this.onSeekStart,seekEnd:this.onSeekEnd})},addChildTimeline:function(){this.timelineControlled?this.layerTimeline.addChildTimeline(this.timeline,this.timelineLabel):(this.actionTimeline=this.timeline,this.actionTimeline.seek(0),this.actionTimeline.play())},removeChildTimeline:function(){this.timelineControlled?this.layerTimeline.removeChildTimeline(this.timeline):this.actionTimeline=null},pauseTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.pause()},playTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.play()},onSeekStart:function(){this.playOnSeekEnd=this.actionTimeline.isActive(),this.pauseTimeline()},onSeekEnd:function(){this.playOnSeekEnd&&this.playTimeline()},destroy:function(e){this.removeChildTimeline(),this.isHide?this.timeline.reset():e&&this.timeline.progress(1,!0),this.timeline.kill(),this.view.updateFromTween(),this.stopListening()}}),r}),define("views/presentation/decorators/Tweenable",["require","lodash","helpers/AnimationTimeline","backbone","views/helpers/collisionHelper","views/helpers/TweenableTimeline","views/helpers/TweenHelper","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AnimationTimeline"),n=e("backbone"),r=e("views/helpers/collisionHelper"),s=e("views/helpers/TweenableTimeline"),o=e("views/helpers/TweenHelper"),a=(e("helpers/utils"),function(e){this.view=e,this.model=this.view.props.model});return t.extend(a.prototype,n.Events,{componentWillMount:function(){this.model.animations().isEmpty()||this.listenTo(this.model,{"showcustom hidecustom":this.showHideCustom,"action:exe_animation":this.animate,addanimationdata:this.addAnimationData,killAnimations:this.stopCurrentAnimation,hide:t.partial(this.stopCurrentAnimation,!0),clearAnimations:this.clearAnimations})},componentDidMount:function(){this.el=this.view.el},componentDidUpdate:function(){this.view.tweenedConfig&&(t.extend(this.el.style,this.view.tweenedConfig.style),null!=this.view.animationOverride&&this.view.animationOverride.update(this.view.tweenedConfig.props))},componentWillUnmount:function(){this.stopCurrentAnimation(!1),this.stopListening()},showHideCustom:function(e,t,i,n){this.playAnimation(i,t.timelineLabel,!1,n,!e)},animate:function(e,t){this.model.prop("TimelineControlled",null!=t.timelineLabel),this.playAnimation(this.model.animations().get(e.id),t.timelineLabel,e.reverse.value)},addAnimationData:function(e){e(null!=this.view.tweenedConfig?this.view.tweenedConfig.props:null)},clearAnimations:function(){this.stopCurrentAnimation(!1)},playAnimation:function(e,t,i,n,r){this.stopCurrentAnimation(!0);var o=this.createTimelineFor(e,i,n);this.tweenableTimeline=new s(this.view,o,t,r),this.view.setPlayerProp("Moved",null!=t)},createTimelineFor:function(e,t,n){var s=new i({tweens:[new o(this.view,t,e.getConfig())],onComplete:this.wrapCallback(n,e.id,t)});return s.onUpdate=function(){this.view.props.model.isCollideable&&r.performCollisionDetect(this.view),(this.model.isShapeMask||this.model.isShapeMasked)&&this.model.onTweenUpdate(this.view)}.bind(this),s},wrapCallback:function(e,t,i){return function(){var n=this.view.tweenedConfig?this.view.tweenedConfig.props:null;this.stopCurrentAnimation(!1),this.view.props.model.isCollideable&&r.performCollisionDetect(this.view,n,!0),null!=e&&e(),this.model.executeFilteredPlayerEvent(function(e){return e.id===t&&e.reverse===i?!0:void 0},"onanimationcomplete")}.bind(this)},stopCurrentAnimation:function(e){null!=this.tweenableTimeline&&(this.tweenableTimeline.destroy(e),this.tweenableTimeline=null,this.view.tweenedConfig=null)}}),a}),define("views/presentation/decorators/Slideable",["require","lodash","backbone","helpers/utils","helpers/resolver","helpers/actionManager","helpers/svg/svgUtils","views/helpers/dom","polyfills/detection","views/helpers/collisionHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),r=e("helpers/resolver"),s=e("helpers/actionManager"),o=e("helpers/svg/svgUtils"),a=e("views/helpers/dom"),l=e("polyfills/detection"),u=e("views/helpers/collisionHelper"),c=e("helpers/windowManager"),h=function(e){var t=e.toString().split(".");return 2===t.length?Math.min(2,t[1].length):0},p=function(e){this.view=e,this.model=e.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return t.extend(p.prototype,i.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){t.bindAll(this,"onUpdateSlider","onBoundVariableChanged","onMouseEvent","onUpdateSliderMobile")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb(null,!0).addAccessibilityItems().updateAccessibilityText(),l.isMobile&&(this.currSlide=c.getCurrentWindowSlide())},onAfterShow:function(){this.updateSliderThumb(null,!0)},componentDidUpdate:function(){this.updateAccessibilityText()},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.addOrRemoveListeners(!1),this.parentEl.removeChild(this.rangeInput)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(e){this.adjustVarAction.value={type:"number",value:e},s.executeAction(this.adjustVarAction,{context:this.model})},transformValue:function(e){var t=this.invertedSlider?this.max+this.min-e:e;return n.fix(t,this.toFixedAmount)},setupSlider:function(){return this.dragpath=this.model.dragpath(),this.parentEl.style.pointerEvents="all",this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=h(this.dragpath.increment),this.boundVariable=r.resolvePath(this.dragpath.bindto),this},buildSlider:function(){var e,t=this.boundVariable.value();return this.rangeInput=document.createElement("input"),this.dragpath.startvalue>this.dragpath.endvalue?(this.min=this.dragpath.endvalue,this.max=this.dragpath.startvalue,this.invertedSlider=!0,t=this.transformValue(t)):(this.invertedSlider=!1,this.min=this.dragpath.startvalue,this.max=this.dragpath.endvalue),e={type:"range",value:t,step:this.dragpath.snap?this.dragpath.increment:0,min:this.min,max:this.max,"data-accepts":"events"},this.step=e.step,a.setAttributes(this.rangeInput,e),this.rangeInput.style.zIndex=this.zIndex,this.rangeInput.classList.add("slider"),this.parentEl.appendChild(this.rangeInput),l.isMobile&&(this.getTrackModel(),this.topParentView=this.view.props.parent.props.parent),this},getTrackModel:function(){this.trackModel=this.parentModel.objects().find(function(e){return e.id.indexOf("_track")>-1})},setupEvents:function(){return this.listenTo(this.parentModel.playerProps,"change:Enabled",function(e,t){this.rangeInput.disabled=!t}.bind(this)),this.eventType=this.dragpath.liveupdating?"input":"change",this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),this.addOrRemoveListeners(!0),this},addOrRemoveListeners:function(e){var t,i=e?"addEventListener":"removeEventListener";!l.isMobile||l.isMobilePreview?(this.rangeInput[i]("input",this.onUpdateSlider),this.rangeInput[i]("change",this.onUpdateSlider)):(t=this.parentEl.parentNode,this.parentEl.style.pointerEvents="none",t[i]("touchmove",this.onUpdateSliderMobile),t[i]("touchstart",this.onUpdateSliderMobile),t[i]("touchcancel",this.onUpdateSliderMobile),t[i]("touchend",this.onUpdateSliderMobile))},updateSliderThumb:function(e,t){e=e||this.transformValue(this.boundVariable.value());var i=n.clamp(this.min,this.max,e),r=(i-this.min)/this.totalRange;return t&&(this.rangeInput.value=i),this.view.setPlayerProp("RawXPos",r*this.maxX),this.view.props.model.isCollideable&&null!=this.view.props.model.collision&&u.performCollisionDetect(this.view.props.parent,null,!0),this},onMouseEvent:function(e){this.parentModel.executePlayerEvent(this.eventMap[e.type])},onBoundVariableChanged:function(e,t,i){t=this.transformValue(parseFloat(t)),this.updateSliderThumb(t,!0)},onUpdateSliderMobile:function(e){var t,i,r,s,o,a,l;e.preventDefault(),"touchend"===e.type?this.onUpdateSlider({type:"change"}):e.touches&&1===e.touches.length&&(r=this.currSlide.calculateTotalScale(),l=this.view.getLayer().getBoundingClientRect(),i=u.slideObjectMouseLoc(this.topParentView,(e.touches[0].pageX+-l.left)*r,(e.touches[0].pageY+-l.top)*r,!0,!0),t=Math.min(Math.max(0,i.x/this.trackModel.width()),1),s=(this.totalRange+this.step)*t+this.min,a=!1,0>=s&&(s*=-1,a=!0),o=s-Math.abs(s%this.step)+Math.abs(this.step/2)+this.step/2,a&&(o*=-1),o=n.clamp(this.min,this.max+this.step,o)-this.step,this.rangeInput.value=o,this.onUpdateSlider({type:"input"}))},onUpdateSlider:function(e){var t=this.rangeInput.valueAsNumber;this.dragpath.liveupdating||"change"===e.type?this.adjustVariable(this.transformValue(t)):this.updateSliderThumb(t)},addAccessibilityItems:function(){return this.view.stealFocus=this.stealFocus.bind(this.view,this),this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.view.releaseFocus=this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},addFocusStyle:function(){var e=o.createElement("rect"),t=this.view.find("g > g"),i=t.getBBox(),n=3,r=2*n;e.setAttribute("class","focused"),e.setAttribute("x",i.x-n),e.setAttribute("y",i.y-n),e.setAttribute("width",i.width+r),e.setAttribute("height",i.height+r),e.setAttribute("stroke-width",n),t.appendChild(e),this.focusRect=e},stealFocus:function(e,t,i){i||e.addFocusStyle(),e.rangeInput.focus()},releaseFocus:function(e,t){null!=e.focusRect&&(this.find("g > g").removeChild(e.focusRect),e.focusRect=null),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n=i?"stepDown":"stepUp";try{e.rangeInput[n](),e.onUpdateSlider({type:"change"})}catch(r){}return!0}}),p}),define("views/presentation/decorators/Obscurable",["require","lodash","backbone","helpers/resolver","helpers/actionManager","views/helpers/collisionHelper","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=(e("backbone"),e("helpers/resolver"),e("helpers/actionManager"),e("views/helpers/collisionHelper")),n=(e("helpers/TransMatrix"),function(e){this.view=e,this.model=e.props.model,this.view.isObscurable=!0});return t.extend(n.prototype,{componentWillMount:function(){i.initSlideObject(this.model)},componentDidMount:function(){this.view.htmlReady(this.whenHtmlReady.bind(this))},whenHtmlReady:function(){i.calculateHitTest(this.model)},componentWillUnmount:function(){i.destroy(this.view)}}),n}),define("views/presentation/decorators/Rotatable",["require","lodash","backbone","helpers/resolver","helpers/svg/svgUtils","helpers/utils","helpers/TransMatrix","helpers/actionManager","views/events/touchHelper","polyfills/detection","helpers/scaler","helpers/windowManager","views/helpers/dom","views/helpers/collisionHelper","helpers/tabFocusBox"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/resolver"),r=e("helpers/svg/svgUtils"),s=e("helpers/utils"),o=e("helpers/TransMatrix"),a=(e("helpers/actionManager"),e("views/events/touchHelper")),l=e("polyfills/detection"),u=e("helpers/scaler"),c=e("helpers/windowManager"),h=e("views/helpers/dom"),p=e("views/helpers/collisionHelper"),d=e("helpers/tabFocusBox"),f=function(e,t){var i=360*(e?1:-1);return t+=i},m=t.partial(f,!0),g=t.partial(f,!1),v=Number.MAX_SAFE_INTEGER||Math.pow(2,50),y=function(e){this.view=e,this.model=e.props.model,t.extend(this,this.model.dragrotation())};t.extend(y.prototype,i.Events,{inverted:!1,componentDidMount:function(){this.currSlide=c.getCurrentWindowSlide(),t.bindAll(this),this.parentEl=this.view.el.parentNode,this.setLoAndHi().setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.boundVar.value()).buildSlider().addAccessibilityItems().updateAccessibilityText()},componentDidUpdate:function(){this.updateAccessibilityText()},setLoAndHi:function(){return this.lowvalue=Math.min(this.startvalue,this.endvalue),this.highvalue=Math.max(this.startvalue,this.endvalue),this.lowvalue<this.startvalue&&(this.inverted=!0),this},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.view.el.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),document.body.removeEventListener("mousemove",this.onMouseMove),this.unbindTouch&&this.unbindTouch(),this.parentEl.removeChild(this.rangeInput)},setParentSlideView:function(){this.parentSlide||(this.parentSlide=c.getCurrentWindow().getCurSlide())},setDegreeSnap:function(){var e;return this.valRange=this.highvalue-this.lowvalue,this.angleRange=Math.abs(this.endrotation-this.startrotation),this.snap&&(e=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/e),this.stepDeg=s.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=n.resolvePath(this.bindto,this.model),this},setListeners:function(){return this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),l.isMobileAndNotPreview?this.unbindTouch=t.flow(a.on(this.view.el,"touchstart",this.onMouseDown),a.on(this.view.el,"touchend",this.onMouseUp),a.on(this.view.el,"touchmove",this.onMouseMove)):(this.view.el.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp)),this},setRotationFromValue:function(e){var t=this.view.el,i=this.rotateXPos-this.model.rotateXPos(),n=this.rotateYPos-this.model.rotateYPos();return null==this.origTransform&&(this.origTransform=t.style[this.view.cssTransform]),this.lastSetRotation=this.getAngleFromValue(e),t.style[this.view.cssTransform]=[this.origTransform,r.transformTranslate(s.pxify(i),s.pxify(n)),r.transformRotate(this.lastSetRotation+"deg"),r.transformTranslate(s.pxify(-i),s.pxify(-n))].join(" "),this.model.forEachAncestor(function(e){return e.isKind("scrollarea")||e.isKind("slidelayer")?!1:void(e.isCollideable&&null!=e.collision&&p.performCollisionDetect(e.currView,null,!0))},!0),this},buildSlider:function(){var e=this.boundVar.value(),t={type:"range",value:e,step:this.snap?this.increment:0,min:this.startvalue,max:this.endvalue};return this.rangeInput=document.createElement("input"),h.setAttributes(this.rangeInput,t),this.rangeInput.className="accessibility",this.parentEl.appendChild(this.rangeInput),this},onBoundVariableChanged:function(e,t){this.setRotationFromValue(t),this.rangeInput.value=t},adjustVariable:function(e){var t={operator:"set",value:{type:"number",value:e}};return this.boundVar.adjust(t,{context:this.model}),this},onMouseDown:function(e){e.preventDefault(),this.isEnabled()&&(this.centerCoords=this.getCenterPos(),this.lastAngle=this.initAngle=this.getAngleFromEvent(e),this.angleChange=this.overRot=0,this.initRotation=this.lastSetRotation,document.body.addEventListener("mousemove",this.onMouseMove))},onMouseUp:function(e){document.body.removeEventListener("mousemove",this.onMouseMove),!this.liveupdating&&this.isEnabled()&&this.adjustVariable(this.getValueFromAngle(this.lastSetRotation))},getAngleFromValue:function(e){e=s.clamp(this.lowvalue,this.highvalue,e);var t=this.inverted?this.highvalue-e:e-this.lowvalue;return null!=this.stepDeg?t/this.increment*this.stepDeg+this.startrotation:t/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(e){var t=e-this.startrotation,i=t/this.angleRange,n=i*this.valRange;return n=this.inverted?this.highvalue-n:this.lowvalue+n,this.roundValue(n)},roundStep:function(e,i){var n=e?t.range(this.startrotation,this.endrotation+1,this.stepDeg):t.range(this.lowvalue,this.highvalue+1,this.increment);return n.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e},v)},getAngleFromEvent:function(e){var t=a.getPageLoc(e),i=t.pageX-this.centerCoords.x,n=t.pageY-this.centerCoords.y;return s.normalizeDeg(s.radToDeg(Math.atan2(n,i))+90)},adjustOverRotation:function(e){var t=e-this.lastAngle;t>180?this.overRot=g(this.overRot):-180>t&&(this.overRot=m(this.overRot))},cleanAngle:function(e){var t=s.normalizeDeg(e);return this.snap?this.roundAngle(t):t},onMouseMove:function(e){if(this.isEnabled()){var t=this.getAngleFromEvent(e);this.adjustOverRotation(t),this.lastAngle=t,this.angleChange=t+this.overRot-this.initAngle,t=this.initRotation+this.angleChange,this.setAngle(s.clamp(this.startrotation,this.endrotation,t))}},setAngle:function(e){e!==this.lastSetRotation&&(this.liveupdating?this.adjustVariable(this.getValueFromAngle(e)):(this.lastSetRotation=e,this.setRotationFromValue(this.getValueFromAngle(e))))},getCenterPos:function(){for(var e,t,i,n=[],r=new o,s=this.model,a=u.getScale()||1;s.isSlideObject;)n.push(s),s=s.getClosestParentRef();return n.reverse().forEach(function(e){var t,i=e.currView;null!=i&&i.updateFromTween(),t=e.getPlayerPropsRaw(),t.ScaleX/=100,t.ScaleY/=100,r.adjustByViewProps(t)}),i=r.transform(this.rotateXPos,this.rotateYPos),l.isMobile?(this.currSlide.pinchZoomScale&&(this.setParentSlideView(),this.parentSlide&&(i=this.parentSlide.pinch.matrix.transform(i.x,i.y))),t=this.currSlide.parentTransform.scale,i.x*=t,i.y*=t,i.x+=this.currSlide.parentTransform.xOff,i.y+=this.currSlide.parentTransform.yOff):(e=this.view.getLayer().getBoundingClientRect(),i.x*=a,i.y*=a,i.x+=e.left,i.y+=e.top),i},isEnabled:function(){var e=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!e.isSlideObject||e.prop("Enabled"))},addAccessibilityItems:function(){return this.viewStealFocus=this.view.stealFocus,this.view.stealFocus=this.stealFocus.bind(this.view,this),this.viewReleaseFocus=this.view.releaseFocus,this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.viewStealFocus,this.view.releaseFocus=this.viewReleaseFocus,this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},stealFocus:function(e){e.viewStealFocus.apply(e,t.slice(arguments,1)),e.rangeInput.focus()},releaseFocus:function(e){e.viewReleaseFocus.apply(e,t.slice(arguments,1)),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n,r=i?"stepDown":"stepUp";try{e.rangeInput[r](),n=e.rangeInput.value,e.setRotationFromValue(n).adjustVariable(n)}catch(s){}return d.lastItemFocused===this.view&&d.update(this.view),!0}});var b=y.prototype;return b.roundValue=t.partial(b.roundStep,!1),b.roundAngle=t.partial(b.roundStep,!0),y}),define("views/mixins/decorateable",["require","lodash","views/presentation/decorators/Draggable","views/presentation/decorators/Droppable","views/presentation/decorators/Tweenable","views/presentation/decorators/Slideable","views/presentation/decorators/Obscurable","views/presentation/decorators/Rotatable"],function(e){"use strict";var t=e("lodash"),i=e("views/presentation/decorators/Draggable"),n=e("views/presentation/decorators/Droppable"),r=e("views/presentation/decorators/Tweenable"),s=e("views/presentation/decorators/Slideable"),o=e("views/presentation/decorators/Obscurable"),a=e("views/presentation/decorators/Rotatable"),l={createDecorator:function(e){return new e(this)},callLifeCycleEvent:function(e){for(var i=arguments.length,n=new Array(i),r=0;i>r;++r)n[r]=arguments[r];t.forOwn(this.decorators,function(t){t[e]&&t[e].apply(t,n.slice(1))})},componentWillMount:function(){this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(e){this.callLifeCycleEvent("componentWillReceiveProps",e)},componentWillUpdate:function(e,t){this.callLifeCycleEvent("componentWillUpdate",e,t)},componentDidUpdate:function(e,t){this.callLifeCycleEvent("componentDidUpdate",e,t)},createDecorators:function(){var e=this.props.model;e.isDraggable()&&!this.hasDraggableAncestor()&&(this.decorators.draggable=this.createDecorator(i)),e.isDroppable()&&(this.decorators.droppable=this.createDecorator(n)),e.isTweenable()&&(this.decorators.tweenable=this.createDecorator(r)),e.isSlideable()&&(this.decorators.slideable=this.createDecorator(s)),e.isObscurableBySelf()&&(this.decorators.obscurable=this.createDecorator(o)),e.isRotatable()&&(this.decorators.rotatable=this.createDecorator(a))},hasDraggableAncestor:function(){for(var e=this;e=e.props.parent;)if(e.props.model.isDraggable())return!0;return!1}};return l}),define("views/presentation/mixins/displayable",["require","lodash"],function(e){"use strict";var t=e("lodash"),i={componentWillMount:function(){var e=this.props.model,i=e.isKind("slidelayer"),n=this.props.slideFrame;this.childrenVisible=!1,this.trulyVisible=!1,this.parentVisible=!1,i&&null!=n&&this.listenTo(n.props.model,"trueVisibilityChanged",t.partial(this.updateTrueVisibility,null)),this.isParentVisible=i?function(){return t.get(this.props.slideFrame,["props","model","currView","trulyVisible"],!0)}:function(){return this.parentVisible},this.isObjectVisible=i?function(){return this.isBaseLayer()||!!e.isOpen}:function(){return e.prop("OnStage")&&!e.prop("HiddenByLayer")},this.isChildrenVisible=e.isKind("expandinglabel")?function(e){return e&&this.getPlayerProp("Expanded")}:t.identity},componentDidMount:function(){this.isBaseLayer&&this.isBaseLayer()&&this.updateTrueVisibility()},updateTrueVisibility:function(e){null==e&&(e=this.isObjectVisible());var t=this.props.model,i=this.isParentVisible(),n=e&&i,r=this.isChildrenVisible(n);n!==this.trulyVisible&&(this.trulyVisible=n,this.parentVisible=i,t.trigger("trueVisibilityChanged",n)),this.childrenVisible!==r&&(this.childrenVisible=r,t.objects&&t.objects().forEach(function(e){var t=e.currView;t.parentVisible!==r&&(t.parentVisible=r,t.updateTrueVisibility())}))}};return i}),define("helpers/curveHelper",["require","lodash","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),r=10,s=.01,o=20,a=n.math.TO_DEGREES,l=function(e,t){return i.dist(e.x,e.y,t.x,t.y)},u=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*a},c=function(e,t){var i=1-e,n=e*e,r=i*i,s=r*i,o=3*e*r,a=3*n*i,l=n*e;return{x:s*t[0].x+o*t[1].x+a*t[2].x+l*t[3].x,y:s*t[0].y+o*t[1].y+a*t[2].y+l*t[3].y}},h=function(e,t){var i=1-e,n=i*i,r=2*i*e,s=e*e;return{x:n*t[0].x+r*t[1].x+s*t[2].x,y:n*t[0].y+r*t[1].y+s*t[2].y}},p=function(e,t){return{x:t[0].x+(t[1].x-t[0].x)*e,y:t[0].y+(t[1].y-t[0].y)*e}},d=[void 0,void 0,p,h,c],f={getDistance:function(e,i){return 2===e.length?l(e[0],e[1]):(t.isArray(i)||(i=this.getSamplePoints(e,i||r)),t.last(i).distance)},getSamplePoints:function(e,t){if(2===e.length)return null;t=t||r;for(var i,n,s=0,o=[],a=e[0],u=1/t,c=0;t>=c;c++)i=u*c,n=this.getPointAtTime(i,e),s+=l(a,n),o.push({time:i,distance:s}),a=n;return o},curveToLines:function(e,i){if(2===e.length)return t.clone(e,!0);var n,r,s,a,u,c,h,p,f=[],m=0,g=d[e.length];for(null==i&&(r=g(0,e),s=g(.25,e),a=g(.5,e),u=g(.75,e),c=g(1,e),p=l(r,s)+l(s,a)+l(a,u)+l(u,c),i=Math.min(parseInt(p/2),o)),h=1/i,n=0;i>n;n++)f.push(g(m,e)),m+=h;return f.push(g(1,e)),f},getPointAtTime:function(e,t){return d[t.length](e,t)},getNormalizedPointAtTime:function(e,i,n,o){var a,l,c,h,p,d,f,m;return 2===i.length?(l=this.getPointAtTime(e,i),o&&(l.angle=u(i[0],i[1])),l):(t.isArray(n)||(n=this.getSamplePoints(i,n||r)),p=0,d=1,h=this.getDistance(i,n)*e,a=t.sortedIndex(n,{distance:h},"distance"),(a>n.length-1||h!==n[a].distance)&&a--,f=n[a],m=n[a+1],a<n.length-1&&(d=f.time+((h-f.distance)/(m.distance-f.distance)||0)*(m.time-f.time)),l=this.getPointAtTime(d,i),o&&(d+=s,d>1&&(d-=2*s,p=-180),c=this.getPointAtTime(d,i),l.angle=u(l,c)+p),l)}};return f}),define("helpers/svg/pointHelper",["require","lodash","helpers/curveHelper","helpers/utils","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("helpers/curveHelper"),n=(e("helpers/utils"),e("helpers/TransMatrix")),r=/(?=[MLzZCaA])/g,s=/ |,/g,o=/scale\(|[,)]/,a=4*(Math.sqrt(2)-1)/3,l=function(e){var t,i,n=[],r=e.length;for(t=0;r>t;t++)i=u(e[t]),n.push({x:i.left,y:i.top}),n.push({x:i.left,y:i.bottom}),n.push({x:i.right,y:i.bottom}),n.push({x:i.right,y:i.top});return n},u=function(e){var t,i,n,r=e.getAttribute("transform"),s=parseFloat(e.getAttribute("x")),a=parseFloat(e.getAttribute("y")),l=parseFloat(e.getAttribute("height")),u=parseFloat(e.getAttribute("width"));return t=r.split(o),i=parseFloat(t[1]),n=parseFloat(t[2]),{left:s,top:a,right:s+u*i,bottom:a+l*n}},c=function(e){var t,i,n,s,o,a,l=[],u={x:0,y:0},c=e.getAttribute("d");for(o=c.split(r),a=o.length,t=0;a>t;t++)i=o[t].charAt(0),"a"===i&&"a"===o[t+1].charAt(0)?(n=h(s,u,o[t].substr(1)),t++):n=p(s,u,i,d(o[t].substr(1))),u=n.lastPoint,s=s||n.firstPoint,l=l.concat(n.curves);return l},h=function(e,t,i){var n=i.split(" "),r=parseFloat(n[0]),s=parseFloat(n[1]),o=[],l=t.x,u=t.y-s,c=r*a,h=s*a,p=l+2*r,d=u+2*s,f=l+r,m=u+s;return o.push([{x:l,y:m},{x:l,y:m-h},{x:f-c,y:u},{x:f,y:u}]),o.push([{x:f,y:u},{x:f+c,y:u},{x:p,y:m-h},{x:p,y:m}]),o.push([{x:p,y:m},{x:p,y:m+h},{x:f+c,y:d},{x:f,y:d}]),o.push([{x:f,y:d},{x:f-c,y:d},{x:l,y:m+h},{x:l,y:m}]),{firstPoint:e,lastPoint:t,curves:o}},p=function(e,t,i,n){var r,s=n.length,o=[];if("M"===i)e=t=n[0];else if("L"===i)for(e=t,r=0;s>r;r++)o.push([t,n[r]]),t=n[r];else if("C"===i)for(e=t,r=0;s>r;r+=3)o.push([t,n[r],n[r+1],n[r+2]]),t=n[r+2];else"z"!==i&&"Z"!==i||o.push([t,e]);return{firstPoint:e,lastPoint:t,curves:o}},d=function(e){if(e=e.trim(),0===e.length)return[];var t,i=e.split(s),n=[],r=i.length;for(t=0;r>t;t+=2)n.push({x:parseFloat(i[t]),y:parseFloat(i[t+1])});return n},f=function(e){var t,i=[],n=e.length;for(t=0;n>t;t++)i=i.concat(c(e[t]));return i},m=function(e){var t,i=0,n=e.length;for(t=0;n>t;t++)i=Math.max(e[t].getAttribute("stroke-width"),i);return i},g=function(e){var t,n=[],r=e.length;for(t=0;r>t;t++)n=n.concat(i.curveToLines(e[t]));return n},v=function(e,t){var i,n=[],r=e.length;for(i=0;r>i;i++)n.push(t.transformPoint(e[i].x,e[i].y));return n},y={getRotatedPixelBounds:function(e,i){var r,s,o,a,u,c,h,p,d,y,b,w,S=[],x=0,T=e.find("svg");if(null!=T){if(d=t.toArray(T.querySelectorAll("path")),y=t.toArray(T.querySelectorAll("image")),b=!t.isEmpty(d),w=!t.isEmpty(y),!b&&!w)return null;for(p=e.props.model,h=new n,h.rotate(i,p.rotateXPos(),p.rotateYPos()),b&&(S=g(f(d)),x=m(d)),w&&(S=S.concat(l(y))),c=v(S,h),s=c[0].y,a=c[0].y,o=c[0].x,u=c[0].x,r=1;r<c.length;r++)s=Math.min(c[r].y,s),o=Math.min(c[r].x,o),a=Math.max(c[r].y,a),u=Math.max(c[r].x,u);return{top:s-x/2,left:o-x/2,bottom:a+x/2,right:u+x/2}}}};return y}),define("helpers/boundsHelper",["require","helpers/TransMatrix","views/helpers/collisionHelper","helpers/svg/pointHelper"],function(e){"use strict";var t=e("helpers/TransMatrix"),i=e("views/helpers/collisionHelper"),n=e("helpers/svg/pointHelper"),r=function(e,t){return{tl:t.transformPoint(e.left,e.top),tr:t.transformPoint(e.right,e.top),bl:t.transformPoint(e.left,e.bottom),br:t.transformPoint(e.right,e.bottom)}},s={getRotatedPixelBounds:function(e,s){var o,a,l,u,c,h,p,d,f,m,g,v,y=e.props.model;if(y.isGroupingSlideObject){a=y.getChildren(),c=a.length;for(var b=0;c>b;b++)o=a[b],null==o.currView||o.isKind("expandinglabel")||(l=null!=o.currView?o.currView.getRotation():o.get("rotation"),u=null!=o.currView?o.currView.getPosition():{x:o.playerProps.get("RawXPos"),y:o.playerProps.get("RawYPos")},m=o.currView.getRotatedPixelBounds(l+s),g=new t,g.rotate(s,y.rotateXPos(),y.rotateYPos()),g.translate(u.x,u.y),g.rotate(-s,o.rotateXPos(),o.rotateYPos()),m=r(m,g),h=Math.min(h||m.tl.y,m.tl.y,m.tr.y,m.bl.y,m.br.y),p=Math.max(p||m.tl.y,m.tl.y,m.tr.y,m.bl.y,m.br.y),d=Math.min(d||m.tl.x,m.tl.x,m.tr.x,m.bl.x,m.br.x),f=Math.max(f||m.tl.x,m.tl.x,m.tr.x,m.bl.x,m.br.x));return{top:h,bottom:p,left:d,right:f}}return v=n.getRotatedPixelBounds(e,s),null==v&&(v=i.getRotatedPixelBounds(e,s)),v}};return s}),function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,i){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=i},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0);
},window.SVGPathSegMovetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=i},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=i},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=i},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=i},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,i,n,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=i,this._x1=n,this._y1=r,this._x2=s,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,i,n,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=i,this._x1=n,this._y1=r,this._x2=s,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=i,this._x1=n,this._y1=r},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=i,this._x1=n,this._y1=r},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,i,n,r,s,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=i,this._r1=n,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,i,n,r,s,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=i,this._r1=n,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=i,this._x2=n,this._y2=r},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=i,this._x2=n,this._y2=r},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new SVGPathSegMovetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new SVGPathSegMovetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new SVGPathSegLinetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new SVGPathSegLinetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,i,n,r,s){return new SVGPathSegCurvetoCubicAbs(void 0,e,t,i,n,r,s)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,i,n,r,s){return new SVGPathSegCurvetoCubicRel(void 0,e,t,i,n,r,s)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,i,n,r,s,o){return new SVGPathSegArcAbs(void 0,e,t,i,n,r,s,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,i,n,r,s,o){return new SVGPathSegArcRel(void 0,e,t,i,n,r,s,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new SVGPathSegLinetoHorizontalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new SVGPathSegLinetoHorizontalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new SVGPathSegLinetoVerticalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new SVGPathSegLinetoVerticalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||0>e||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList._pathSegArrayAsString=function(e){var t="",i=!0;return e.forEach(function(e){i?(i=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(e){this.pathSegList.push(e)};var n=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return" ">=e&&(" "==e||"\n"==e||"	"==e||"\r"==e||"\f"==e)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},n.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&"9">=e)&&t!=SVGPathSeg.PATHSEG_CLOSEPATH?t==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:t==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:t:SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==SVGPathSeg.PATHSEG_MOVETO_ABS||e==SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var e=0,t=0,i=1,n=0,r=1,s=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var l=this._currentIndex-1,u=1;l>=a;)t+=u*(this._string.charAt(l--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n+=(this._string.charAt(this._currentIndex++)-"0")*(i*=.1)}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=t+n;if(c*=r,e&&(c*=Math.pow(10,s*e)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},n.prototype.parseSegment=function(){var e=this._string[this._currentIndex],i=this._pathSegTypeFromChar(e);if(i==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(i=this._nextCommandHelper(e,this._previousCommand),i==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
return new SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(t);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(t,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(t,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(t,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(t,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new i,s=new n(e);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){var o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList})}(),define("pathseg",function(){}),define("views/mixins/adornable",["require","pathseg","lodash","react","react-dom","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/constants","helpers/TransMatrix"],function(e){"use strict";e("pathseg");var t=e("lodash"),i=(e("react"),e("react-dom")),n=e("helpers/utils"),r=e("helpers/errorManager"),s=e("helpers/svg/svgUtils"),o=e("helpers/constants"),a=e("helpers/TransMatrix"),l=r.warn("Adornable"),u=r.throwError("Adornable"),c=r.backtick,h=function(){var e=/c|s|q|t|a/i;return function(t){return e.test(t.getAttribute("d"))}}(),p=t.partialRight(t.pick,"x","y"),d=function(e,i){return t.extend(e.createSVGPoint(),i)},f=function(e,t){return t.matrixTransform(e)},m=function(e,i){var n=t.partial(f,e),r=i.map(n),s=t.max(r,"y"),o=function(e){return e.y===s.y},a=r.filter(o),l=t.min(a,"x"),u=t.max(a,"x"),c=(l.x+u.x)/2,h=l.y,p=t.indexOf(r,l),d=t.indexOf(r,u),m=i[p],g=i[d],v=(m.x+g.x)/2,y=(m.y+g.y)/2;return{transformed:{x:c,y:h},original:{x:v,y:y}}},g=function(){var e=5,i=function(t){return t*e};return function(n,r){var s=(r.getTotalLength(),r.getPointAtLength.bind(r)),o=Math.ceil(r.getTotalLength()/e)+1,a=t.range(o).map(i).map(s);return m(n,a)}}(),v=function(e,i){var r=i.pathSegList,s=r.getItem.bind(r),o=t.range(r.numberOfItems).map(s),a=t(o).map(p).filter(n.not(t.isEmpty)).map(t.partial(d,i.ownerSVGElement)).value();return m(e,a)},y=function(){var e=function(e,t){var i=h(t)?g:v;return i(e,t)},i=function(e){return e.transformed.y};return function(n,r){var s=t(r).map(t.partial(e,n)).max(i).original;return p(s)}}(),b=function(e){var t=e.getAttributeNS(o.XMLNS_XLINK,"href"),i=e.ownerSVGElement;return i.querySelector(t)},w=function(e){return s.isUseNode(e)?b(e):e},S=function(e){return e=w(e),s.isPathNode(e)?[e]:t.toArray(e.querySelectorAll("path"))},x=function(){var e=/#([^\)\s'"]*)/;return function(t){var i=e.exec(t);return null==i?null:i[1]}}(),T={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},C={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var e=t.values(t.pick(this.refs,function(e,t){return 0===t.indexOf("adornable")}));e.length&&e.forEach(function(e){this.setAsAdornable(i.findDOMNode(e),this.props.model.get("rotation"))}.bind(this))},setAsAdornable:function(e,t){this.adornType=e.getAttribute("data-adornment-type"),this.adornedNode=e,this.adornRotation=t,this.parentSvg=e.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(e.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=T[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(e){return(this.adornRotationOffset||(this.adornRotationOffset=e.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var e,t=this.parentSvg.querySelector("[data-rotation-offset]");return t&&(e=this.gradientRotationOffset(t),e[0]=-this.adornRotation+parseFloat(e[0]),t.setAttribute("gradientTransform",["rotate(",e.join(","),")"].join(""))),this},getDataAsFloat:function(e){return parseFloat(this.adornedNode.getAttribute("data-"+e))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var e=S(this.adornedNode);return t.isEmpty(e)?void l("calculateLowestRotatedPoint","no `path` nodes found for calculation"):y(this.adornMatrix,e)},applyRotation:function(){if(!this.adornRotationPoint)return this;var e=this.adornConfig.rotationMethods;return e||u("applyRotation","adornment of",c(this.adornType),"not supported"),e.forEach(function(e){this[e]()}.bind(this)),this},addRotation:function(e,t){return this.adornTransformConfig[e](this.buildRotation(t)),this},buildRotation:function(e){return s.buildRotateConfig(this.adornRotation*e,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(e,i){var n=t.indexOf(this.adornTransformConfig,i);return this.adornTransformConfig[n+e]},adjustScaleTranslation:function(){var e=this.adornRotationPoint,t=s.getFirstScale(this.adornTransformConfig),i=this.getTransformRelativeToOther(-1,t),r=n.invertPercent(t.args[0]),o=n.invertPercent(t.args[1]);return i.args[0]=e.x*r,i.args[1]=e.y*o,this},adjustSkewTranslation:function(e){var t=this.adornRotationPoint,i="x"===e,r=i?"y":"x",o=s.getFirstTransformOfType("skew"+e.toUpperCase(),this.adornTransformConfig),a=this.getTransformRelativeToOther(1,o),l=o.args[0],u=n.degToRad(l);return a.args[i?0:1]=-(t[r]*Math.tan(u)),this},applyTransform:function(){var e=this.adornTransformConfig.map(s.buildTransformFromConfigFn).join(" ");return this.adornedNode.setAttribute("transform",e),this},calculateRotationOffset:function(){for(var e=this.getDataAsFloat("distance"),t=this.getDataAsFloat("angle"),i=-n.degToRad(this.adornRotation-t),r=this.getDataAsFloat("scale"),s=new a,o=this.props.model.parent;null!=o&&o.isSlideObject;)s.rotate(-o.prop("Rotation"),0,0),o=o.parent;return e/=r,s.transformPoint(e*Math.cos(i),e*Math.sin(i))},rotateDropShadow:function(){var e=this.calculateRotationOffset();this.adornTransformConfig.push(s.buildTranslateConfig(e.x,e.y))},rotateInnerDropShadow:function(){var e=document.getElementById(x(this.adornedNode.getAttribute("filter"))),t=e.getElementsByTagName("feOffset")[0],i=this.calculateRotationOffset();t.setAttribute("dx",i.x),t.setAttribute("dy",i.y)},rotateReflection:function(){this.addRotation("unshift",-1);var e=s.getFirstTranslate(this.adornTransformConfig),i=t.indexOf(this.adornTransformConfig,e);this.adornTransformConfig.splice(i+1,0,this.buildRotation(-1))}};return C.rotateShadowToOriginalAngle=t.partial(C.addRotation,"unshift",-1),C.rotateShadowAboutPlane=t.partial(C.addRotation,"push",1),C.adjustSkewTranslationX=t.partial(C.adjustSkewTranslation,"x"),C.adjustSkewTranslationY=t.partial(C.adjustSkewTranslation,"y"),C}),define("views/presentation/VectorSlideObject",["require","lodash","helpers/utils","views/mixins/baseView","views/mixins/adornable","react","helpers/svg/svgManager","helpers/svg/svgUtils","helpers/constants","backbone"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("views/mixins/baseView")),i=e("views/mixins/adornable"),n=e("react"),r=e("helpers/svg/svgManager"),s=(e("helpers/svg/svgUtils"),e("helpers/constants"),e("backbone"),n.createClass({displayName:"VectorSlideObject",mixins:[t,i],refresh:function(){return this.htmlReady(this.whenHtmlReady),this},whenHtmlReady:function(){this.adornSvg(),this.determineChildMouseBehavior()},componentDidMount:function(){this.refresh().bindEvents()},componentDidUpdate:function(){this.refresh().bindEvents()},shouldUpdate:function(e,t){return e.playerProps.ObjectState!==this.props.playerProps.ObjectState||this.props.model.shouldUpdateGif()},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).forEach(function(e){this.listenTo(e,"textHit",this.props.textHit)}.bind(this)),this},determineChildMouseBehavior:function(){var e;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach(function(e){e.style.pointerEvents="none"}),e=this.find("g g:nth-child(2)"),e.setAttribute("cursor","pointer"),e.style.pointerEvents="all")},template:function(){return r.getSvgFromData(this.props.model,this)}}));return s}),define("views/presentation/ButtonSlideObject",["require","react","views/mixins/baseView","polyfills/detection","polyfills/mobileChromeKiller"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),r=e("polyfills/mobileChromeKiller"),s=t.createClass({displayName:"ButtonSlideObject",mixins:[i],componentDidMount:function(){var e=document.querySelector(".resume-prompt-slide");n.isMobilePreview&&e?this.el.addEventListener("mousedown",function(){r.init()}):n.isMobile&&e&&this.el.addEventListener("touchstart",function(){r.init()})},getClassNames:function(){var e=["btn","slide-object-button"];return n.isMobile||(this.props.model.getSlide().getScene().isMessageScene()?e.push(["cs-",this.props.model.id.replace(/_/g,"-")].join("")):e.push("cs-button")),e.join(" ")}});return s}),define("views/presentation/PlaceHolderSlideObject",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=i.createClass({mixins:[t],displayName:"PlaceHolderSlideObject"});return n}),define("views/presentation/GroupingSlideObject",["require","lodash","views/mixins/baseView","react","helpers/slideObjectUtils"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("helpers/slideObjectUtils"),r=i.createClass({mixins:[t],displayName:"GroupingSlideObject",getFocusTarget:function(){return n.getGroupFocusTarget(this)}});return r}),define("views/presentation/StateGroupSlideObject",["require","lodash","helpers/keyManager","helpers/resolver","views/helpers/dom","views/mixins/baseView","react","polyfills/detection","helpers/slideObjectUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/keyManager"),n=e("helpers/resolver"),r=e("views/helpers/dom"),s=e("views/mixins/baseView"),o=e("react"),a=e("polyfills/detection"),l=e("helpers/slideObjectUtils"),u=o.createClass({mixins:[s],displayName:"StateGroupSlideObject",isStillFocused:function(){var e=i.getCurrentTabbable();return!!this.findComponent(e)},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=t.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},getElso:function(){return t.find(this.refs,function(e){return e.props.model.isKind("expandinglabel")})},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(e,t){if(!e||null==t||null!=t.props.model.get("markerType")){var i=e?"toggleComplete":"hideComplete";(e||!this.isStillFocused()&&this.isExpanded())&&this.getElso().refs.innard[i]()}},isClickDefAllowed:function(e){var i,s,o=this.props.model.getClickDef(),l=r.closest(e,r.isSlideObject),u=function(e){return t.some(e,function(e){var t=!1,i=e instanceof window.Node;return!i&&e.props.model&&e.props.model.isSlideObject&&(e.refs&&(t=u(e.refs)),e.el===l&&(t=!0,s=e)),!!t})};return a.isMobile&&null==l&&(e=document.elementFromPoint(r.mouseX,r.mouseY),e&&this.el.contains(e)&&(l=r.closest(e,r.isSlideObject))),u(this.refs),null!=s?o.some(function(e){var t=n.getRef(e,this.props.model),i=n.resolvePath(t,this.props.model);return i.id===s.props.model.id}.bind(this)):(i=r.closest(this.el,r.isSlideObject),i===l)},getFocusTarget:function(){return l.getGroupFocusTarget(this)}});return u}),define("views/presentation/PresentationOverlay",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"PresentationOverlay",mixins:[i]});return n}),define("views/presentation/ZoomImage",["require","lodash","tween-lite","views/mixins/baseView","react","react-dom","views/presentation/PresentationOverlay","helpers/appState","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("views/mixins/baseView"),r=e("react"),s=e("react-dom"),o=e("views/presentation/PresentationOverlay"),a=e("helpers/appState"),l=e("polyfills/detection"),u=5,c=0,h=l.isMobile?c:u,p=r.createClass({displayName:"ZoomImage",mixins:[n],componentWillMount:function(){var e=r.createElement(o,{className:"zoom-image-overlay"});this.overlay=s.render(e,document.querySelector("#zoomimage-container"))},componentDidMount:function(){this.speed=.25,this.calculateTransform(),this.throttledCalculateTweenProps=t.throttle(this.calculateTweenProps,100)},componentDidUpdate:function(){if(this.calculateTransform(),this.isVisible()&&null!=this.currentTween){this.calculateTweenProps();var e=this.currentTween.time(),n=t.partial(i.fromTo,this.el,this.currentTween.duration());this.isZoomingIn?this.currentTween=n(this.startProps,this.endProps):this.currentTween=n(this.endProps,this.startProps),this.currentTween.seek(e)}},getContainerRectDesktop:function(){var e=this.props.imageModel.get("zoomslide")?document.querySelector(".slide-container"):document.querySelector("#presentation");return e.getBoundingClientRect()},getContainerRectMobile:function(){var e=a.windowManager.getCurrentWindowSlide().currView,t=e.el.getBoundingClientRect();return t},calculateTransform:function(){this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2},calculateTweenProps:function(){var e,i,n,r,s,o=h,u=this.el.parentNode.getBoundingClientRect(),c=this.getContainerRect(),p=c.left-u.left,d=c.top-u.top,f=this.props.imageElement.getBoundingClientRect(),m=f.left-c.left-this.diffX,g=f.top-c.top-this.diffY,v=m+this.props.width+o,y=g+this.props.height+o,b=m,w=g,S=this.scaleX,x=this.scaleY,T=1;l.isMobile?T=1/a.windowManager.getCurrentWindowSlide().calculateTotalScale():a.windowManager.isLightBoxActive()&&(T=a.windowManager.getCurrentWindow().slideScale,T*=a.windowManager.getCurrentWindowSlide().calculateTotalScale(),r=(this.props.transform.width-this.props.transform.width*T)/2,s=(this.props.transform.height-this.props.transform.height*T)/2,m-=r,g-=s,S*=T,x*=T),e=c.width/(this.props.width+o),i=c.height/(this.props.height+o),n=t.min([1,e,i]),o>g?w=o-(this.props.height-n*this.props.height)/2:y>c.height&&(w-=y-c.height-(this.props.height-n*this.props.height)/2),o>m?b=o-(this.props.width-n*this.props.width)/2:v>c.width&&(b-=v-c.width-(this.props.width-n*this.props.width)/2),this.startProps={x:m+p-this.props.transform.xOffset*T,y:g+d-this.props.transform.yOffset*T,scaleX:S,scaleY:x,overwrite:"auto"},this.endProps={x:b+p,y:w+d,scaleX:n,scaleY:n}},zoomIn:function(){this.isZoomingIn=!0,this.calculateTweenProps(),a.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),this.currentTween=i.fromTo(this.el,this.speed,this.startProps,t.extend({},this.endProps,{onComplete:function(){this.props.imageModel.executePlayerEvent("onzoomopened"),document.addEventListener("click",this.zoomOut,!0)}.bind(this)}))},updateZoomOut:function(){this.throttledCalculateTweenProps(),this.currentTween=i.to(this.el,this.speed/2,this.startProps)},zoomOut:function(e){e.stopPropagation(),this.isZoomingIn=!1,document.removeEventListener("click",this.zoomOut,!0),i.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut}),this.props.imageModel.executePlayerEvent("onzoomclosed")},onZoomedOut:function(){this.overlay.hide(),this.hide()}}),d=p.prototype;return d.getContainerRect=d[l.isMobile?"getContainerRectMobile":"getContainerRectDesktop"],p}),define("helpers/windowOpen",["require","lodash","backbone","helpers/pubSub","polyfills/vendorOverrides","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=(e("backbone"),e("helpers/pubSub")),r=e("polyfills/vendorOverrides"),s=e("helpers/constants"),o=function(e){return i.pairs(e).map(function(e){return e.join("=")}).join(", ")},a=i.extend({initialize:function(e){t=e,n.on("externalWindow:open",this.onOpenWindow.bind(this))},onOpenWindow:function(e,t){var i=this.openWindowByAction.bind(this,e),n=i;null!=r.onOpenWindow&&(n=r.onOpenWindow.bind(r,e,t,i)),n()},openWindowByAction:function(e){var t={},i=e.windowsize,n="open_video"===e.kind;switch(i){case"fullscreen":t.width=window.screen.availWidth,t.height=window.screen.availHeight;break;case"custom":t.width=e.width,t.height=e.height}e.usedefaultcontrols||"default"===i||(t.status=+e.status,t.toolbar=+e.toolbar,t.location=+e.location,t.menubar=+e.menubar,t.scrollbars=+e.scrollbars,t.resizable=+e.resizable),this.open({url:n?s.STORY_CONTENT_URL+e.url:e.url,window:e.window,specs:t,previewNotification:n?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(e){var r={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};i.extend(r,e),t.isPreview()?n.trigger("preview:notify",r.previewNotification):window.open(r.url,r.window,o(r.specs))}});return a}),define("views/presentation/ImageSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","react","react-dom","helpers/assetManager","views/presentation/ZoomImage","helpers/slideObjectUtils","views/events/touchHelper","helpers/windowManager","polyfills/detection","helpers/windowOpen"],function(e){"use strict";var t=e("lodash"),i=e("views/mixins/baseView"),n=(e("views/mixins/propertizable"),e("react")),r=e("react-dom"),s=e("helpers/assetManager"),o=e("views/presentation/ZoomImage"),a=(e("helpers/slideObjectUtils"),e("views/events/touchHelper")),l=e("helpers/windowManager"),u=e("polyfills/detection"),c=e("helpers/windowOpen"),h=n.createClass({displayName:"ImageSlideObject",mixins:[i],subscriptions:{"slideContainer:positioned":"onPositioned"},componentWillMount:function(){this.presentationCanvas=document.querySelector("#presentation-canvas")},componentDidMount:function(){u.isMobile&&this.refs.zoom&&a.tap(this,this.refs.zoom,this.zoom)},getImage:function(){return s.getAssetUrl(this.props.model.get("zoomdata").imagedata.assetId)},zoom:function(){"htmlwindow"===this.props.model.get("zoomtype")?c.open({url:this.getImage(),previewNotification:"PREVIEW_ZOOM_IMAGE"}):this.getOrCreateZoomImage().zoomIn()},actionKeyCallback:function(){return null!=this.zoomImage&&this.zoomImage.isZoomingIn?this.zoomImage.zoomOut({stopPropagation:t.noop}):this.zoom(),!0},innardRelease:function(){null!=this.zoomImage&&this.zoomImage.isZoomingIn&&this.zoomImage.zoomOut({stopPropagation:t.noop})},getOrCreateZoomImage:function(){return r.unmountComponentAtNode(this.presentationCanvas),this.renderZoomImage()},renderZoomImage:function(){var e=1/l.getCurrentWindowSlide().calculateTotalScale(),t=n.createElement(o,{imageModel:this.props.model,imageElement:this.find(".zoom"),imageUrl:this.getImage(),width:this.props.model.get("zoomdata").html5data.width*e,height:this.props.model.get("zoomdata").html5data.height*e,transform:{xOffset:this.props.model.get("xOffset"),yOffset:this.props.model.get("yOffset"),xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width*e,height:this.props.playerProps.height*e}});return this.zoomImage=r.render(t,this.presentationCanvas),this.zoomImage},onPositioned:function(){var e=this.zoomImage;null!=e&&e.isVisible()&&this.htmlReady(this.renderZoomImage)},onClick:function(){u.isMobileAndNotPreview||this.zoom()}});return h}),define("views/presentation/WebObjectSlideObject",["require","lodash","views/mixins/baseView","react","views/mixins/propertizable","helpers/assetManager","helpers/errorManager","helpers/vow","helpers/appState","helpers/pubSub","helpers/PostMessaging"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=(e("views/mixins/propertizable"),e("helpers/assetManager")),r=e("helpers/errorManager"),s=e("helpers/vow"),o=e("helpers/appState"),a=(e("helpers/pubSub"),e("helpers/PostMessaging")),l=r.throwError("WebObjectSlideObject"),u=function(e){return function(t){return t.eventName===e}},c=i.createClass({displayName:"WebObjectSlideObject",mixins:[t],subscriptions:{"volume:changed":"onVolumeChanged"},shortEvents:{model:{trueVisibilityChanged:"toggleLoad","action:trigger_webobject_client_event":"onTriggerClientEvent"}},getInitialState:function(){return{thumbVisible:!0,url:""}},prepareImageUrl:function(){var e=this.props.model.get("thumbAssetId"),t=n.getAssetUrl(e);return t},checkIsEngage:function(){return"EN13"===this.props.model.get("objtype")},componentWillMount:function(){this.isEngage=this.checkIsEngage(),this.imageUrl=this.prepareImageUrl(),this.clientReady=new s.Deferred,this.clientReady.done(function(e){this.onVolumeChanged(o.currentVolume())}.bind(this)),this.isEngage||this.clientReady.reject()},componentWillUnmount:function(){var e=this.refs.iframe;e.src="",this.resetSubscriptions(),null!=this.postMessaging&&this.postMessaging.tearDown()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})},getUrl:function(){var e=this.props.model.get("html5Url");return this.isEngage&&(e+=["?wo=1&id=",this.props.model.id].join("")),e},getResumeData:function(){var e=this.props.model.variables().findWhere({name:"_remotedata"});return e.value()},setResumeData:function(e){var t=this.props.model.variables().findWhere({name:"_remotedata"});t.value(e),this.props.model.getClosestAncestorByKind("slide").prepareResumeData()},triggerHostEvent:function(e){this.props.model.executeFilteredPlayerEvent(u(e),"onclientevent")},toggleLoad:function(e){e?this.setState({url:this.getUrl()}):this.setState({url:""})},onIframeLoad:function(){if(this.isEngage){this.refs.iframe.contentWindow;this.postMessaging=new a(this,this.props.model.id),this.postMessaging.ready().then(this.clientReady.resolve)}},onTriggerClientEvent:function(e){this.postMessaging.request("executeFilteredPlayerEvent",e.eventName).fail(l.bind(this,"onTriggerClientEvent","Cannot trigger web object client event"))},onVolumeChanged:function(e){this.postMessaging.request("setVolume",e).fail(l.bind(this,"setVolume","Cannot set volume"))}});return c}),define("collections/BaseCollection",["require","backbone","lodash","models/BaseModel","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer"],function(e){"use strict";var t=e("backbone"),i=e("lodash"),n=e("models/BaseModel"),r=e("mixins/subscribable"),s=e("mixins/resolveable"),o=e("mixins/ancestral"),a=e("mixins/shortEventable"),l=e("helpers/mixer"),u=t.Collection.extend({mixins:[r,s,o,a],model:n,isCollection:!0,constructor:function(e,n){var r=this.initialize;this.initialize=i.noop,t.Collection.apply(this,arguments),this.createParentReference(n),l.initMixinsOf(this),this.initialize=r,this.initialize.apply(this,arguments),l.postInitMixinsOf(this)}});return u}),define("models/presentation/Variable",["require","lodash","helpers/constants","models/BaseModel","helpers/pubSub","mixins/actionable","helpers/errorManager","helpers/resolver","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("models/BaseModel"),r=e("helpers/pubSub"),s=e("mixins/actionable"),o=e("helpers/errorManager"),a=e("helpers/resolver"),l=e("helpers/resume/Chunk"),u=o.throwError("Variable"),c=o.backtick,h="Invalid adjustment operator",p="^",d={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","":"^B","":"^C","":"^D","":"^E"},f=t.invert(d),m=function(e,i){return t.reduce(e,function(e,t,i){return e.split(i).join(t)},i.toString())},g=t.partial(m,d),v=t.partial(m,f),y=function(e){return parseFloat(e.toPrecision(7))},b={add:function(e,t){return y(parseFloat(e)+parseFloat(t))},sub:function(e,t){return y(parseFloat(e)-parseFloat(t))},mult:function(e,t){return y(parseFloat(e)*parseFloat(t))},div:function(e,t){return y(parseFloat(e)/parseFloat(t))},set:function(e,t){return t},toggle:function(e){return!e}};b.addStrings=function(e,t){return[e,t].join("")};var w=function(e,t){return null!=e.value?a.getRef(e.value,t.context,t):a.resolvePath(e.variable,t.context)},S=n.extend({isVar:!0,idAttribute:"name",mixins:[s],shorthand:["value","name","type","resume"],shortEvents:{self:{"action:adjustvar":"adjust"}},playerPropNames:{InitValue:null},initialize:function(){this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},getOperator:function(e){return"add"===e&&this.isString()?"addStrings":e},adjust:function(e,t){var i,n=w(e,t),r=this.getOperator(e.operator);return b[r]||u("adjust",h,c(r)),i=b[r](this.value(),n),this.changeValue(i,e),this},changeValue:function(e,t){var i=this.value();i!==e&&(this.value(e,{relatedAction:t}),r.trigger("variable:changed",this.absoluteId,e,i))},getEncodedString:function(e){return e=e||this.value(),this.hasInitValue()?p:g(e)},decodeAndSetValue:function(e){return e!==p&&this.value(v(e),{silent:!0}),this},getEncodedValue:function(){var e=this.isString()?this.getEncodedString.bind(this):l.toSignedString64;return l.create(e(this.value()))},setEncodedValue:function(e){return this.isString()?this.decodeAndSetValue(e):this.value(l.fromSignedString64(e),{silent:!0}),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue,{silent:!0}),this.trigger("variable:refreshView")}}),x=S.prototype;return x.isString=t.partial(x.isType,i.varTypes.STRING),x.isBoolean=t.partial(x.isType,i.varTypes.BOOL),S}),define("models/presentation/helpers/utils",["require","lodash","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils")),i={isResumable:function(e){return e.shouldResume?e.shouldResume():!(!e.resume||!e.resume())},getResumeableFilter:function(e){return e?t.alwaysTrue:this.isResumable},meetConditionOrReturn:function(e,t,i){return t.call(e)?e.getResumeData():i}};return i}),define("collections/presentation/Variables",["require","lodash","collections/BaseCollection","models/presentation/Variable","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/Variable"),r=e("models/presentation/helpers/utils"),s=e("helpers/resume/Chunk"),o=i.extend({model:n,subscriptions:{"player:reset":"resetValues"},initialize:function(){this.getResumeDataOrReturn=t.partial(r.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(e,i){return this.push(t.extend({},{resume:!0},e),{parent:i})},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(r.isResumable).some(function(e){return!e.hasInitValue()})},getResumeData:function(){this.booleans=[];var e=this.filter(r.isResumable).reduce(this.encodeVariable.bind(this),"");return s.create(this.encodeBooleans())+e},encodeVariable:function(e,t){return t.isBoolean()?this.booleans.push(t.value()):e+=t.getEncodedValue(),e},encodeBooleans:function(e){for(var t,i,n,r="";this.booleans.length;)i=1,t=this.booleans.splice(0,6),n=t.reduce(function(e,t){return e+=t*i,i*=2,e},0),r+=s.toUnsignedString64(n);return r},setResumeData:function(e){var t="";if(e.length>0){var i=new s({fullString:e}),n=this.convertBoolStringToArray(i.encodedString()),o=this.filter(r.isResumable);t=i.remainder(),o.forEach(function(e){e.isBoolean()?e.value(n.shift(),{silent:!0}):(i=i.reChunk(),e.setEncodedValue(i.encodedString()),t=i.remainder())})}return t},convertBoolStringToArray:function(e){var t=e.split("");return t.reduce(function(e,t){for(var i=s.fromUnsignedString64(t),n=1;32>=n;)e.push(!!(i&n)),n*=2;return e},[])}});return o}),define("models/presentation/TextLibItem",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection"),n=i.extend({model:t.extend({idAttribute:null})}),r=t.extend({shorthand:["type","vartext","xPos","yPos","width","height"],associations:{linkdata:n}});return r}),define("collections/presentation/TextLib",["require","collections/BaseCollection","models/presentation/TextLibItem"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/TextLibItem"),n=t.extend({model:i});return n}),define("models/presentation/tweens/TweenAttribute",["require","lodash","helpers/utils","models/BaseModel","collections/presentation/TextLib","helpers/resolver","helpers/curveHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("models/BaseModel"),r=(e("collections/presentation/TextLib"),e("helpers/resolver")),s=e("helpers/curveHelper"),o={exponetial:"Expo",bounce:"Bounce",circular:"Circ",cubic:"Cubic",linear:"Linear",quadratic:"Quad",quadradic:"Quad",quartic:"Quart",quintic:"Quint",sine:"Sine"},a={easein:"easeIn",easeout:"easeOut",easeinout:"easeInOut",none:"none"},l={QUAD:"quadratic",CUBIC:"cubic",LINE:"line"},u=t.partialRight(i.fix,2),c=/^[\/$#]/,h=n.extend({initialize:function(){t.bindAll(this,"getAttrConfig")},getAttrConfig:function(e){return this.hasDuration()?(null==this.points&&this.initPath(),
this.buildConfig(e)):null},initPath:function(){this.segments=[],this.ptResolvers=[],this.segmentResolvers=[],t.forEach(this.get("path"),function(e,t){this.buildSegment(e,t)}.bind(this))},buildSegment:function(e,t){var i=e.type||l.LINE,n={points:[]},r=this.ptResolvers.length,o=function(){n.samples=s.getSamplePoints(n.points),n.distance=s.getDistance(n.points,n.samples)};this.buildSinglePoint(n,this.getSegmentPoint(e,"anchora")),i!==l.LINE&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controla")),i===l.CUBIC&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controlb")),this.buildSinglePoint(n,this.getSegmentPoint(e,"anchorb")),null!=this.extendSegmentConfig&&this.extendSegmentConfig(n,e),r===this.ptResolvers.length?o():this.segmentResolvers.push(o),this.segments.push(n)},getSegmentPoint:t.noop,extendConfig:t.identity,extendAfterUpdate:t.identity,buildSinglePoint:function(e,t){var i;this.isStaticPoint(t)?e.points.push(this.getAbsolutePoint(t)):(i=e.points.length,this.ptResolvers.push(function(){e.points[i]=this.getAbsolutePoint(t)}.bind(this)),e.points.push(null))},isStaticPoint:function(e){return this.isStaticValue(e.x,e.dx)&&this.isStaticValue(e.y,e.dy)},isStaticValue:function(e){return!t.isString(e)||!c.test(e)},getAbsolutePoint:function(e){return{x:u(this.getAbsoluteCoordinate(e.x,e.dx)),y:u(this.getAbsoluteCoordinate(e.y,e.dy))}},getAbsoluteCoordinate:function(e,t){return this.getValue(e)+this.getValue(t)},getValue:function(e){var n,s=this.getClosestThisRef();return i.isNumeric(e)?parseFloat(e):t.isString(e)?(n=r.resolvePath(e,s),parseFloat(n.isVar?n.value():n)):e},buildConfig:function(e){var t={delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this)};return t.update=this.updateConfig.bind(this,t),this.extendConfig(t)},hasDuration:function(){return null!=this.get("duration")},getDuration:function(){return this.get("duration")},getEasing:function(){return[o[this.get("easing")],a[this.get("easingdir")]].join(".")},updateConfig:function(e){var i=0;this.ptResolvers.forEach(function(e){e()}),this.segmentResolvers.forEach(function(e){e()}),this.segments.forEach(function(e){e.start=i,i+=e.distance}),this.totalDistance=i,this.getIsRelative()||(e.update=t.noop),this.extendAfterUpdate(e)},getIsRelative:function(){return!(!this.ptResolvers||!this.ptResolvers.length)},getPointAtTime:function(e,i){var n,r,o=this.totalDistance*e,a=t.sortedIndex(this.segments,{start:o},"start");return(a>this.segments.length-1||o!==this.segments[a].start)&&a--,n=this.segments[a],r=(e-(n.start/this.totalDistance||0))/(n.distance/this.totalDistance||1),this.lastSegmentInfo={index:a,adjustedTime:r},s.getNormalizedPointAtTime(r,n.points,n.samples,i)}});return h}),define("models/presentation/tweens/TweenAlpha",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}},n=t.extend({getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:0,dy:0}}});return n}),define("models/presentation/tweens/TweenPosition",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/tweens/TweenAttribute"),n=i.extend({extendConfig:function(e){return e.autoRotation=!!this.get("relativerotation"),e},extendAfterUpdate:function(e){e.autoRotation&&(e.closedPath=this.isClosedPath())},isClosedPath:function(){var e=this.segments[0].points[0],i=t.last(t.last(this.segments).points);return e.x===i.x&&e.y===i.y},getSegmentPoint:function(e,t){return e[t]}});return n}),define("models/presentation/tweens/TweenRotation",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}},n=t.extend({getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:0,dy:0}}});return n}),define("models/presentation/tweens/TweenScale",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"startx",dx:"dsx",y:"starty",dy:"dsy"},anchorb:{x:"endx",dx:"dex",y:"endy",dy:"dey"}},n=t.extend({extendConfig:function(e){return e.useGlobalAxes=!!this.get("useglobalaxes"),e},getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:e[n.y],dy:e[n.dy]}}});return n}),define("models/presentation/tweens/TweenSkew",["require","models/presentation/tweens/TweenAttribute","helpers/curveHelper"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i=e("helpers/curveHelper"),n={anchora:{x:"startx",dx:"dstartx",y:"starty",dy:"dstarty"},anchorb:{x:"endx",dx:"dendx",y:"endy",dy:"dendy"}},r={anchora:{x:"startstretchx",y:"startstretchy"},anchorb:{x:"endstretchx",y:"endstretchy"}},s=t.extend({extendConfig:function(e){var t=this.get("regpoint");return e.useGlobalAxes=!!this.get("useglobalaxes"),e.regPoint={x:parseFloat(t.x)+parseFloat(t.dx),y:parseFloat(t.y)+parseFloat(t.dy)},e.corner=this.get("corner")||"bottomright",e.getSecondaryPoint=this.getSecondaryPoint.bind(this),e},getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:e[i.y],dy:e[i.dy]}},getSecondarySegmentPoint:function(e,t){var i=r[t];return{x:e[i.x],dx:0,y:e[i.y],dy:0}},extendSegmentConfig:function(e,t){var i={points:[]};this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchora")),this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchorb")),e.secondaryPoints=i.points},getSecondaryPoint:function(){var e=this.lastSegmentInfo||{index:this.segments.length-1,adjustedTime:1};return i.getNormalizedPointAtTime(e.adjustedTime,this.segments[e.index].secondaryPoints)}});return s}),define("models/presentation/tweens/TweenMask",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/tweens/TweenAttribute"),n=i.extend({extendConfig:function(e){return e.maskType=this.get("type"),e.maskProps=t.reduce(this.get("settings"),function(e,t){return e[t.name]=t.value,e},{}),e.maskProps.isExit="exit"===this.get("effecttype"),e},initPath:function(){this.ptResolvers=[],this.segmentResolvers=[],this.segments=[{distance:1,points:[{x:0,y:0},{x:1,y:0}]}]}});return n}),define("models/presentation/tweens/TweenColor",["require","lodash","helpers/utils","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("models/presentation/tweens/TweenAttribute"),r=n.extend({initialize:function(){var e=this.get("path")[0];this.startTintPercent=parseInt(e.starttintpercent),this.endTintPercent=parseInt(e.endtintpercent),this.startBrightness=parseInt(e.startbrightness),this.endBrightness=parseInt(e.endbrightness)},getAttrConfig:function(e){var i={delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this),update:t.noop};return i},getPointAtTime:function(e){return{x:i.clamp(0,100,this.startTintPercent+e*(this.endTintPercent-this.startTintPercent)+Math.abs(this.startBrightness+e*(this.endBrightness-this.startBrightness))),y:0}}});return r}),define("collections/presentation/TweenColors",["require","lodash","collections/BaseCollection","models/presentation/tweens/TweenColor"],function(e){"use strict";var t=(e("lodash"),e("collections/BaseCollection")),i=e("models/presentation/tweens/TweenColor"),n=t.extend({model:i,getAttrConfig:function(e){return 0===this.length?null:this.at(0).getAttrConfig(e)}});return n}),define("models/presentation/Tween",["require","lodash","helpers/utils","models/BaseModel","models/presentation/tweens/TweenAlpha","models/presentation/tweens/TweenPosition","models/presentation/tweens/TweenRotation","models/presentation/tweens/TweenScale","models/presentation/tweens/TweenSkew","models/presentation/tweens/TweenMask","collections/presentation/TweenColors"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("models/BaseModel")),n=e("models/presentation/tweens/TweenAlpha"),r=e("models/presentation/tweens/TweenPosition"),s=e("models/presentation/tweens/TweenRotation"),o=e("models/presentation/tweens/TweenScale"),a=e("models/presentation/tweens/TweenSkew"),l=e("models/presentation/tweens/TweenMask"),u=e("collections/presentation/TweenColors"),c=i.extend({associations:{scale:o,position:r,rotation:s,alpha:n,mask:l,colors:u,skew:a},initialize:function(){t.bindAll(this,"build"),this.delay=this.get("time")},build:function(){var e=t.reduce(this.associations,function(e,t,i){var n=this[i]().getAttrConfig(this.delay);return null!=n&&(e[i]=n),e},{},this);return{delay:this.delay,duration:this.get("duration"),tweenAttrs:e}}});return c}),define("collections/presentation/Tweens",["require","collections/BaseCollection","models/presentation/Tween"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Tween"),n=t.extend({model:i,buildTweens:function(){return this.invoke("build")}});return n}),define("models/presentation/Animation",["require","lodash","models/BaseModel","collections/presentation/Tweens"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("collections/presentation/Tweens"),r=i.extend({shorthand:["duration"],associations:{tweens:n},buildConfig:function(){var e={isWipe:!!this.get("wipetrans"),pushDir:this.get("pushdirection"),duration:this.get("duration"),tweens:this.tweens().buildTweens()};return e.updateConfig=function(){e.tweens.forEach(function(e){t.forOwn(e.tweenAttrs,function(e){e.update()})})},e},getConfig:function(){return this.config=this.config||this.buildConfig(),this.config.updateConfig(),this.config}});return r}),define("collections/presentation/Animations",["require","collections/BaseCollection","models/presentation/Animation"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Animation"),n=t.extend({model:i});return n}),define("models/presentation/mixins/propertizable",["require","lodash","helpers/utils","helpers/constants","backbone"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),r=e("backbone"),s=function(e){return e[n.PLAYER_PROPS_KEYPATH]},o=function(e,t){return e[n.PLAYER_PROPS_KEYPATH].set(t),e},a=function(e){var t=new r.Model;e[n.PLAYER_PROPS_KEYPATH]=t},l={init:function(){this.variableMap={},a(this),this.createVariableProps().createPlayerProps(),this.once("data:updated",this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId&&i.stripPlayer(this.absoluteId),parent:this.parent}},isVariableProp:function(e){return this.variableProps?t.has(this.variableProps,e):void 0},getVariableProp:function(e){return this.variableMap[e]},createVariableProps:function(){var e={};return this.variableProps&&(this.variableMap=t.reduce(this.variableProps,function(t,i,n){return t[n]=this.variables().addVariable({name:n,type:i.type,value:i.value,resume:null!=i.resume?i.resume:!0},this),e[n]=i.value,t}.bind(this),{}),this.variableProps=e),this},createPlayerProps:function(e,i){i=i||{};var n=t.extend({},this.getStaticPlayerProps(),this.getTransformedPropsObj(),e?{}:this.decodedResumeData);return o(this,t.omit(n,i)),s(this)},prop:function(e,i){var n=void 0===i&&!t.isObject(e),r=s(this);if(n)return r.get(e);if(r.set(e,i),this.isVariableProp(e)){var o=this.getVariableProp(e);o.value(i)}return this},getPlayerProps:function(){return s(this)},getVariableProps:function(){var e=this.variableProps||{};return t.forEach(e,function(t,i){if(this.isVariableProp(i)){var n=this.getVariableProp(i);n&&(e[i]=n.value())}}.bind(this))},getTransformedPropsObj:function(){var e=this.playerPropNames||{},i=t.omit(e,"model"),n=t.transform(e.model,function(e,t,i){e[i]=this.get(t)}.bind(this));return t.extend(i,n,this.getVariableProps())},hasOwnPlayerProp:function(e){return s(this).has(e)},prepareResumeData:function(e){return e=e||{},this.onBeforeResumeBuilt(e),t.isFunction(this.buildResumeData)&&this.buildResumeData(e.force),e.skipPostBuild||this.onAfterResumeBuilt(e.retainState),this},resetProps:function(){this.createPlayerProps(!0)},resetPropsExcept:function(e){this.createPlayerProps(!0,e)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:t.noop,onBeforeResumeBuilt:t.noop};return l}),define("models/presentation/mixins/eventable",["require","lodash","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/Iterable"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/actionManager"),r=e("helpers/errorManager"),s=e("helpers/Iterable"),o=r.throwError("eventable"),a={isEventable:!0,hasEvent:function(e){return this.getEvents(e).length>0},getEvents:function(e){var i=this.events()||[];return i&&t.union(t.where(i,{kind:e}),t.where(i,{eventname:e}))},getFilteredPlayerEvent:function(e,i,n){var r=this.getEvents(i);return 0===r.length?{events:s.empty,data:n}:(n&&!t.isObject(n)&&o("executeFilteredPlayerEvent","data supplied must be an object"),n=t.extend(n||{},{context:this.getClosestEventTarget(),eventType:i}),{events:new s(r).filter(e),data:n})},executeFilteredPlayerEvent:function(e,t,i){var r=this.getFilteredPlayerEvent(e,t,i),s=function(e){null!=e.actions&&n.executeActions(e.actions,r.data)};return r.events.forEach(s),this},traceFilteredPlayerEvent:function(e,t,i){var r=this.getFilteredPlayerEvent(e,t,i);return r.events.map(function(e){return n.traceActions(e.actions,r.data)}).flatten()}};return t.extend(a,{executePlayerEvent:t.partial(a.executeFilteredPlayerEvent,i.alwaysTrue),tracePlayerEvent:t.partial(a.traceFilteredPlayerEvent,i.alwaysTrue)}),a}),define("mixins/varPropListenable",["require","lodash","helpers/resolver","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/errorManager"),r=(n.throwError("varPropListenable"),n.backtick,function(e,t){return t.kind===e}),s=t.partial(r,"onvarchanged"),o=t.partial(r,"onpropchanged"),a=function(e){return["change",e].join(":")},l=function(e,n){return t.invoke(n,function(){var t=this,n=a("value"),r=i.resolvePath(t.varname,e),s=function(){e.executeFilteredPlayerEvent(function(e){return e===t},"onvarchanged")};return null!=r&&e.listenTo(r,n,s),{listener:e,obj:r,event:n,callback:s}})},u=function(e,n){return t.invoke(n,function(){var t=this,n=i.resolvePath(t.objRef,e),r=t.propname,s=n.prop(r),o=a(r),l=n.getPlayerProps(),u=function(){window.requestAnimationFrame(function(){s!==n.prop(r)&&(s=n.prop(r),e.executeFilteredPlayerEvent(function(e){return e===t},"onpropchanged"))})};return e.listenTo(l,o,u),{listener:e,obj:l,event:o,callback:u}})},c={setVarAndPropListeners:function(){var e=this.events();return[].concat(l(this,t.sortBy(e.filter(s),"priority").reverse()),u(this,t.sortBy(e.filter(o),"priority").reverse()))}};return c}),define("models/presentation/mixins/resumables/slideObjectResumable",["require","lodash","helpers/resume/Chunk","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resume/Chunk"),n=e("helpers/keyManager"),r={STATE:1,VARIABLE:2,ON_STAGE:4,DRAG_DROP:8,USE_ANIMATION:16,DEPTH:32,SHUFFLED:64,ACTION_MOVED:128,ACTION_CONTROLLED:256,DISABLED:512,REVIEW:1024,MOUSE_OVER:2048,HIDDEN_BY_LAYER:4096},s={POSITION:1,SCALE:2,ROTATION:4,ALPHA:8,COLOR:16},o=4094,a=o+1,l=function(e){return!!e.isBaseLayer},u=function(e,t){var i=e.slice(0,t);return e=e.slice(t),{data:e,substr:i}},c=function(e,t,n){var r=n===!0?"fromUnsignedString64":"fromSignedString64";return i[r](e(t))},h={resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(e){return this.buildResumeData(e).getResumeData()},buildResumeData:function(e){var t,n=0,s="",o=this.prop("DragConnected");return(this.shouldResume()||e)&&(this.isInDefaultState()||(n+=r.STATE,s+=i.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&o&&(n+=r.DRAG_DROP,s+=i.toUnsignedString64(o.prop("slideIndex"),2),s+=i.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(n+=r.DEPTH,s+=i.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(n+=r.SHUFFLED,s+=i.toSignedString64(this.prop("ShuffleXPos"),2),s+=i.toSignedString64(this.prop("ShuffleYPos"),2),s+=i.toUnsignedString64(this.prop("tabIndex"),2)),n+=this.prop("OnStage")*r.ON_STAGE,n+=this.prop("Moved")*r.ACTION_MOVED,n+=this.prop("ReviewMode")*r.REVIEW,n+=this.prop("HiddenByLayer")*r.HIDDEN_BY_LAYER,n+=this.prop("MouseOver")*r.MOUSE_OVER,n+=!this.prop("Enabled")*r.DISABLED,n+=!this.prop("TimelineControlled")*r.ACTION_CONTROLLED,t=this.variables().getResumeDataOrReturn(!1),t&&(n+=r.VARIABLE,s+=t),this.hasAnimated()&&(n+=r.USE_ANIMATION,this.animationStateData=this.currView.getAnimationResumeState(),this.trigger("addanimationdata",this.collectAnimationResumeData.bind(this)),this.buildAnimationResumeData(this.animationStateData),s+=this.getAnimationResumeData())),this.encodedResumeData=i.toUnsignedString64(n,3)+s,this},getAnimationResumeData:function(e){return i.create(this.animationResumeData)},collectAnimationResumeData:function(e){this.animationStateData=t.extend(this.animationStateData,e)},buildAnimationResumeData:function(e){var t=o,n=this.prop("Parent"),r=0;this.animationResumeData="",(this.isReparented()||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(r+=s.POSITION,this.animationResumeData+=i.toSignedString64(Math.round(e.RawXPos),2),this.animationResumeData+=i.toSignedString64(Math.round(e.RawYPos),2),this.isReparented()&&(t=n.prop("slideIndex")||a),this.animationResumeData+=i.toUnsignedString64(t,2),this.isScaled()&&(r+=s.SCALE,this.animationResumeData+=i.toSignedString64(e.ScaleX,2),this.animationResumeData+=i.toSignedString64(e.ScaleY,2)),this.isRotated()&&(r+=s.ROTATION,this.animationResumeData+=i.toSignedString64(e.Rotation,2))),this.isAlphaed()&&(r+=s.ALPHA,this.animationResumeData+=i.toUnsignedString64(e.Alpha,2)),r>0&&(this.animationResumeData=i.toUnsignedString64(r,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(e,i){var n={};t.isObject(e)?n=e:n[e]=i,t.extend(this.decodedResumeData,n)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(e){if(this.setDecodedResumeDataObj(),t.isEmpty(e))return this;var i,s,o,a,h,p=function(t){var i=u(e,t);return e=i.data,i.substr},d=t.partial(c,p),f=d(3,!0);return f&r.STATE?this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(d(2))):this.setDecodedResumeProp("ObjectState","_default"),f&r.DRAG_DROP&&(i=d(2),this.setDecodedResumeProp("DropIndex",d(1)),s=this.getClosestAncestor(l).getObjectByIndex(i),this.setDecodedResumeProp("DragConnected",s),this.setDecodedResumeProp("DropTargetId",s.id)),f&r.DEPTH&&this.setDecodedResumeProp("depth",d(2)),f&r.SHUFFLED&&(o=d(2),a=d(2),h=d(2,!0),this.prop("tabIndex",h),this.currView.idx=h,n.addItem(this.currView,!1,null,!0),this.setDecodedResumeProp({ShuffleXPos:o,RawXPos:o,ShuffleYPos:a,RawYPos:a})),this.setDecodedResumeProp({Moved:!!(f&r.ACTION_MOVED),TimelineControlled:!(f&r.ACTION_CONTROLLED),Enabled:!(f&r.DISABLED),ReviewMode:!!(f&r.REVIEW),MouseOver:!!(f&r.MOUSE_OVER)}),f&r.VARIABLE&&(e=this.variables().setResumeData(e),this.setDecodedResumeProp(this.getVariableProps())),f&r.USE_ANIMATION&&this.setAnimationResumeData(e),this.setDecodedResumeProp("OnStage",!!(f&r.ON_STAGE)),this.prop(this.decodedResumeData),this},setAnimationResumeData:function(e){var n,r,h,p,d={},f=new i({fullString:e}),m=f.encodedString(),g=function(e){var t=u(m,e);return m=t.data,t.substr},v=t.partial(c,g);return m.length&&(n=i.fromUnsignedString64(g(1)),n&s.POSITION&&(d.RawXPos=v(2),d.RawYPos=v(2),r=v(2,!0),r!==o&&(h=this.getClosestAncestor(l),p=r===a?h:h.getObjectByIndex(r),d.Parent=p)),n&s.SCALE&&(d.ScaleX=v(2),d.ScaleY=v(2)),n&s.ROTATION&&(d.Rotation=v(2)),n&s.ALPHA&&(d.Alpha=v(2,!0)),this.setDecodedResumeProp(d)),f.remainder()},setResumeDataLimited:function(e){var i=function(t){var i=u(e,t);return e=i.data,i.substr},n=t.partial(c,i),s=n(3,!0);return s&r.STATE&&this.setStateFromIndex(n(2)),s&r.VARIABLE?(s&r.DRAG_DROP&&i(3),s&r.DEPTH&&i(2),s&r.SHUFFLED&&i(4),this.variables().setResumeData(e),this):void 0},resetObjectBeforeResume:function(e){this.isKind("shufflegroup")?this.markAsReset():(this.variables().resetValues(),e||(this.trigger("resume:reset"),this.animations().length>0&&this.trigger("killAnimations"),this.resetPropsExcept("updateGifOnShow")))},onBeforeResumeBuilt:function(e){this.objects&&this.objects().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){e||this.prop("updateGifOnShow",!0)},shouldResume:function(){return this.resume()&&!this.isKind("shufflegroup")&&this.getClosestAncestor(l).shouldResume()}};return h}),define("models/presentation/SlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/vow","helpers/resolver","helpers/svg/svgManager","models/BaseModel","collections/BaseCollection","collections/presentation/Variables","collections/presentation/TextLib","collections/presentation/Animations","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideObjectResumable","helpers/resume/Chunk","helpers/actionManager","helpers/pubSub","helpers/svg/imageHelper"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("helpers/constants")),n=(e("helpers/vow"),e("helpers/resolver")),r=(e("helpers/svg/svgManager"),e("models/BaseModel")),s=(e("collections/BaseCollection"),e("collections/presentation/Variables")),o=e("collections/presentation/TextLib"),a=e("collections/presentation/Animations"),l=e("mixins/actionable"),u=e("models/presentation/mixins/propertizable"),c=e("models/presentation/mixins/eventable"),h=e("mixins/varPropListenable"),p=e("models/presentation/mixins/resumables/slideObjectResumable"),d=(e("helpers/resume/Chunk"),e("helpers/actionManager")),f=e("helpers/pubSub"),m=e("helpers/svg/imageHelper"),g="_default",v="custom",y=/hotspot.*marker/,b=/tooltip/,w=/value":"[^,]*_tooltip/,S=/(Incorrect|Correct)Review/,x=1e3,T={webobject:[{name:"_remotedata",type:i.varTypes.STRING,value:""}]},C=r.extend({mixins:[l,c,p,u,h],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:s,textLib:o,animations:a},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:!1,LastKeyCode:-1,LastKeyShift:!1,LastKeyCtrl:!1,LastKeyValue:null,Moved:null,ReviewMode:null,Text:null,Expanded:!1,DragConnectData:"",SelectedItemData:"",TimelineControlled:!0,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:g,OnStage:!1,HiddenByLayer:!1,updateGifOnShow:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",InitDepth:"depth",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",tabIndex:"tabIndex",width:"width"}},subscriptions:{"player:reset":"onPlayerReset"},shortEvents:{self:{"change:xPos change:yPos":"onPositionUpdate","action:show":"show","action:hide":"hide","action:setobjstate":"setState","action:bringtofront":"bringToFront","action:set_enabled":"setEnabled","action:store_resume_data":"storeResumeData","action:restore_resume_state":"restoreResumeState","action:get_mouse_position":"getMousePosition","action:moveto":"moveTo","action:set_review":"setReview"}},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once("data:updated",this.bindTimelineEvents.bind(this)),this.hiderParents=[],this.containsGif=m.containsGif(this.imagelib())},shouldUpdateGif:function(){if(!this.containsGif)return!1;var e=this.prop("updateGifOnShow"),t=this.prop("OnStage");return t&&this.prop("updateGifOnShow",!1),e&&t},addExtraVariables:function(){var e=T[this.kind()]||[];return e.forEach(function(e){this.variables().addVariable(e)}.bind(this)),this},bindTimelineEvents:function(){var e=this.getLayer().timeline();this.listenTo(e,"beforeSeekUpdate",this.onBeforeSeekUpdate.bind(this)),this.listenTo(e,"afterSeekUpdate",this.onAfterSeekUpdate.bind(this))},isInDefaultState:function(){return this.prop("ObjectState")===g},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isReparented:function(){return this.parent!==this.prop("parent")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.prop("ShuffleXPos")!==this.prop("RawXPos")||this.prop("ShuffleYPos")!==this.prop("RawYPos")},isHotSpotMarker:function(){return y.test(this.id)},isToolTip:function(){return b.test(this.id)},isCorrectIncorrectReview:function(){return S.test(this.id)},isObscurableBySelf:function(){if(this.isStateGroupSlideObject)return!1;var e,i,n,r=t.findWhere(this.events(),{kind:"onrollover"});return r&&(e=JSON.stringify(r.actions),i=-1!==e.indexOf('kind":"show'),n=w.test(e)),i&&!n},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getStateFromVar:function(){return t.findWhere(this.states(),{name:this.prop("ObjectState")})},getStateFromName:function(e){return t.findWhere(this.states(),{name:e})},getStateFromIndex:function(e){return this.states()[e].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.prop("RawYPos"),left:this.prop("RawXPos")}},getShapeMask:function(){var e=this.get("shapemaskId");return t.isEmpty(e)?null:n.resolvePath(e,this)},fixZeroBoundsMetrics:function(e){return 0!==e.strokewidth||0!==e.width&&0!==e.height||(e.strokewidth=.5),e},getCurrentStateMetrics:function(){var e=(this.getCurrentStateData()||{}).html5data,i={xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0};return this.fixZeroBoundsMetrics(t.extend(i,e))},getBounds:function(){var e=this.getCurrentStateMetrics(),i=e.strokewidth,n=2*i;return e.strokewidth*=2,t.extend(e,{fullX:Math.ceil(e.xPos-i),fullY:Math.ceil(e.yPos-i),fullWidth:e.width+n,fullHeight:e.height+n})},getSlide:function(){return this.getClosestAncestor(function(e){return!!e.isSlide})},getLayer:function(){return this.getClosestAncestor(function(e){return null!=e.isBaseLayer})},moveTo:function(e,t){var i,r,s=n.getRef(e.xOffset,t.context),o=n.getRef(e.yOffset,t.context),a=n.getRef(e.xPos,t.context),l=n.getRef(e.yPos,t.context);s=e.addoffsetx?s:-s,o=e.addoffsety?o:-o,i=a+s,r=l+o,this.trigger("moveTo",i,r)},getMousePosition:function(e){this.trigger("getMousePosition",e)},setState:function(e,t){var i=n.getRef(e.stateRef,t.context,t);return this.prop("ObjectState",i),this},setReview:function(e){this.prop("ReviewMode",e.enabled.value),this.trigger("setReview",e.enabled.value)},setStateFromIndex:function(e){this.prop("ObjectState",this.getStateFromIndex(e))},setEnabled:function(e){this.prop("Enabled",e.enabled.value)},setSlideIndex:function(e){this.prop("slideIndex",e)},bringToFront:function(e){this.prop("depth",x++)},setHiddenByLayer:function(e,i){e?this.hiderParents=t.without(this.hiderParents,i):this.hiderParents=t(this.hiderParents).push(i).uniq().value(),this.prop("HiddenByLayer",this.hiderParents.length>0),this.currView.updateTrueVisibility()},adjustVariables:function(){var e=t.toArray(arguments);e.forEach(function(e){this.adjustVariable(e.name,e.value)}.bind(this))},adjustVariable:function(e,t){var i=this.getClosestParentRef(),n={kind:"adjustvar",variable:e,operator:"set",value:{type:"number",value:t}};d.executeAction(n,{context:this}),i.executePlayerEvent("onvarchanged")},storeResumeData:function(e,t){var i=n.resolvePath(e.varref,t.context);i.value(this.getFullResumeData(!0))},restoreResumeState:function(e,t){var i=n.resolvePath(e.varref,t.context),r=e.limited,s=r?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(r),this[s](i.value()).forceUpdateResume()},resetForSeek:function(){this.trigger("clearAnimations"),this.resetPropsExcept(["Enabled","ReviewMode","HiddenByLayer","depth","updateGifOnShow","ShuffleXPos","ShuffleYPos"]),this.prop({RawXPos:this.prop("ShuffleXPos"),RawYPos:this.prop("ShuffleYPos")}),null!=this.currView&&this.currView.applyStylesDirectly()},onBeforeSeekUpdate:function(){this.prop("TimelineControlled")&&this.prop("OnStage")&&(this.shouldHideOnSeek=!0,this.resetForSeek())},onAfterSeekUpdate:function(){this.shouldHideOnSeek&&(this.hiding=!1,this.prop("updateGifOnShow",!0),this.trigger("hide"))},setupToggleVisibilityState:function(){this.hideShowState=null},toggleVisibility:function(e,t,i,n){i=i||{},n=n||{};var r,s=this.prop("OnStage"),o=this.prop("TimelineControlled"),a="show"===e,l=!!n.isSeekAction,u=null!=i&&i.transition===v,c=a?"shown":"hidden",h=function(){a||(this.hiding=!1,this.prop("OnStage",!1)),this.trigger(c),this.executePlayerEvent(t+"complete")}.bind(this),p=(i.animationId+n.time,function(){r=this.animations().get(i.animationId),this.trigger(e+v,a,n,r,h)}.bind(this)),d=null!=n.timelineLabel;if(this.shouldHideOnSeek=this.shouldHideOnSeek&&!a,(!a&&!d||l&&0===n.currentTime)&&this.prop("updateGifOnShow",!0),!o&&d&&a&&l&&(n.beforeSeekTime<n.time||n.time===n.currentTime))this.resetForSeek();else if(!a&&!s||a&&s&&!this.hiding||l&&!o&&n.beforeSeekTime>n.time)return;return this.hideShowState=i.kind,this.prop("TimelineControlled",d),this.trigger(e),a?this.prop("OnStage",!0):this.hiding=!0,this.executePlayerEvent(t),u?p():h(),f.trigger("slideLayer:resolvedObjectVisibility"),this},onTweenUpdate:function(e){this.trigger("tween:update",e)},onPlayerReset:function(){this.containsGif&&this.prop("updateGifOnShow",!0)}}),P=C.prototype;return P.show=t.partial(P.toggleVisibility,"show","ontransitionin"),P.hide=t.partial(P.toggleVisibility,"hide","ontransitionout"),P.isVectorShape=t.partial(P.isKind,"vectorshape"),C}),define("views/presentation/mixins/backgroundable",["require","helpers/assetManager"],function(e){"use strict";var t=e("helpers/assetManager"),i={hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return t.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var e=this.getImageBgAsset();return{position:"absolute",left:e.mobiledx(),top:e.mobiledy(),height:e.height(),
width:e.width()}}};return i}),define("views/presentation/ScrollAreaSlideObject",["require","lodash","views/helpers/dom","models/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/backgroundable","react","helpers/svg/svgManager","helpers/utils","polyfills/detection"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom")),i=(e("models/presentation/SlideObject"),e("views/mixins/baseView")),n=e("views/presentation/mixins/backgroundable"),r=e("react"),s=(e("helpers/svg/svgManager"),e("helpers/utils"),e("polyfills/detection")),o=r.createClass({displayName:"ScrollAreaSlideObject",mixins:[i,n],getInitialState:function(){return{shouldNotScroll:!1,contentHeight:10}},componentWillMount:function(){this.listenTo(this.props.model,"updateScrollHeight",this.onUpdateHeight),this.listenTo(this.props.model,"updateScrollPos",this.onUpdatePos)},componentDidMount:function(){this.calcScrolling(),this.updateScrollBar()},onUpdateHeight:function(){this.setState({contentHeight:this.contentheight()}),this.calcScrolling(!0)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.shouldNotScroll!==this.state.shouldNotScroll||t.contentHeight!==this.state.contentHeight},onUpdatePos:function(e){this.props.model.prop("Position",e),this.htmlReady(function(){this.scrollingArea.scrollTop=e,this.updateScrollBar()}.bind(this))},calcScrolling:function(e){var t=this.find(".scrollarea-area"),i=this.contentheight(),n=this.height(),r=n>=i;this.setState({shouldNotScroll:r,contentHeight:i}),this.props.model.prop("Viewed",r),null==e&&this.setupScrollArea(t),null!=this.refs.scrollBar&&this.refs.scrollBar.constrainScroll()},setupScrollArea:function(e){this.scrollingArea=e,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},onScroll:function(){this.props.model.prop("Position",this.scrollingArea.scrollTop);var e=this.scrollingArea.scrollHeight-this.scrollingArea.scrollTop;e<=this.scrollingArea.offsetHeight+5&&this.props.model.prop("Viewed",!0),this.scrollingArea.scrollLeft=0,this.updateScrollBar()},updateScrollBar:function(){null==this.refs.scrollBar||s.isIE()||this.refs.scrollBar.update()},scroll:function(e){if(!this.state.shouldNotScroll){var t=e?10:-10;this.scrollingArea.scrollTop+=t}},treeKeyCallback:function(e,t){return this.scroll(t),!0},beforeChildScrollFocus:function(e){e&&(this.lastScrollTop=this.scrollingArea.scrollTop)},childScrollFocus:function(e){if(e.state.tabFocused===!0){var i=this.find(".scrollarea-area"),n=t.getScrollRecommendation(i,e.el);0!==n&&(i.scrollTop=n)}else this.scrollingArea.scrollTop=this.lastScrollTop;this.scrollingArea.scrollLeft=0,this.refs.contentArea.scrollTop=0,this.refs.contentArea.scrollLeft=0},isTabbable:function(){return!this.state.shouldNotScroll},contentheight:function(){return this.props.model.contentheight()},contentwidth:function(){return this.props.model.contentwidth()},height:function(){return this.props.playerProps.height},width:function(){return this.props.playerProps.width}});return o}),define("helpers/svg/expandingLabelHelper",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(){var e=[],i={add:function(t){e=e.concat(t)},addCmd:function(t,i){i.unshift(t),e=e.concat(i)},value:function(){return e}};return i.addM=t.partial(i.addCmd,"M"),i.addL=t.partial(i.addCmd,"L"),i.addQ=t.partial(i.addCmd,"Q"),i},n=function(e){return e.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim()},r=function(e){var t=e.radius,i=e.arrowY-e.halfArrowSize;return t>i&&(t=i),t},s={"left-bottom":function(e,t){e.addM([t.width,t.arrowLength])},left:function(e,t){e.addM([t.width,r(t)])},"default":function(e,t){e.addM([t.width,t.radius])}},o={"bottom-left":function(e,t){e.addL([t.width,0,t.width,t.arrowY,t.width-t.arrowLength,0])},"left-bottom":function(e,t){e.addL([t.arrowX,0])},left:function(e,t){e.addQ([t.width,0,t.width-r(t),0])},"default":function(e,t){e.addQ([t.width,0,t.width-t.radius,0])}},a={bottom:function(e,t){e.addL([t.arrowX+t.halfArrowSize,0,t.arrowX,t.arrowY,t.arrowX-t.halfArrowSize,0,t.radius,0])},"bottom-right":function(e,t){e.addL([t.arrowLength,0])},right:function(e,t){e.addL([r(t),0])},"default":function(e,t){e.addL([t.radius,0])}},l={"bottom-right":function(e,t){e.addL([t.arrowLength,0,0,t.arrowY])},"right-bottom":function(e,t){e.addL([t.arrowX,0,0,t.arrowLength])},right:function(e,t){e.addQ([0,0,0,r(t)])},"default":function(e,t){e.addQ([0,0,0,t.radius])}},u={right:function(e,t){e.addL([0,t.arrowY-t.halfArrowSize,t.arrowX,t.arrowY,0,t.arrowY+t.halfArrowSize,0,t.height-r(t)])},"right-top":function(e,t){e.addL([0,t.height-t.arrowLength])},"default":function(e,t){e.addL([0,t.height-t.radius])}},c={"right-top":function(e,t){e.addL([t.arrowX,t.height])},"top-right":function(e,t){e.addL([0,t.arrowY,t.arrowLength,t.height])},right:function(e,t){e.addQ([0,t.height,r(t),t.height])},"default":function(e,t){e.addQ([0,t.height,t.radius,t.height])}},h={top:function(e,t){e.addL([t.arrowX-t.halfArrowSize,t.height,t.arrowX,t.arrowY,t.arrowX+t.halfArrowSize,t.height,t.width-t.radius,t.height])},"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height])},left:function(e,t){e.addL([t.width-r(t),t.height])},"default":function(e,t){e.addL([t.width-t.radius,t.height])}},p={"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height,t.arrowX,t.arrowY])},"left-top":function(e,t){e.addL([t.arrowX,t.height,t.width,t.height-t.arrowLength])},left:function(e,t){e.addQ([t.width,t.height,t.width,t.height-r(t)])},"default":function(e,t){e.addQ([t.width,t.height,t.width,t.height-t.radius])}},d={left:function(e,t){e.addL([t.width,t.arrowY+t.halfArrowSize,t.arrowX,t.arrowY,t.width,t.arrowY-t.halfArrowSize]),e.add(["Z"])},"default":function(e,t){e.add(["Z"])}},f=function(e,i){var n=0;return i=t.map(i,function(t){return isNaN(t)||(n%2===1&&(t+=e),n++),t})},m={arrowLength:null,calcTranslate:function(e,t){var i=0,n=0,r=0,s=0;return 0>e&&(i=-1*e,r=e),0>t&&(n=-1*t,s=t),{x:i,y:n,offX:r,offY:s}},calcArrowLength:function(e,t,i,n){var r;return 0>i&&(r=-1*i),i>e&&(r=i-e),0>n&&(r=-1*n),n>t&&(r=n-t),this.arrowLength=r,r},labelPath:function(e){var t,r=i(),m=e.dir,g=e.top;return e.arrowY-=g,e.arrowLength=this.arrowLength,e.halfArrowSize=this.arrowLength/2,"left"!==m&&"right"!==m||(e.height-=1),[s,o,a,l,u,c,h,p,d].forEach(function(t){(t[m]||t["default"])(r,e)}),t=f(g,r.value()),n(t)}};return m}),define("views/presentation/ExpandingLabelSlideObject",["require","lodash","tween-lite","helpers/utils","views/mixins/baseView","react","helpers/svg/svgManager","views/mixins/propertizable","helpers/svg/expandingLabelHelper","polyfills/detection","helpers/vow","helpers/pubSub","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("helpers/utils"),r=e("views/mixins/baseView"),s=e("react"),o=e("helpers/svg/svgManager"),a=(e("views/mixins/propertizable"),e("helpers/svg/expandingLabelHelper")),l=e("polyfills/detection"),u=e("helpers/vow"),c=e("helpers/pubSub"),h=(e("helpers/svg/svgUtils"),.3),p=6,d=3,f=s.createClass({completeHook:t.noop,displayName:"ExpandingLabelSlideObject",mixins:[r],shortEvents:{model:{"action:object_action":"onObjectAction"}},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.content.style.visibility="hidden",this.onShown(this.prepare),this.scrollArea=this.findComponent("ScrollAreaSlideObject")},componentWillUnmount:function(){this.killAllTweens()},componentWillMount:function(){var e=this.props.model;this.prepared=new u.Deferred,this.startHeight=this.props.model.getBounds().height+p+d,this.arrowSize=a.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,e.get("arrowxpos"),e.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate().calcLabelPos(),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent},l.isMobile&&(this.actionConfig.showtitle=this.showComplete,this.actionConfig.hidetitle=this.hideComplete,this.actionConfig.togglecontent=this.toggleComplete)},svg:function(){return o.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){var e=this.props.model;i.set(this.label,this.labelPos),this.updateLabel(),i.set(this.el,{scaleX:0,scaleY:0,transformOrigin:[e.get("arrowxpos"),e.get("arrowypos")].map(n.pxify).join(" ")}),this.content.style.visibility="",this.setupTweens(),this.prepared.resolve()},setupTween:function(e){var n=this.tweenedNodes;return n=t(n).push(e.node).compact().uniq().value(),this.tweenedNodes=n,this[e.name]=new i(e.node,e.duration,e.opts),this},setupTweens:function(){var e=[{name:"titleTween",node:this.el,duration:h,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,paused:!0}},{name:"labelTween",node:this.label,duration:h,opts:{x:0,y:0,height:this.props.playerProps.height,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.content,duration:h,opts:{height:this.props.playerProps.height,paused:!0,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],e.forEach(n.take(1,this.setupTween)),this},killAllTweens:function(){return null!=this.tweenedNodes&&this.tweenedNodes.forEach(n.take(1,i.killTweensOf)),this},showComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.showTitle().done(function(){1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent}.bind(this))}.bind(this))},hideComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.contentTween.isActive()?this.hideContent().done(function(){this.completeHook=this.hideTitle}.bind(this)):(this.currentTween=t.noop,this.hideTitle())}.bind(this))},toggleContent:function(){this.shouldShowContent()?this.hideContent():this.showContent()},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(e){return this.completeHook===this.showContent&&"hidecomplete"!==e},wasToggledMultipleTimes:function(e,t){if(l.isMobile){if("onrollout"===t&&"hidecomplete"===e&&"togglecontent"===this.prevCommand)return!0;if("onrollover"===this.prevEventType&&"showcomplete"===this.prevCommand&&"onrollout"===t&&"hidecomplete"===e&&!this.shouldShowContent())return!0}return!1},onObjectAction:function(e,t){var i=e.command,n=t&&t.eventType;this.wasToggledMultipleTimes(i,n)||"togglecontent"!==i&&this.prevCommand===i||(this.prevCommand=i,this.prevEventType=n,this.contentWillShow(i)||this.actionConfig[i]())},triggerObjectEvent:function(e){this.props.model.executeFilteredPlayerEvent(function(t){return t.eventName===e},"onobjectevent")},calcAlignment:function(){var e,i,n=this.props.model,r=n.get("arrowxpos"),s=n.get("arrowypos"),o="",a="",l="";return 0>=s?a="bottom":s>=this.props.playerProps.height&&(a="top"),0>=r?(o="right",0>r&&(e=!0)):r>=this.props.playerProps.width&&(o="left",r>this.props.playerProps.width&&(e=!0)),i=e?[o,a]:[a,o],l=t(i).compact().join("-"),this.alignment=l,this},calcLabelSize:function(){var e=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+e,height:this.props.playerProps.height+e},this},calcLabelTranslate:function(){var e=a.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),t=this.props.model.get("borderwidth"),i=t%2?.5:0;return e.x+=t+i,e.y+=t+i,e.offX-=t,e.offY-=t,this.labelTranslate=e,this},calcLabelPos:function(){var e=this.props.model,i=this.alignment,n=0,r=0;return"right"===i||"left"===i?r=e.get("arrowypos")-this.startHeight/2:t.contains(i,"top")&&(r=e.get("height")-this.startHeight),this.labelPos={x:n,y:r},this},showTitle:function(){return this.prepared.done(function(){this.currentTween=this.titleTween,this.currentTween.play(),this.completeHook=t.noop}.bind(this))},onTitleComplete:function(){this.completeHook()},hideTitle:function(){return this.prepared.done(function(){this.completeHook=this.hideTitle,this.shouldShowContent()||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=t.noop)}.bind(this))},showContent:function(){return this.prepared.done(function(){this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),1===this.currentTween.progress()&&this.onContentComplete()}.bind(this))},updateChildVisibility:function(){t.result(this.props.model,["currView","updateTrueVisibility"])},onContentReverseComplete:function(){this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility(),this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete")},onContentComplete:function(){this.completeHook=t.noop,this.props.setPlayerProp("Expanded",!0),this.updateChildVisibility(),this.triggerObjectEvent("contentincomplete"),c.trigger("slideLayer:resolvedObjectVisibility"),null!=this.scrollArea&&this.scrollArea.calcScrolling()},hideContent:function(){return this.prepared.done(function(){l.isMobile||(this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility()),this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout"),c.trigger("slideLayer:resolvedObjectVisibility"),0===this.currentTween.progress()&&this.onContentReverseComplete()}.bind(this))},calcTweenScale:function(){for(var e,t=this.props.model,i=1;t;)e=t.currView,t.isSlideObject&&null!=e&&null!=e.tweenedConfig&&(i*=n.pctToDec(e.tweenedConfig.props.ScaleY)),t=t.parent;return i},updateLabel:function(){var e=this.label.getBoundingClientRect(),t=this.el.getBoundingClientRect(),i=this.props.model.getSlide().calculateTotalScale(),n=-(t.top-e.top),r=a.labelPath({width:this.props.playerProps.width,top:n*i/this.calcTweenScale(),height:Math.max(this.startHeight,e.height)*i,radius:10,dir:this.alignment,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:r})},getIsVisible:function(){return this.props.playerProps.Expanded},getContentStyles:t.memoize(function(){return{paddingTop:p,paddingBottom:d}})});return f}),define("views/presentation/mixins/dragdropSlideObject",["require","lodash","views/helpers/dom"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom")),i=10,n=.6,r={template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:i,notchHeight:Math.round(n*i)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState)},mountWithOverState:function(){var e=document.elementFromPoint(t.mouseX,t.mouseY),i=t.closest(e,function(e){return e===this.el}.bind(this));i&&this.didMouseOver()},getInitialState:function(){var e=this.getPath("props.model.data.textdata.vectortext.pr")||{};return{textCommandsetId:e.i,textPathLibId:e.l,wordbankRadius:this.getPath("props.model.height")/2}},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}};return r}),define("views/presentation/DropareaSlideObject",["require","lodash","react","views/mixins/baseView","views/mixins/propertizable","views/presentation/mixins/dragdropSlideObject","views/helpers/dragAndDropHelper","helpers/utils","helpers/windowManager"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),r=e("views/presentation/mixins/dragdropSlideObject"),s=e("views/helpers/dragAndDropHelper").DroppableHelper,o=e("helpers/utils"),a=e("helpers/windowManager"),l=t.createClass({displayName:"DropareaSlideObject",mixins:[i,n,r],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(e){e&&this.performReview()},performReview:function(){var e=this.getPath("props.model.style"),t=this.getPath("props.model.reviewdata"),i=o.getPath(this.dropChild,"props.model.reviewdata");"matching"===e?this.dropChild&&t===i?(this.setState({reviewDot:"drop-correct"}),this.dropChild.setState({reviewDot:"drag-correct"}),this.dropChild.resetXPos()):this.setState({reviewDot:"drop-incorrect"}):i?this.setState({reviewStroke:"green"}):this.setState({reviewStroke:"red"})},componentDidMount:function(){this.style=this.getPath("props.model.style"),this.droppableHelper=new s(this.el,{data:this}),this.htmlReady(this.resumeReview)},componentWillUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=a.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var e;this.dragItemViews.forEach(function(t){t.getPlayerProp("SelectedItem")>=0&&(e=t.refs.innard)}),e&&e.reconnectDrop(this)},addMatchingDropChild:function(){this.dragItemViews.forEach(function(e){if(e.getPlayerProp("slideIndex")===this.getPlayerProp("SelectedItem")){var t=e.refs.innard;e.setPlayerProp("RawXPos",t.getDropSnapX(this.props.model)),e.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(t)}}.bind(this))},setDropChild:function(e){var t=o.getPath(e,"props.model.connectdata");this.setPlayerProp("SelectedItem",e.getPlayerProp("slideIndex")),this.setPlayerProp("DragConnectData",t),this.dropChild=e,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData",""),this.setPlayerProp("SelectedItem",-1)},isTabbable:function(){return-1===this.getPlayerProp("SelectedItem")||"matching"===this.style},getDropChild:function(){return this.dropChild}});return l}),define("views/presentation/DragitemSlideObject",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("views/presentation/mixins/dragdropSlideObject"),s=e("views/mixins/propertizable"),o=e("helpers/windowManager"),a=e("views/helpers/dragAndDropHelper"),l=a.DraggableHelper,u=e("views/helpers/dom"),c=e("helpers/keyManager"),h=1500,p=5,d=function(e,i){var n=[e,i].map(function(e){return e.props.isInnard?e.props.parent:e}),r=e.props.model,s=i.props.model,o=s.prop("tabIndex");t.invoke(n,"setOrRemoveTabManagement",!1),s.prop("tabIndex",r.prop("tabIndex")),r.prop("tabIndex",o),t.invoke(n,"setOrRemoveTabManagement",!0),c.onBuildComplete()},f={performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:"green"})},dropComplete:function(e){var t=u.closest(e.el,function(e){return u.hasClass(e,"slide-layer")});t&&t.appendChild(this.slideObjectParent),this.setState({backgroundVisible:!1})},getDropSnapX:function(e){return e.prop("RawXPos")},onDragEnd:function(e,t){this.state.dropped||this.unDrop(),t&&t.params.data.setState({hoverStroke:!1})},setSelectedItem:function(){this.setPlayerProp("SelectedItem",1)},unDrop:function(){var e=this.getPlayerProp("ShuffleXPos"),t=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(e,t),this.putBackInParent(),this.setState({backgroundVisible:!0}),this.setPlayerProp("SelectedItem",-1)},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0)},onDragOut:function(e,t){t.params.data.setState({hoverStroke:!1})},onDraggingOver:function(e,t){t.params.data.setState({hoverStroke:!0})},reconnectDrop:function(e){this.setPlayerProp({depth:++h,OnStage:!0}),this.onDrop(this,{params:{data:e}})},savePrevLoc:t.noop,dragStarted:t.noop},m={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(e){return e.prop("RawXPos")+e.width()-this.props.notchWidth},dropComplete:function(e){this.dropView=e,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(e,t){t.params.data.setState({collision:!1})},onDraggingOver:function(e,t){t.params.data.setState({collision:!0})},onDragEnd:function(e,t){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},setSelectedItem:function(e){this.setPlayerProp("SelectedItem",e.prop("slideIndex"))},swapDisconnectedItems:function(e){var i,n,r,s,o,l=[];return this.dragItemViews.forEach(function(e){var t,i=this.props.model.id,n=e.props.model.id;i===n||e.refs.innard.state.dropped||(t=a.util.unionArea(this.el.getBoundingClientRect(),e.el.getBoundingClientRect()),0!==t&&l.push({area:t,view:e}))}.bind(this)),i=t(l).sortBy("area").last(),i?(n=i.view,s=n.getPlayerProp("RawXPos"),o=n.getPlayerProp("RawYPos"),r=n.refs.innard,r.setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),e||(this.setDragPosition(s,o),this.putBackInParent()),d(this,n),!0):void 0},unDrop:function(e){e&&this.dropView!==e||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX,this.oldY),this.setPlayerProp("SelectedItem",-1))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){var e=this.slideObjectParent.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?this.scrollArea.scrollTop-=p:e.bottom>t.bottom&&(this.scrollArea.scrollTop+=p),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)}},g=i.createClass({displayName:"DragitemSlideObject",mixins:[n,s,r],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(e){e&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?t.mixin(this,f):t.mixin(this,m),t.bindAll(this)},setupDragging:function(){this.parentSlide=o.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.draggableHelper=new l(this.props.parent,this.getDraggableConfig()),this.scrollArea=u.closest(this.el,function(e){return u.hasClass(e,"scrollarea-area")}),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){this.getPlayerProp("SelectedItem")>=0&&this.container.appendChild(this.slideObjectParent)},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){var e=this.slideObjectParent.getBoundingClientRect(),t=this.parentSlide.el.getBoundingClientRect();return this.savePrevLoc(),{x:e.left-t.left,y:e.top-t.top}},onDragStart:function(){this.setPlayerProp("depth",++h),this.container.appendChild(this.slideObjectParent),this.dragStarted()},onDrop:function(e,t){this.setState({dropped:!0});var i=t.params.data,n=i.props.model,r=this.getDropSnapX(n),s=n.prop("RawYPos"),o=i.getDropChild();this.dropAndDisable(),this.setSelectedItem(n),o&&o.unDrop(i),i.setDropChild(this),this.setDragPosition(r,s),this.dropComplete(i)},setDragPosition:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},putBackInParent:function(){this.parentEl.appendChild(this.slideObjectParent)}});return g}),define("views/presentation/TextInputSlideObject",["require","lodash","helpers/windowManager","views/mixins/propertizable","views/presentation/mixins/backgroundable","react","react-dom","views/mixins/baseView","helpers/resolver","helpers/actionManager","helpers/keyManager","helpers/vow","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/windowManager"),e("views/mixins/propertizable")),n=e("views/presentation/mixins/backgroundable"),r=e("react"),s=e("react-dom"),o=e("views/mixins/baseView"),a=e("helpers/resolver"),l=(e("helpers/actionManager"),e("helpers/keyManager")),u=e("helpers/vow"),c=e("polyfills/detection"),h=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],p=[".","-","-."],d=r.createClass({mixins:[o,i,n],displayName:"TextInputSlideObject",shortEvents:{model:{"action:setfocus":"setFocus"}},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var e=this.getPath("props.model.bindto");return t.isEmpty(e)||(this.boundVar=a.resolvePath(e)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.ready=new u.Deferred,this.addStyleIfNeeded(this.state.placeholderClass),this.isMultiline=!!this.getPath("props.model.multiline"),this.isNumeric=this.getPath("props.model.numeric"),null!=this.boundVar&&this.listenTo(this.boundVar,"change variable:refreshView",this.onVarChange)},componentDidMount:function(){this.ready.resolve()},componentWillUnmount:function(){this.ready.reject()},bounds:function(){return this.props.model.getBounds()},getInput:function(){return s.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},setFocus:function(){this.ready.done(this.focusAndSelect)},focusAndSelect:function(){var e=this.getInput();e.focus(),e.setSelectionRange(0,e.value.length)},onKeyDown:function(e){String.fromCharCode(e.which);this.isMultiline||13!==e.which||null==this.boundVar||(this.boundVar.changeValue(this.getInputVal()),c.isMobile&&l.executeKeypressEvent(this.props.model,e)),l.keys.TAB&&e.preventDefault()},isValidNumericEntry:function(e){return 0===e.length?!0:p.indexOf(e)>-1?!0:!isNaN(e)},onInputChange:function(e){var t=e.target.value;!this.isNumeric||this.isValidNumericEntry(t)?this.setState({inputValue:t}):(e.target.value=t,isNaN(e.target.valueAsNumber)||this.setState({inputValue:t}))},onInputFocus:function(){l.focusItem(this.props.parent,!0)},onInputBlur:function(e){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(e){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(e){1===e.touches.length&&(this.getInput().focus(),e.preventDefault())},onVarChange:function(){var e=this.boundVar.value();this.setPlayerProp("Text",e),this.setState({inputValue:e})},addStyleIfNeeded:function(e){var i=this.getTextColor(),n=this.getOrCreateStylesheet(),r=function(t){return t.selectorText.indexOf(e)>-1},s=t.findWhere(n.cssRules,r);s||(n.innerHTML+="\n",n.innerHTML+=h.map(function(t){return[".",e," ",t,"{ color: ",i,"; }"].join("")}).join("\n"))},getOrCreateStylesheet:function(){var e="textInputStyles",t=document.head.querySelector("#"+e);return t||(t=document.createElement("style"),t.id=e,document.head.appendChild(t)),t},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},innardFocus:function(){this.setFocus()},innardRelease:function(){this.getInput().blur()}});return d}),define("views/presentation/VideoSlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/appState","react","views/mixins/baseView","helpers/captionsManager","helpers/assetManager"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils")),i=e("helpers/constants"),n=e("helpers/appState"),r=e("react"),s=e("views/mixins/baseView"),o=e("helpers/captionsManager"),a=e("helpers/assetManager"),l=function(e,t,i){var n=e.getPath("props.model.data.videodata."+t),r=null!=i?"getAssetUrl":"getAsset";return null!=n?a[r](n):void 0},u=r.createClass({displayName:"VideoSlideObject",mixins:[s],shortEvents:{model:{"slideLayer:pauseTimeline":"onPauseMedia","action:media_toggle":"onActionToggle","action:media_play":"onActionPlay","action:media_pause":"onActionPause","action:media_seek":"onActionSeek","action:show":"onActionShow","action:hide":"onActionHide","action:set_volume":"onActionSetVolume"}},onPauseMedia:function(){this.pauseVideo()},getInitialState:function(){return this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:0,currentVolume:n.currentVolume(),isPlaying:!1}},componentWillMount:function(){this.isValidVideo()&&(this.timelinePlayStartTime=0,this.mediaTimelineControlled=!1,this.lastTimelineSeek=0,this.bindTimelineEventListeners())},componentDidMount:function(){this.isValidVideo()&&(this.presentationVol=i.DEFAULT_VOLUME,this.setVolume(n.currentVolume()),this.listenTo(n,"change:currentVolume",this.onVolumeChanged))},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},isValidVideo:function(){var e=""!==this.getVideoUrl()&&"swf"!==this.type;return e},getVideoUrl:function(){var e;return null==this.videoUrl&&(e=l(this,"assetId"),this.type=e&&e.get("videoType"),this.videoUrl=null!=this.type&&"youtube"!==this.type?e.url():""),this.videoUrl},posterFrameUrl:function(){return l(this,"posterAssetId",!0)},getAssetId:function(){return this.getPath("props.model.data.videodata.assetId")},playing:function(e){this.isMounted()&&this.setState({currentTime:e})},durationLoaded:function(e){this.setState({duration:e})},playbackEnded:function(){this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete"),this.refs.videoPlayer.publishCurrentTime()},toggleVideoControls:function(){this.toggleVideo()},rangeslideVideoControls:function(e){this.seekVideo(t.toMilliseconds(e.target.valueAsNumber))},onActionShowOnce:function(e,t){this.pausedByAction||this.onActionPlay(e,t)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once("action:show",this.onActionShowOnce),this.listenTo(this.layerTimeline,"reset",function(){this.seekVideo(0),this.hasAutoPlay()||this.pauseVideo()}),this.listenTo(this.layerTimeline,"playing",function(){this.layerTimeline.hasFinished()||this.playAndRestoreState()}),this.listenTo(this.layerTimeline,"paused",function(){this.layerTimeline.hasFinished()||this.pauseAndStoreState()}),this.listenTo(this.layerTimeline,"seekStart",this.pauseAndStoreState),this.listenTo(this.layerTimeline,"afterSeekUpdate",this.onTimelineSeek),this.listenTo(this.layerTimeline,"seekEnd",this.playAndRestoreState)},loadedData:function(){if(this.state.isPlaying&&this.isMediaTimelineControlled()){var e=this.calculatePlaybackDifferential(this.layerTimeline.elapsedTime());this.seekVideo(e),this.refs.videoPlayer.play()}},hasAutoPlay:function(){var e=this.props.model.getClosestAncestorByKind("expandinglabel");return e&&!e.prop("Expanded")?!1:this.getPath("props.model.autoplay")},onActionShow:function(e,t){this.isSeekActionAndNotPlaying(t)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&!this.pausedByAction&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo();
},onActionPlay:function(e,t){this.pausedByAction=!1,this.setPlayActionStartTime(t.time),this.isSeekActionAndNotPlaying(t)||(this.playVideo(),"expandinglabel"===t.context.get("kind")&&o.includeMedia(this.getAssetId()))},onActionPause:function(e,t){this.pausedByAction=!0,this.isSeekActionAndNotPlaying(t)||(this.pauseVideo(),"expandinglabel"===t.context.get("kind")&&o.excludeMedia(this.getAssetId()))},onActionSeek:function(e,t){this.isSeekActionAndNotPlaying(t)||this.seekVideo(e.position)},onActionSetVolume:function(e,t){var i=e.volume/100;this.presentationVol=i,this.determineAudioVolume(n.currentVolume())},setPlayActionStartTime:function(e){return null!=e&&(this.timelinePlayStartTime=e,this.mediaTimelineControlled=!0),this},isSeekActionAndNotPlaying:function(e){return e.isSeekAction&&!this.layerTimeline.isPlaying()},calculatePlaybackDifferential:function(e){return e-this.timelinePlayStartTime},onTimelineSeek:function(e){this.seeked=!0,this.lastTimelineSeek=e,e=this.calculatePlaybackDifferential(e),this.isMediaTimelineControlled()&&!this.pausedByAction&&this.seekVideo(e)},isMediaTimelineControlled:function(){return this.mediaTimelineControlled||this.hasAutoPlay()},pauseAndStoreState:function(){this.timelinePaused||(this.resumeOnSeek=this.state.isPlaying,this.timelinePaused=!0,this.seeked=!1),this.pauseVideo()},playAndRestoreState:function(e){var t=e?"playing"===e:!this.pausedByAction;this.isVisible()&&(!this.isMediaTimelineControlled()&&this.resumeOnSeek||this.isMediaTimelineControlled()&&t&&(this.lastTimelineSeek>=this.timelinePlayStartTime||this.resumeOnSeek&&!this.seeked))&&this.playVideo(),this.timelinePaused=!1},playVideo:function(){return this.setState({isPlaying:!0}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),this},toggleVideo:function(){return this.state.isPlaying?this.pauseVideo():this.playVideo(),this},seekVideo:function(e){return this.refs.videoPlayer.seek(Math.max(0,t.toSeconds(e))),0>e&&this.setState({isPlaying:!1}),this},setVolume:function(e){return this.setState({currentVolume:e}),this},actionKeyCallback:function(){return this.toggleVideo(),!0}});return u}),define("views/presentation/DropListParentable",["require","lodash","helpers/windowManager","views/mixins/baseView","views/mixins/propertizable","react","react-dom","views/helpers/dom","helpers/utils","polyfills/detection","helpers/scaler","helpers/svg/svgManager","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/windowManager"),n=e("views/mixins/baseView"),r=e("views/mixins/propertizable"),s=e("react"),o=e("react-dom"),a=e("views/helpers/dom"),l=e("helpers/utils"),u=e("polyfills/detection"),c=e("helpers/scaler"),h=(e("helpers/svg/svgManager"),e("helpers/svg/svgUtils")),p=8,d=s.createClass({mixins:[n,r],displayName:"DropListParentable",subscriptions:{"slideContainer:positioned":"onSlideContainerPositioned"},shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr")}},componentWillMount:function(){this.itemslist=this.getPath("props.model.itemslist"),this.currentIndex=-1},componentDidMount:function(){this.initReparenting(),this.createRefOrder(),this.onShown(this.selectItemIfSet),this.initMobile()},createRefOrder:function(){this.refOrder=[],this.itemslist.forEach(function(e,t){var i=this.refs["item"+t];u.isMobile?this.refOrder[i.getAttribute("data-order")]=i:this.refOrder[i.props.order]=i}.bind(this))},initMobile:function(){u.isMobile&&this.refs.mobileDrop.addEventListener("change",this.onMobileSelect)},onSetReview:function(e){var t=this.getPath("props.model.reviewwidth");e&&t&&this.setState({reviewWidth:t})},onMobileSelect:function(e){var t=e.target.value;this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[t].itemdata),this.setPlayerProp("SelectedItemIndex",t),this.setState({pr:this.props.model.origItemsList[t].textdata.vectortext.pr})},selectItemIfSet:function(){var e=this.getPlayerProp("SelectedItemIndex");e>-1&&(u.isMobile?(this.onMobileSelect({target:{value:e}}),this.refs.mobileDrop.value=e):this.itemSelected(e))},itemSelected:function(e){if(-1!==e){var t=this.refs["item"+e];t.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[e].itemdata),this.setPlayerProp("SelectedItemIndex",e),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=t,this.updateText(t)}},updateText:function(e){this.setState({pr:e.props.pr})},contentheight:function(){var e=(this.getPath("props.model.height")+p)*this.itemslist.length;return e},onShowList:function(){this.isEnabled()&&(null!=this.refs.scrollBar&&this.refs.scrollBar.update(),document.body.addEventListener("mousedown",this.onMouseDown),document.body.addEventListener("mouseup",this.onHideList),document.body.addEventListener("touchstart",this.onMouseDown),document.body.addEventListener("touchend",this.onHideList),this.setState({display:"block"}),this.positionList())},onHideList:function(e){if(null==this.containerScrollTop||this.containerScrollTop===this.getItemScrollTop()){var t;null!=e&&(t=a.closest(e.target,function(e){return a.hasClass(e,"drop-list-top")||u.isMobile&&a.hasClass(e,"drop-list")})),t||(this.unpositionList(),this.setState({display:"none"}),document.body.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchstart",this.onMouseDown),document.body.removeEventListener("touchend",this.onHideList))}},getItemScrollTop:function(){return o.findDOMNode(this.refs.dropdownInner).scrollTop},onMouseDown:function(){this.containerScrollTop=this.getItemScrollTop()},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},autoOpenList:function(){var e,t="block"===this.state.display;return t?(this.onHideList(),this.itemSelected(-1===this.currentIndex?-1:this.refOrder[this.currentIndex].props.idx)):(this.onShowList(),e=this.getPlayerProp("SelectedItemIndex"),this.currentIndex=-1===e?-1:this.refs[["item",e].join("")].props.order,this.focusItem(this.currentIndex)),!0},focusItem:function(e){if(-1!==e){var t=this.refOrder[e],i=this.refs.dropdownInner;this.refOrder.forEach(function(t,i){t.setState({hovered:i===e})}.bind(this)),this.currentIndex=e,this.itemSelected(t.props.idx),0!==a.getScrollRecommendation(i,t.el)&&(i.scrollTop=t.props.yOff-this.props.model.height())}},initReparenting:function(){this.targetEl=this.el.parentNode,this.dropDown=this.el.firstElementChild,this.container=document.getElementById("app-top-container"),this.overlay=document.getElementById("app-top-overlay"),this.presentation=document.getElementById("presentation")},getItemHeight:function(){return this.getPath("props.model.height")+p},getListHeight:function(){return this.getItemHeight()*this.itemslist.length},positionList:function(){if(this.targetEl.parentNode!==this.container){this.parentEl=this.parentEl||this.el.parentNode.parentNode;var e,n=this.el.getBoundingClientRect(),r=i.getCurrentWindowSlide(),s=r.currView.el.getBoundingClientRect(),o=this.presentation.getBoundingClientRect(),u=r.calculateTotalScale(),p=1/c.getScale()||1,d=function(e){return e*u},f=function(e){return e*p},m=o.bottom,g=4,v=(this.getListHeight()+this.getItemHeight())/u;a.setStyles(this.targetEl,t.mapValues({left:n.left-o.left,top:n.top-o.top},t.flow(d,l.pxify))),this.container.style[this.cssTransform]=h.transformScale(f(1/u)),this.container.appendChild(this.targetEl),n.top+v>m&&(e=d(m-n.top-g),this.dropDown.style.height=l.pxify(e),this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:e})),a.setStyles(this.overlay,t.extend({display:"block"},t.mapValues({left:s.left-o.left,top:s.top-o.top,width:s.width,height:s.height},t.flow(f,l.pxify))))}},unpositionList:function(){this.targetEl.parentNode===this.container&&(a.setStyles(this.overlay,{display:""}),a.setStyles(this.targetEl,{left:0,top:0}),this.container.style[this.cssTransform]=h.transformScale(1),this.parentEl.appendChild(this.targetEl))},onSlideContainerPositioned:function(){"block"===this.state.display&&this.htmlReady(t.flow(this.unpositionList,this.positionList))},treeKeyCallback:function(e,t){"none"===this.state.display&&this.autoOpenList();var i=t?1:-1,n=this.currentIndex,r=n+i,s=this.itemslist.length-1;return r=l.clamp(0,s,r),this.focusItem(r),!0},actionKeyCallback:function(){this.autoOpenList()},innardRelease:function(){this.onHideList(),this.focusItem(this.currentIndex)}});return d}),define("views/presentation/DropListSlideObject",["require","lodash","views/mixins/baseView","react","react-dom","views/helpers/dom","./DropListParentable"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("react-dom"),r=e("views/helpers/dom"),s=e("./DropListParentable"),o=i.createClass({mixins:[t],displayName:"DropListSlideObject",componentWillMount:function(){this.droplistEl=i.createElement(s,this.props),this.wrapper=document.createElement("div"),r.setStyles(this.wrapper,{position:"absolute",top:0,left:0}),this.parentableDropList=n.render(this.droplistEl,this.wrapper)},componentDidMount:function(){this.el.appendChild(this.wrapper)},componentWillUnmount:function(){n.unmountComponentAtNode(this.wrapper)},treeKeyCallback:function(e,t){return this.parentableDropList.treeKeyCallback(e,t)},actionKeyCallback:function(){this.parentableDropList.actionKeyCallback()},innardRelease:function(){this.parentableDropList.innardRelease()}});return o}),define("views/presentation/SequenceCtrlSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","react","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/tabFocusBox","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),r=e("helpers/windowManager"),s=e("views/helpers/dragAndDropHelper").DraggableHelper,o=e("react"),a=e("views/helpers/dom"),l=e("helpers/utils"),u=e("helpers/svg/svgUtils"),c=e("helpers/tabFocusBox"),h=e("helpers/keyManager"),p=5,d=o.createClass({mixins:[i,n],displayName:"SequenceCtrlSlideObject",shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(e){this.displayReview(e)},componentWillMount:function(){this.resetIndex(),this.getItemsList()},componentDidMount:function(){this.onShown(this.setupDragging)},componentDidUpdate:function(e,t){var i=t.ItemOrder,n=this.getPlayerProp("ItemOrder");i!==n&&this.getItemsList()},getItemsList:function(){var e,t,i,n=this.getPlayerProp("ItemOrder");n?(e=n.split(""),t=this.getPath("props.model.itemsListOrder"),this.itemslist=[],e.forEach(function(e){this.itemslist.push(t[e])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),i=this.itemslist.length.toString(),this.numWidth=22+10*(i.length-1),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.parentSlide=r.getCurrentWindow().getCurSlide(),this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.scrollArea.addEventListener("scroll",this.onScroll),this.checkIfViewed(),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll(),this.displayReview(this.reviewMode)},checkIfViewed:function(){var e=this.scrollArea.scrollHeight-this.scrollArea.scrollTop;e<=this.scrollArea.offsetHeight+5&&this.props.model.prop("Viewed",!0)},onScroll:function(){this.checkIfViewed()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.height=this.lastHeight,this.scrollArea.style.overflowY="scroll",this.setState({shouldScroll:!0}))},contentheight:function(){return this.lastHeight},setupItems:function(){this.items=[];var e=0,t=this.numWidth,i=16,n=i/2+3;this.itemslist.forEach(function(r,o){var a,l=this.refs["sequenceItem"+o],u=l.props.model.height;l.idx=o,l.itemdata=this.itemslist[o].itemdata,l.parent=l.el.parentNode,l.barInfo=null,l.didMouseOut(),this.items.push(l),this.setPlayerProp("_pos"+o,l.itemdata),e=n,n=e+u+i,l.loc={x:t,y:e},this.lastHeight=n,this.setItemPosition(l.parent,l.loc),l.draggableHelper&&l.draggableHelper.disable(),l.draggableHelper=new s(l,this.getDraggableConfig(l.parent),l.parent),l.onDragItemDown=function(){this.idx=l.idx}.bind(this),l.el.addEventListener("mousedown",l.onDragItemDown),a=l.draggableHelper.getDropTarget("drag"),a.params.data.setDropChild(l)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach(function(e){e.draggableHelper.disable()})},displayReview:function(e){this.reviewMode=e,e&&null!=this.items&&this.items.forEach(function(e,t){var i=this.props.model.getIndexByData(e.itemdata),n=i===t?"green":"red";e.drop.setState({reviewColor:n,reviewIdx:i})}.bind(this))},getDraggableConfig:function(e){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:t.partial(this.getDragPosition,e)}},setItemPosition:function(e,t){e.style[this.cssTransform]=u.transformTranslate(l.pxify(t.x),l.pxify(t.y))},resetPositionItem:function(e){this.scrollArea.appendChild(e.draggableHelper.el),this.setItemPosition(e.draggableHelper.el,e.loc)},onDrag:function(e){var i=t.toArray(document.querySelectorAll(".sequence-ctrl-bar"));i.every(function(t,i){var n="block"===t.style.display;return n&&(e.view.currY=t.getBoundingClientRect().top),!n})},resetIndex:function(){this.idx=-1},exitStealTab:function(e,t){return 0===this.idx&&t?(h.setCurrentItemAndFocus(e),!0):void 0},stealTab:function(e,t){var i=this.idx>=this.itemslist.length-1;i&&!t&&this.resetIndex(),t&&this.idx<0||(t?this.idx--:this.idx++,this.lastItem&&this.lastItem.el.classList.remove("focused"),this.idx<0?(h.setCurrentItem(e),h.changeFocus(t),h.focusNextItem(),this.resetIndex()):i?(c.hide(),h.focusNextItem()):(e.el.classList.remove("focused"),this.focusOnChild(this.refs["item"+this.idx])))},focusOnChild:function(e){this.lastItem=e,this.lastItem.el.focus(),this.lastItem.el.classList.add("focused"),this.childScrollFocus(this.lastItem),c.show(this.lastItem)},innardFocus:function(){h.lastShift&&this.htmlReady(function(){this.idx=this.itemslist.length-1,this.focusOnChild(this.refs["item"+this.idx])}.bind(this))},releaseFocus:function(){this.resetIndex()},childScrollFocus:function(e){var t=this.scrollArea,i=a.getScrollRecommendation(t,e.el);0!==i&&(t.scrollTop=i)},insertItem:function(e){var i=[];this.scrollArea.appendChild(e.draggableHelper.el),this.items=t.sortBy(this.items,function(e){return e.currY}),i=this.items.reduce(function(e,t,i){return e+this.props.model.getIndexByData(t.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",i)},checkForAutoScroll:function(){var e=this.currDraggable.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?(this.scrollArea.scrollTop-=p,this.updateItemYs()):e.bottom>t.bottom&&(this.scrollArea.scrollTop+=p,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(e){var t=e.getBoundingClientRect(),i=this.parentSlide.el.getBoundingClientRect();return{x:t.left-i.left,y:t.top-i.top}},updateItemYs:function(){this.items.forEach(function(e){e.currY=e.parent.getBoundingClientRect().top})},onDragEnd:function(e,t){var i=e.view;e.el.style.opacity=1,this.resetPositionItem(i),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null),null!=this.lastOver&&this.lastOver.hideBar()},onDragStart:function(e,t){e.el.style.opacity=.5,this.container.appendChild(e.el),this.currDraggable=e.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(e,t){var i=e.view,n=t.params.data,r=n.getDropChild();this.insertItem(i),r&&(i.drop.setDropChild(r),n.setDropChild(i)),this.lastOver=null,n.hideBar(),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(e,t){this.lastOver=null,t.params.data.hideBar()},onDraggingOver:function(e,t){this.lastOver=t.params.data,this.lastOver.showHideBar(e)},componentWillUnmount:function(){this.itemslist.forEach(function(e,t){var i=this.refs["sequenceItem"+t];i.el.removeEventListener("mousedown",i.onDragItemDown)}.bind(this))}});return d}),define("views/presentation/SlideFrameSlideObject",["require","react","views/mixins/baseView","polyfills/detection","helpers/windowManager","helpers/resolver","views/presentation/mixins/backgroundable","helpers/pubSub","helpers/utils","helpers/vow","helpers/animationClock"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),r=e("helpers/windowManager"),s=e("helpers/resolver"),o=e("views/presentation/mixins/backgroundable"),a=e("helpers/pubSub"),l=e("helpers/utils"),u=e("helpers/vow"),c=e("helpers/animationClock"),h=n.isMobile?500:0,p=t.createClass({displayName:"SlideFrameSlideObject",mixins:[i,o],shortEvents:{model:{"show showcustom":"onShow","hide hidecustom":"onHide"}},getInitialState:function(){return{slideModel:null}},componentWillMount:function(){var e=this.props.model.get("scalecontents");e===!1&&(this.props.parent.animationOverride={scale:this.applyScale,adjustProps:this.adjustProps,update:this.animationUpdate})},animationUpdate:function(e){this.applyScale(e)},adjustProps:function(e){return e.ScaleX=100,e.ScaleY=100,e},applyScale:function(e){this.el.style.width=l.pxify(this.props.playerProps.width*l.pctToDec(e.ScaleX)),this.el.style.height=l.pxify(this.props.playerProps.height*l.pctToDec(e.ScaleY))},onShow:function(){var e,t,i,n;null==this.readyPromise&&(e=this.props.model,t=e.get("startingslide"),i=s.resolvePath(t),n=new u.Deferred,this.startedDfd=new u.Deferred,this.readyPromise=u.when(this.startedDfd,n),i.on("slide:currentTimeline",n.resolve),null==this.lockId&&(this.lockId=c.lock()),a.trigger("loader:silence"),this.loadChildSlide(),a.trigger("loader:show",h)),this.readyPromise.done(function(){var e=this.state.slideModel;e.resetBeforeView().restart().setAsViewed(),a.trigger("timeline:currentTimeline",e.currentTimeline())}.bind(this))},onHide:function(){null!=this.readyPromise&&this.readyPromise.done(function(){var e=this.state.slideModel.currentTimeline();null!=e&&e.pause()}.bind(this))},loadChildSlide:function(){var e=this.props.model.get("startingslide");r.loadSlide(e,function(e){this.setState({slideModel:e})}.bind(this),!0)},onSlideStarted:function(){var e=this.lockId;this.lockId=null,c.unlock(e),this.startedDfd.resolve()}});return p}),define("views/presentation/mixins/annotation",["require","lodash","tween-lite"],function(e){var t=(e("lodash"),e("tween-lite")),i=25,n=.6,r={none:"getNoTweens",appear:"getNoTweens",draw:"getDrawTweens",bounce:"getBounceTweens",fade:"getFadeTweens",stretch:"getStretchTweens"},s={getInitialState:function(){return{gradientId:this.getUniqueNodeId("gradient"),filterId:this.getUniqueNodeId("filter"),maskId:this.getUniqueNodeId("mask"),bgId:this.getUniqueNodeId("bg"),fillColorId:this.getUniqueNodeId("fill"),borderColorId:this.getUniqueNodeId("border"),animationMaskId:this.getUniqueNodeId("animation-mask")}},getUniqueNodeId:function(e){return["annotation",this.props.model.id,e].join("-")},renderColors:function(){return this.getTemplateManager().getTemplate("AnnotationColors").call(this)},getTweens:function(){return this[r[this.props.model.get("animationtype")]]()},getNoTweens:function(){return[]},getBounceTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{left:-i},{ease:"Power1.easeOut",left:0})]},getFadeTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{opacity:0},{ease:"Linear.easeNone",opacity:1})]},getStretchTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{scale:n},{ease:"Power1.easeOut",scale:1})]}};return s}),define("views/presentation/mixins/annotationArrow",["require","lodash","react","helpers/svg/svgUtils","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/svg/svgUtils"),r=e("helpers/utils"),s={x:0,y:1},o=.4,a={arrowsquare:"ArrowSquare",arrowround:"ArrowRound",arrowtriangle:"ArrowTriangle",arrowv:"ArrowV",check:"Check",cross:"Cross"},l=function(e){return[a[e],"Annotation"].join("")},u={componentWillMount:function(){var e=this.props.model.getLayer().timeline();this.listenTo(e,"afterSeekUpdate",this.onTimelineSeek),this.listenTo(this,{"animation:created":this.onAnimationCreated,"animation:destroyed":this.onAnimationDestroyed})},renderDefs:function(){return this.getTemplateManager().getTemplate("AnnotationDefs").call(this)},renderBg:function(){var e=this.state.bgId,t=this.props.model.get("rotation");return i.createElement("use",{xlinkHref:["#",e].join(""),transform:n.transformRotate(-t)})},getShadowTransform:function(){var e=this.props.model.get("rotation"),t=r.rotatePoint(s.x,s.y,0,0,-e);return n.transformTranslate(t.x,t.y)},getAnimationDuration:function(){return o},setMaskFill:function(e){null!=this.getMasks&&this.getMasks().forEach(function(t){null!=t&&t.setAttribute("fill",e)})},onAnimationCreated:function(){this.hideMask()},onAnimationDestroyed:function(){this.showMask()},onTimelineSeek:function(){this.showMask()},template:function(){var e=this.props.model.get("arrowstyle");return this.getTemplateManager().getTemplate(l(e)).call(this)}};return t.extend(u,{showMask:t.partial(u.setMaskFill,"#fff"),hideMask:t.partial(u.setMaskFill,"#000")}),u}),define("views/presentation/AnnotationArrow",["require","react","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/presentation/mixins/annotation"),r=e("views/presentation/mixins/annotationArrow"),s=t.createClass({displayName:"AnnotationArrow",mixins:[i,n,r]});return s}),define("views/presentation/AnnotationCheck",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","views/mixins/baseView","helpers/svg/svgUtils","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("tween-lite"),r=e("views/presentation/mixins/annotation"),s=e("views/presentation/mixins/annotationArrow"),o=e("views/mixins/baseView"),a=(e("helpers/svg/svgUtils"),e("helpers/TransMatrix")),l=e("helpers/utils"),u=.54,c=.24,h=21,p=-14.25,d=Quad.easeOut,f=t.memoize(function(){return Math.abs(h)+Math.abs(p)}),m=t.memoize(function(){return Math.abs(h)/f()*u}),g=t.memoize(function(){return Math.abs(p)/f()*u}),v=i.createClass({displayName:"AnnotationCheck",mixins:[o,r,s],getDrawTweens:function(){var e=this.refs.mask,t=n.to(e,u+c,{onStart:this.showMask,onUpdate:function(){var i=new a,n=t.time(),r=d.getRatio(Math.min(n/u,1)),s=Math.min(n/m()*r,1)*h,o=l.clamp(0,1,(n-m())/g()*r)*p;i.translate(s,o),e.setAttribute("transform",i.toCssTransform())}});return[t]},getMasks:function(){return[this.refs.mask]}});return v}),define("views/presentation/AnnotationCross",["require","react","tween-lite","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("tween-lite"),n=e("views/mixins/baseView"),r=e("views/presentation/mixins/annotation"),s=e("views/presentation/mixins/annotationArrow"),o=e("helpers/TransMatrix"),a=e("helpers/utils"),l=.54,u=.24,c=23,h=24,p=6,d=6,f=t.createClass({displayName:"AnnotationCross",mixins:[n,r,s],getInitialState:function(){return{legMaskId:this.getUniqueNodeId("leg-mask"),animationXMaskId:this.getUniqueNodeId("animation-x-mask"),animationLegMaskId:this.getUniqueNodeId("animation-leg-mask")}},getDrawTweens:function(){var e=this.refs.leg,t=this.refs.xMask,n=this.refs.legMask,r=l/2,s=i.to(this.el,l+u,{onStart:this.showMask,onUpdate:function(){var i,l=new o,u=new o,f=s.time(),m=Math.min(f/r,1),g=(1-m)*c,v=a.clamp(0,1,(f-r)/(r/2)),y=a.clamp(0,1,(f-1.5*r)/(r/2)),b=y>0;i=b?p-d*y:h-d*v,l.translate(-g,-g).translate(9,-2).rotate(45,0,0),u.translate(-i,i).translate(39,16).rotate(135,0,0),e.style.display=b?"none":"block",n.setAttribute("transform",l.toCssTransform()),t.setAttribute("transform",u.toCssTransform())}.bind(this)});return[s]},getMasks:function(){return[this.refs.legMask,this.refs.xMask]}});return f}),define("views/presentation/AnnotationRectangle",["require","lodash","react","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/presentation/mixins/annotation"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=.333,a=i.createClass({displayName:"AnnotationRectangle",mixins:[r,n],getStyle:function(){var e=this.props.model;return{borderColor:this.getBorderColor(),borderWidth:e.get("borderwidth"),borderRadius:e.get("boxradius"),height:e.get("height"),width:e.get("width")}},getBorderColor:function(){var e,i=t.find(this.props.model.get("colors"),{name:"bordercolor"});return null!=i?(e=i.fill.colors[0],s.toRgba(e.rgb,e.alpha)):void 0},getAnimationDuration:function(){return o}});return a}),define("views/presentation/AnnotationSpotlight",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("tween-lite"),r=e("views/presentation/mixins/annotation"),s=e("views/mixins/baseView"),o=e("helpers/utils"),a=1,l=.5,u=i.createClass({displayName:"AnnotationSpotlight",mixins:[s,r],shortEvents:{model:{"action:show":"onActionShow"}},onActionShow:function(){"draw"===this.props.model.get("animationtype")&&(this.refs.border.style.strokeDasharray=o.pxify(this.getLength()))},getDrawTweens:function(){var e=(this.props.model,this.getLength());return[n.fromTo(this.refs.border,a,{"stroke-dashoffset":e},{ease:"Linear.easeNone","stroke-dashoffset":0,onComplete:function(){this.refs.border.style.strokeDashoffset=this.refs.border.style.strokeDasharray=""}.bind(this)}),n.fromTo(this.refs.overlay,l,{opacity:0},{delay:a,ease:"Linear.easeNone",opacity:1})]}});return u.prototype.getLength=t.memoize(function(){var e=this.props.model;return 2*(e.get("width")+e.get("height"))},function(){var e=this.props.model;return[e.get("width"),e.get("height")].join("x")}),u}),define("views/presentation/AnnotationSlideObject",["require","react","timeline-lite","views/presentation/AnnotationArrow","views/presentation/AnnotationCheck","views/presentation/AnnotationCross","views/presentation/AnnotationRectangle","views/presentation/AnnotationSpotlight","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("timeline-lite"),n=e("views/presentation/AnnotationArrow"),r=e("views/presentation/AnnotationCheck"),s=e("views/presentation/AnnotationCross"),o=e("views/presentation/AnnotationRectangle"),a=e("views/presentation/AnnotationSpotlight"),l=e("views/mixins/baseView"),u={rectangle:o,spotlight:a},c={arrowsquare:n,arrowround:n,arrowtriangle:n,arrowv:n,check:r,cross:s},h=t.createClass({displayName:"AnnotationSlideObject",mixins:[l],shortEvents:{model:{"action:show":"onActionShow","action:hide":"onActionHide"}},getInitialState:function(){return{Innard:this.getInnardType()}},componentWillMount:function(){this.timeline=this.props.model.getLayer().timeline(),this.listenTo(this.timeline,{playing:this.onTimelinePlaying,paused:this.onTimelinePaused,afterSeekUpdate:this.onTimelineAfterSeekUpdate})},componentWillUnmount:function(){this.teardownAnimation()},getInnardType:function(){var e=this.props.model,t=e.get("style");return"arrow"===t?c[e.get("arrowstyle")]:u[t]},onActionShow:function(e,t){var n,r=this.animation;if(null==r){if(n=this.refs.innard.getTweens(),0===n.length)return;r=this.animation=new i({tweens:n,onComplete:this.onAnimationComplete,onReverseComplete:this.onAnimationReverseComplete}),this.refs.innard.trigger("animation:created")}this.seekOffset=t.time,this.numLoops=0,r.play()},onActionHide:function(){this.teardownAnimation()},onAnimationComplete:function(){this.numLoops++,this.shouldLoop()&&this.animation[this.shouldReverse()?"reverse":"restart"]()},onAnimationReverseComplete:function(){this.animation.restart()},onTimelinePlaying:function(){var e=this.animation;null==e||e.isActive()||e.play()},onTimelinePaused:function(){var e=this.animation;null!=e&&e.isActive()&&e.pause()},onTimelineAfterSeekUpdate:function(e){var t,i,n,r,s=this.animation,o=(e-this.seekOffset)/1e3;null!=s&&(0>o?this.teardownAnimation():(t=s.duration(),i=Math.floor(o/t),this.numLoops=this.shouldReverse()?Math.floor((i+1)/2):i,this.shouldLoop()?(n=o%t,r=this.shouldReverse()&&i%2===1,s.reversed(r),r&&(n=t-n)):(s.reversed(!1),n=t),s.seek(n,!1)))},teardownAnimation:function(){return null!=this.animation&&(this.animation.kill(),delete this.animation,this.refs.innard.trigger("animation:destroyed")),this},shouldLoop:function(){var e=this.props.model.get("loopcount");return-1===e||this.numLoops<e},shouldReverse:function(){var e=this.props.model.get("animationtype");return"fade"===e||"bounce"===e||"stretch"===e}});return h}),define("views/presentation/SlideObject",["require","lodash","helpers/windowManager","views/helpers/dom","views/mixins/propertizable","views/mixins/decorateable","views/events/mouseEvents","views/mixins/mouseable","views/mixins/baseView","views/presentation/mixins/displayable","react","react-dom","helpers/constants","helpers/utils","helpers/svg/svgUtils","views/helpers/collisionHelper","helpers/boundsHelper","views/helpers/variableTextHelper","helpers/TransMatrix","polyfills/detection","polyfills/vendorOverrides","helpers/GsapTweenLite","helpers/keyManager","views/presentation/VectorSlideObject","views/presentation/ButtonSlideObject","views/presentation/PlaceHolderSlideObject","views/presentation/GroupingSlideObject","views/presentation/StateGroupSlideObject","views/presentation/ImageSlideObject","views/presentation/WebObjectSlideObject","views/presentation/ScrollAreaSlideObject","views/presentation/ExpandingLabelSlideObject","views/presentation/DropareaSlideObject","views/presentation/DragitemSlideObject","views/presentation/TextInputSlideObject","views/presentation/VideoSlideObject","views/presentation/DropListSlideObject","views/presentation/SequenceCtrlSlideObject","views/presentation/SlideFrameSlideObject","views/presentation/AnnotationSlideObject"],function(e){"use strict";var t=e("lodash"),i=e("helpers/windowManager"),n=e("views/helpers/dom"),r=e("views/mixins/propertizable"),s=e("views/mixins/decorateable"),o=e("views/events/mouseEvents"),a=e("views/mixins/mouseable"),l=e("views/mixins/baseView"),u=e("views/presentation/mixins/displayable"),c=e("react"),h=(e("react-dom"),e("helpers/constants"),e("helpers/utils")),p=e("helpers/svg/svgUtils"),d=e("views/helpers/collisionHelper"),f=e("helpers/boundsHelper"),m=e("views/helpers/variableTextHelper"),g=e("helpers/TransMatrix"),v=(e("polyfills/detection"),e("polyfills/vendorOverrides")),y=e("helpers/GsapTweenLite"),b=e("helpers/keyManager"),w={VectorSlideObject:e("views/presentation/VectorSlideObject"),ButtonSlideObject:e("views/presentation/ButtonSlideObject"),PlaceHolderSlideObject:e("views/presentation/PlaceHolderSlideObject"),GroupingSlideObject:e("views/presentation/GroupingSlideObject"),StateGroupSlideObject:e("views/presentation/StateGroupSlideObject"),ImageSlideObject:e("views/presentation/ImageSlideObject"),WebObjectSlideObject:e("views/presentation/WebObjectSlideObject"),ScrollAreaSlideObject:e("views/presentation/ScrollAreaSlideObject"),ExpandingLabelSlideObject:e("views/presentation/ExpandingLabelSlideObject"),DropareaSlideObject:e("views/presentation/DropareaSlideObject"),DragitemSlideObject:e("views/presentation/DragitemSlideObject"),TextInputSlideObject:e("views/presentation/TextInputSlideObject"),VideoSlideObject:e("views/presentation/VideoSlideObject"),DropListSlideObject:e("views/presentation/DropListSlideObject"),
SequenceCtrlSlideObject:e("views/presentation/SequenceCtrlSlideObject"),SlideFrameSlideObject:e("views/presentation/SlideFrameSlideObject"),AnnotationSlideObject:e("views/presentation/AnnotationSlideObject")},S=/\n/g,x={vectorshape:"Vector",button:"Button",objgroup:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl",slideframe:"SlideFrame",annotation:"Annotation"},T={vectorshape:"props.model.data.vectorData.altText",scrollarea:"props.model.data.vectorData.altText",video:"props.model.data.videodata.altText",droplist:"props.model.data.textdata.altText",button:"props.model.data.textdata.altText",expandinglabel:"props.model.data.vectorData.altText"},C=["release","press","doubleclick","rightrelease","rightpress"],P=["releaseoutside","rollover","rollout"],E=v.handleWillChange||t.noop,_={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},k={button:"button"},A=function(e){var t=x[e.kind()]||"PlaceHolder";return t+"SlideObject"},R=function(e){return t.pluck(e.events(),"kind").map(M)},M=function(e){return e.replace(/^on/,"")},I=function(e){var t=e.getPlayerPropsRaw();return t.ScaleX/=100,t.ScaleY/=100,(new g).adjustByViewProps(t)},O=function(e,t){var i=e.currView,n=null==i||null==i.tweenedConfig?I(e):t?i.tweenedConfig.matrix.copy():i.tweenedConfig.matrix;return n},L=c.createClass({displayName:"SlideObject",initialVisibility:!1,mixins:[l,r,s,a,u],shortEvents:{model:{show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",shown:"updateDecorators","action:setfocus":"onSetFocusAction"}},componentWillMount:function(){var e;this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:this.textHit}},e=w[A(this.props.model)],this.slideObjectInnard=e,this.setupVariableRefs(),this.setupShapeMask()},componentDidMount:function(){this.getAllRefs().registerEvents(),this.getPlayerProp("MouseOver")&&!this.isMousedOver()&&(this.triggerEvent({type:"rollout"}),this.setPlayerProp("MouseOver",!1)),this.renderShapeMask(),"swirl"===this.props.model.get("markerType")&&(this.markerAnimationTween=y.to(this.refs.markerAnimation,.6,{rotation:360,ease:"linear",onComplete:function(){this.markerAnimationTween.restart()}.bind(this)}))},componentDidUpdate:function(){this.renderShapeMask()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),this.allRefs=null,null!=this.shapeMask&&(this.shapeMask.off("tween:update",this.renderShapeMask),this.props.model.off("tween:update",this.renderShapeMask)),null!=this.markerAnimationTween&&this.markerAnimationTween.kill()},getInnardConfigs:function(){return t.extend({ref:"innard",model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,isInnard:!0,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,slideVisible:!!this.props.slideVisible,onElsoAction:this.props.onElsoAction},this.innardConfigs[this.props.model.kind()]||{},this.props.topOffset?{topOffset:this.props.topOffset}:{})},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=t.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},registerEvents:function(){var e=this.getRegisterableEvents();return t.forEach(e,function(e){this.registerEvent(e,this.triggerEvent)}.bind(this)),d.registerCollisions(this),this},setupVariableRefs:function(){var e,t=T[this.props.model.kind()];this.accessibleTextTemplate=null!=t?this.getPath(t):this.props.model.get("altText"),e=m.parseTemplate(this.accessibleTextTemplate),this.updateVarText=e.updateString,this.updateAccessibleText(),this.stopListeningToVarChanges=e.addListeners(this.props.model,this.updateAccessibleText)},setupShapeMask:function(){var e=this.shapeMask=this.props.model.getShapeMask();return null!=e&&(e.isShapeMask=!0,this.props.model.isShapeMasked=!0,e.on("tween:update",this.renderShapeMask),this.props.model.on("tween:update",this.renderShapeMask)),this},renderShapeMask:function(){var e=this.shapeMask;if(null!=e){var t=O(this.shapeMask),i=O(this.props.model,!0);this.applyShapeMask(t,i)}return this},applyShapeMask:function(e,t){var i=t.invert().append(e),n=this.shapeMask,r=n.prop("width"),s=n.prop("height"),o=i.transform(0,0),a=i.transform(r,s),l=[o.y,a.x,a.y,o.x].map(h.pxify);return this.el.style.clip=["rect(",l.join(","),")"].join(""),this},updateDecorators:function(){this.callLifeCycleEvent("onAfterShow")},moveTo:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},updateMousePosition:function(e){var t=i.getCurrentWindow().getCurSlide(),n=t.props.model.calculateTotalScale();this.props.model.adjustVariables({name:e.xvar.value,value:t.mouseX*n},{name:e.yvar.value,value:t.mouseY*n})},updateFromTween:function(){var e;return null!=this.tweenedConfig&&(e=null!=this.animationOverride?this.animationOverride.adjustProps(t.clone(this.tweenedConfig.props)):this.tweenedConfig.props,this.setPlayerProp(e)),this},applyStylesDirectly:function(){t.extend(this.el.style,this.getStyles())},getAnimationResumeState:function(){var e=["RawXPos","RawYPos","ScaleX","ScaleY","Rotation","Alpha"];return t.reduce(e,function(e,t){return e[t]=this.getPlayerProp(t),e}.bind(this),{})},showObject:function(){this.updateTrueVisibility(!0),this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&this.props.model.isCollideable&&d.performCollisionDetect(this,{RawXPos:this.state.RawXPos,RawYPos:this.state.RawYPos},!0)}.bind(this))},hideObject:function(){this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&this.props.model.isCollideable&&d.performCollisionDetect(this,{RawXPos:this.state.RawXPos,RawYPos:this.state.RawYPos},!0)}.bind(this)),this.updateTrueVisibility(!1)},getRegisterableEvents:function(){var e=t.intersection(t.keys(o),R(this.props.model)),i=t.contains(e,"rollover");return i!==t.contains(e,"rollout")&&(i?e.push("rollout"):(e.push("rollover"),i=!0)),i&&(e=t(e).without("rollover").unshift("rollover").value()),e},shouldFireEvent:function(e,i){var n=!0,r=this.refs.innard;return null!=r&&t.isFunction(r.isClickDefAllowed)&&(n=r.isClickDefAllowed(i.target)),n&&(!t.contains(P,e)||this.latestEvent!==e)},triggerEvent:function(e){var t,i=e.type;this.state.Enabled&&(t=e.origEvent,t||(t=e),this.shouldFireEvent(i,t)&&("rollover"===i&&this.setPlayerProp("MouseOver",!0),this.latestEvent=i,this.props.model.executePlayerEvent("on"+i),"rollout"===i&&this.setPlayerProp("MouseOver",!1)))},cursorByType:function(){var e=this.props.model;return e.isDraggable()||e.isZoomable()||e.isWebObject()||e.isSlideable()},showCursor:function(){return this.props.model.isCorrectIncorrectReview()||this.props.model.get("useHandCursor")===!1?!1:!t(C).intersection(R(this.props.model)).isEmpty()||this.cursorByType()},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textHit:function(e){this.props.model.executeFilteredPlayerEvent(function(t){return t.triggerid===e},"onlinkrelease")},getDepth:function(){var e=this.props.model;return e.isKind("shufflegroup")?null:e.isKind("annotation")&&"spotlight"===e.get("style")?1e4:e.prop("depth")},getRotation:function(){return null!=this.tweenedConfig?this.tweenedConfig.props.Rotation:this.props.model.get("rotation")},getPosition:function(){return null!=this.tweenedConfig?{x:this.tweenedConfig.props.RawXPos,y:this.tweenedConfig.props.RawYPos}:{x:this.props.model.playerProps.get("RawXPos"),y:this.props.model.playerProps.get("RawYPos")}},getRotatedPixelBounds:function(e){return f.getRotatedPixelBounds(this,e)},getStyles:function(){var e,i,n=this.getGlobalRotation(),r={xPos:"xOffset",yPos:"yOffset"},s=this.props.model.getCurrentStateData(),o=null!=s&&null!=s.html5data,a=this.props.model.get("cliptobounds"),l=function(e){return o&&!a?s.html5data[e]:this.getPath("props.model."+(r[e]||e))}.bind(this);return e={zIndex:this.getDepth(),width:l("width"),height:l("height"),opacity:h.pctToDec(this.state.Alpha)},a&&(e.overflow="hidden"),this.actualHeight=e.height,this.actualWidth=e.width,this.props.model.isKind("shufflegroup")||(e[this.cssTransformOrigin]=[this.state.rotateXPos,"px ",this.state.rotateYPos,"px"].join(""),i=0!==n&&this.state.ScaleX!==this.state.ScaleY,e[this.cssTransform]=t.compact([p.transformTranslate(this.state.RawXPos+"px",this.state.RawYPos+"px"),p.transformRotate(this.state.Rotation+"deg"),i?p.transformRotate(-n+"deg"):"",p.transformScale(this.state.ScaleX/100,this.state.ScaleY/100),i?p.transformRotate(n+"deg"):""]).join(" ")),this.props.model.isTweenable()&&E(e),e},getGlobalRotation:function(){for(var e=this.props.model,t=0;e;)e.isSlideObject&&(t+=e.playerProps.get("Rotation")),e=e.parent;return t},hasElsoMethod:function(){return t.isFunction(this.props.checkElso)},onSetFocusAction:function(e,t){b.focusItem(this,!e.showrect)},releaseFocus:function(e){this.hasElsoMethod()&&this.props.checkElso()&&this.props.onElsoAction(!1),this.refs.innard&&this.refs.innard.innardRelease?this.refs.innard.innardRelease(e):this.el.blur(),this.setState({tabFocused:!1})},stealFocus:function(e,i){this.props.onBeforeScrollFocus&&this.props.onBeforeScrollFocus(i),this.refs.innard&&this.refs.innard.innardFocus?this.refs.innard.innardFocus(e):this.el.focus(),i||this.setState({tabFocused:!0}),this.props.onScrollFocus&&this.props.onScrollFocus(this),t.toArray(document.querySelectorAll(".slide-layer")).forEach(function(e){e.scrollLeft=0,e.scrollTop=0})},actionKeyCallback:function(e){var i,n=!1;if(this.hasElsoMethod()&&this.props.checkElso())return this.props.onElsoAction(!0,e),!0;if(this.refs.innard&&this.refs.innard.actionKeyCallback)return this.refs.innard.actionKeyCallback(e);i=this.props.model;do i.isEventable&&t.some(i.events(),{kind:"onrelease"})&&(n=!0,i.executePlayerEvent("onrelease")),i=i.parent;while(null!=i&&!i.isKind("expandinglabel"));return n},treeKeyCallback:function(e,t){var i=this.refs.innard&&this.refs.innard.treeKeyCallback;return i?i(e,t):!1},getAccessibleText:function(){return(this.state.accessibleText||"").replace(S," ")},updateAccessibleText:function(){this.setState({accessibleText:this.updateVarText(this.props.model)})},getAriaRole:function(){var e=this.props.model.get("accType"),t=_[e];return null!=t?t:k[this.props.model.kind()]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},isFocusable:function(){var e=this.props.model,t=e.get("tabEnabled"),i=e.prop("tabIndex"),n=e.isKind("slideframe");return t&&i>=0&&!n},getFocusTarget:function(){var e=this.refs.innard;return this.isFocusable()?this:null!=e.getFocusTarget?e.getFocusTarget():void 0},getLayer:function(){return this.parentLayer=this.parentLayer||n.closest(this.el,function(e){return e.classList.contains("slide-layer")}),this.parentLayer},isMousedOver:function(){var e=this.el.getBoundingClientRect();return h.pointInRect(n.mouseX,n.mouseY,[[e.left,e.top],[e.width,e.height]])}});return L}),define("views/mixins/accTree",["require","lodash","polyfills/detection","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n=e("helpers/utils"),r={componentWillMount:function(){null==this.toggleCarrot&&(this.toggleCarrot=t.noop)},stealFocus:function(e,n){i.isMobile||(n||this.setState({tabFocused:!0}),this.treeItems=this.findAll(".list-item"),this.treeItems.length&&(this.currentFocus=this.currentFocus||t.find(this.treeItems,function(e){return e.classList.contains("cs-selected")})||t.first(this.treeItems),this.currentFocus.focus(),this.focusIndex=this.treeItems.indexOf(this.currentFocus)))},releaseFocus:function(e){this.currentFocus&&this.currentFocus.blur(),this.setState({tabFocused:!1})},getNextTreeItemIndex:function(e){var t=this.focusIndex,i=this.treeItems.length;return i>0&&(t+=e?1:-1,t=n.clamp(0,i-1,t)),t},treeKeyCallback:function(e,t,i){return i.LEFT||i.RIGHT?(this.toggleCarrot(i),!0):(this.focusIndex=this.getNextTreeItemIndex(t),this.currentFocus=this.treeItems[this.focusIndex],null!=this.currentFocus&&this.currentFocus.focus(),!0)},actionKeyCallback:function(e,t){t||null==this.currentFocus||this.currentFocus.click()}};return r}),define("views/player/GlossaryTerms",["require","react","lodash","views/mixins/baseView","views/mixins/accTree"],function(e){"use strict";var t=e("react"),i=(e("lodash"),e("views/mixins/baseView")),n=e("views/mixins/accTree"),r=t.createClass({displayName:"GlossaryTerms",mixins:[i,n],getFocusTarget:function(){return this},termChosen:function(e,t){this.props.onTermChosen(e)}});return r}),define("views/player/GlossaryDefinition",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"GlossaryDefinition",mixins:[i],getFocusTarget:function(){return this}});return n}),define("views/player/Bottombar",["require","react","views/player/mixins/appStateable","helpers/pubSub","lodash","helpers/windowManager","views/mixins/baseView","views/player/mixins/fullScreenable"],function(e){"use strict";var t,i=e("react"),n=e("views/player/mixins/appStateable"),r=e("helpers/pubSub"),s=e("lodash"),o=e("helpers/windowManager"),a=e("views/mixins/baseView"),l=e("views/player/mixins/fullScreenable"),u=i.createClass({displayName:"Bottombar",mixins:[a,n,l],stateableValues:{seekbar:void 0,volume:void 0},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){o.isLightBoxActive()||this.setState({caption:e})},componentWillMount:function(){t=this.getPath("props.player.controlOptions.controls");var e=t.get("closed_captions");null!=e&&e===!1?this.setState({caption:!1}):(this.showCaptionButton=s.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=s.partial(this.toggleCaptionButton,!1),r.on("show:caption-button",this.showCaptionButton),r.on("hide:caption-button",this.hideCaptionButton))},componentWillUnmount:function(){r.off("show:caption-button",this.showCaptionButton),r.off("hide:caption-button",this.hideCaptionButton)},isReadOnly:function(){return!!t.get("readonly")},hasVolume:function(){return!!this.state.stateable_volume},hasSeekbar:function(){return!!this.state.stateable_seekbar},hasCaption:function(){return!!this.state.caption}});return u}),define("views/presentation/VectorBackground",["require","react","views/mixins/baseView","helpers/svg/svgManager"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/svg/svgManager"),r=t.createClass({displayName:"VectorBackground",mixins:[i],template:function(){var e=this.props.vectorData,t=e.left,i=e.top,r=e.right-e.left,s=e.bottom-e.top;return n.getSvgNode({commandsetId:e.pr.i,libId:e.pr.l,bounds:{xPos:t,yPos:i,fullX:t,fullY:i,height:s,width:r,fullHeight:s,fullWidth:r}},this)}});return r}),define("views/presentation/SlideWindowBackground",["require","react","helpers/assetManager","views/mixins/baseView","helpers/utils","views/presentation/VectorBackground"],function(e){"use strict";var t=e("react"),i=e("helpers/assetManager"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("views/presentation/VectorBackground"),o={swf:"renderAsset",vector:"renderVector"},a=t.createClass({displayName:"SlideWindowBackground",mixins:[n],renderBackground:function(){return this[o[this.props.bg.type]]()},renderVector:function(){return t.createElement(s,{vectorData:this.props.bg.vectorData})},renderAsset:function(){return t.DOM.div({className:"slide-window-background-asset",style:{backgroundImage:r.toCssUrl(i.getAssetUrl(this.props.bg.imagedata.assetId))}})}});return a}),define("views/player/Captions",["require","react","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides","lodash","helpers/captionsManager","helpers/windowManager","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("polyfills/detection"),r=e("polyfills/vendorOverrides"),s=e("lodash"),o=e("helpers/captionsManager"),a=e("helpers/windowManager"),l=e("views/mixins/baseView"),u=r.positionCaptions||s.noop,c=t.createClass({displayName:"Captions",mixins:[l],getInitialState:function(){return{captions:[],font:o.getCaptionFont()}},componentWillMount:function(){i.on("render:captions",this.onData)},componentWillUnmount:function(){i.off("render:captions",this.onData)},onData:function(e){n.isMobile&&a.isLightBoxActive()?this.el.style.zIndex=999:this.el.style.zIndex=1,!n.isMobile&&e.length>0&&a.isLightBoxActive()&&this.props.lightboxed!==!0||this.setState({captions:e},s.partial(u,this.el))},toHtml:function(e){var t,i,n,r,s=document.createElement("div");for(s.appendChild(e.cloneNode(!0)),i=s.querySelectorAll("q[data-voice]"),r=0;r<i.length;r++)n=i[r],t=n.getAttribute("data-voice"),n.innerText=[t,":"," ",n.textContent].join("");return s.innerHTML.replace(/&amp;/g,"&")}});return c}),define("views/player/UiMobile",["require","lodash","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","helpers/pubSub","views/mixins/mouseable","helpers/constants"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("react-dom"),n=e("views/player/mixins/appStateable"),r=e("views/mixins/baseView"),s=e("polyfills/detection"),o=e("helpers/pubSub"),a=e("views/mixins/mouseable"),l=e("helpers/constants"),u=t.createClass({displayName:"UiMobile",mixins:[r,n,a],subscriptions:{"nextSlide:requesting":"onRequestingNextSlide","detection:orientationChange":"onOrientationChange","popup:show":"onPresenterPanelShow","customlink:event":"onCustomLink"},getIntialState:function(){return{orientation:null,isActive:!1,showMenu:!1,showTab:!1,showSearch:!1}},componentDidMount:function(){this.setupUi()},setupUi:function(){this.updateOrientation(),this.registerEvent("clickoutside",this.onClickOffMenu,this.find(".content-menu"))},onClickOffMenu:function(e){var t=i.findDOMNode(this.refs["menu-handle"]),n=t===e.target||t.contains(e.target);!this.state.showMenu||this.isLandscape()||n||this.toggleMenu()},onOrientationChange:function(){this.updateOrientation()},onRequestingNextSlide:function(){this.deactivateUi()},onPresenterPanelShow:function(){this.deactivateUi()},onTabChange:function(){this.setState({showTab:!0,showMenu:this.isLandscape()})},shouldShowLandscapeMenu:function(){return"landscape"===s.orientation&&this.state.showTab&&!this.state.showMenu},shouldHidePortraitMenu:function(){return"portrait"===s.orientation&&this.state.showMenu},updateOrientation:function(){this.shouldShowLandscapeMenu()?this.toggleMenu():this.shouldHidePortraitMenu()&&this.setState({showMenu:!1}),this.find(".content-menu").style.display=this.isLandscape()?"":"none",this.setState({orientation:s.orientation})},isLandscape:function(){return"landscape"===s.orientation},onHamburgerTouchEnd:function(e){this.toggleMenu(),e.preventDefault()},toggleMenu:function(){var e=!this.state.showMenu,t=this.isLandscape()?e:this.state.showTab,i=e||t;this.isLandscape()||t||this.refs.sidebar.setState({activeTab:null}),this.refs.sidebar.checkEmptyTabs(),i&&t&&o.trigger("uiMobile:menuOpen"),this.handleHideShow(e),this.htmlReady(function(){this.setState({isActive:i,showMenu:e,showTab:t})}.bind(this))},handleHideShow:function(e){var t=this.find(".content-menu");e||this.isLandscape()?(clearTimeout(this.hideTimeout),t.style.display=""):(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){t.style.display="none"},l.MOBILE_ANIMATION_DURATION))},onToggleSearchUi:function(){var e=!this.state.showSearch;e||this.clearSearch(),this.setState({showSearch:e})},clearSearch:function(){var e=this.findComponent("Menu");e.onClearSearch()},closeTab:function(){this.setState({showTab:!1}),this.find(".content-menu").style.display="none"},onCustomLink:function(){this.toggleMenu()},deactivateUi:function(){this.setState({isActive:!1,showMenu:!1,showTab:!1})}});return u}),define("collections/player/Links",["require","collections/BaseCollection","helpers/pubSub","helpers/utils","helpers/resolver"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/pubSub"),n=e("helpers/utils"),r=e("helpers/resolver"),s=t.extend({initialize:function(e,t){this.origModels=e},findDeep:function(e){var t;return this.forEach(function(i){return t=i.findDeep(e),!t}),t},hasChildSlide:function(e){return!!this.findWhere({slideid:e})},prepareDrawSlides:function(e,t){i.once("data:initialized",this.setDrawSlides.bind(this,e,t))},setDrawSlides:function(e,t){var i=r.resolvePath(n.prefixWithPlayer(t),this),s=this.setDrawLinks.bind(this,e);this.listenTo(i,"change:slides",s),null!=i.slides()&&s(i,i.slides())},setDrawLinks:function(e,t,i){var n=this.slice(),r=e.spliceNum||1;e.linkIndex=null!=e.linkIndex?e.linkIndex:this.indexOf(e),n.splice.apply(n,[e.linkIndex,r].concat(i.map(this.createNewLink))),e.spliceNum=i.length,this.reset(n)},createNewLink:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}});return s}),define("views/player/SearchOptions",["require","lodash","react","views/mixins/baseView","helpers/utils","collections/player/Links","helpers/constants","views/helpers/dom"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("collections/player/Links"),o=e("helpers/constants"),a=e("views/helpers/dom"),l=function(e){return r.prefixWithPlayer(e)},u=function(e,t){return e.chain().filter(function(e){return t.test(r.stripTags(e.get("content")))}).invoke("get","slideId").map(l).value()},c=function(e,i){return t(e).filter(function(e){return i.test(e.Text)}).pluck("slideid").map(l).value()},h={cbNotes:"notes",cbText:"text"},p=i.createClass({displayName:"SearchOptions",mixins:[n],stringTitles:{filter:"filter",search_clear:"clear",search_in:"search_in",search_results:"search_results",slide_notes:"transcript_chk",slide_text:"slide_text_chk"},getInitialState:function(){return{notes:!0,text:!0,searchOptionsVisible:!1}},handleChangeNotes:function(e){this.setState({notes:e.target.checked})},handleChangeText:function(e){this.setState({text:e.target.checked})},toggleSearchOptions:function(e){this.setState({searchOptionsVisible:!this.state.searchOptionsVisible}),null!=e&&e.preventDefault()},toggleCheckbox:function(e){var i={};t.forOwn(h,function(t,n){e===this.refs[n]&&(i[t]=!this.state[t])}.bind(this)),this.setState(i)},performSearch:function(e){var i,n,r=[],o=[],a=new RegExp(e,"i");return this.state.notes&&(r=u(this.props.notesData,a)),this.state.text&&(o=c(this.props.searchData,a)),i=t(r).union(o),n=this.props.links.chain().map(function l(e){var t=[],n=e.get("links"),r=e.get("slideid"),s=r.split(".").length<=2,o=!1;return a.test(e.get("displaytext"))&&(o=!0),i.contains(r)&&(o=!0),o&&!s&&t.push(e),n&&n.length&&t.push(n.map(l)),t}).flattenDeep().value(),new s(n)},getTabbableItems:function(){t.forOwn(this.refs,function(e){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([t.assign(this.refs.btnFilter,{idx:o.tabIndices.SEARCH_FILTER}),t.assign(this.refs.cbNotes,{idx:o.tabIndices.SEARCH_NOTES}),t.assign(this.refs.cbText,{idx:o.tabIndices.SEARCH_TEXT})])},getFocusTarget:function(e){return t.find(this.refs,function(t){return!!a.closest(e.target,function(e){return e===t})})},stealFocus:function(e,t){t||this.setState({btnFilterFocus:e===this.refs.btnFilter,cbNotesFocus:e===this.refs.cbNotes,cbTextFocus:e===this.refs.cbText}),e.focus()},releaseFocus:function(e){this.setState({btnFilterFocus:!1,cbNotesFocus:!1,cbTextFocus:!1}),e.blur()},actionKeyCallback:function(e){e===this.refs.btnFilter?this.toggleSearchOptions():this.toggleCheckbox(e)}});return p}),define("views/player/SearchResults",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/utils","helpers/keyManager","tween-lite","views/helpers/dom","helpers/constants","helpers/pubSub","helpers/windowManager","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("views/mixins/accTree"),s=(e("helpers/utils"),e("helpers/keyManager")),o=(e("tween-lite"),e("views/helpers/dom")),a=e("helpers/constants"),l=(e("helpers/pubSub"),e("helpers/windowManager"),e("polyfills/detection"),i.createClass({displayName:"SearchResults",mixins:[n,r],reset:function(){this.currentFocus=void 0},componentWillReceiveProps:function(e){this.props.showChildren!==e.showChildren&&(s.moveFocusObject(this,e.showChildren?a.tabIndices.SEARCH_INPUT:a.tabIndices.SEARCH_CLEAR),this.reset())},getTabbableItems:function(){this.props.addFocusObjects([t.assign(this,{idx:a.tabIndices.SEARCH_RESULTS_TREE_MODE})])},onClickMenuItem:function(e){this.currentFocus=e.currentTarget,this.stealFocus(this)},getFocusTarget:function(){return this},toggleCarrot:function(e){var t,i,n=this.currentFocus.querySelector(".icon-carrot");null!=n&&(t=o.closest(this.currentFocus,function(e){return o.hasClass(e,"item-collapsible")}),i=o.hasClass(t,"outline-links-collapse"),(i&&e.RIGHT||!i&&e.LEFT)&&n.click())}}));return l}),define("views/player/SearchFooter",["require","react","react-dom","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/constants"),r=e("views/mixins/baseView"),s=e("lodash"),o=e("views/player/mixins/appStateable"),a=e("views/helpers/dom"),l=e("helpers/keyManager"),u=t.createClass({displayName:"SearchFooter",mixins:[r,o],stringTitles:{acc_search_input:"acc_search_input",search_clear:"clear",search:"search"},stateableValues:{"outline.search":void 0},getTabbableItems:function(){s.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([s.assign(this.refs.searchInput,{idx:n.tabIndices.SEARCH_INPUT}),s.assign(this.refs.searchSubmit,{idx:n.tabIndices.SEARCH_SUBMIT}),s.assign(this.refs.searchClear,{idx:n.tabIndices.SEARCH_CLEAR})])},getFocusTarget:function(e){return s.find(this.refs,function(t){return!!a.closest(e.target,function(e){return e===t})})},getInitialState:function(){return{searchInput:""}},search:function(e){null!=e&&e.preventDefault(),this.props.onSearch(this.state.searchInput)},handleChange:function(e){this.setState({searchInput:e.target.value})},clearSearch:function(e){null!=e&&e.preventDefault(),this.setState({searchInput:""}),this.props.onClearSearch()},stealFocus:function(e,t){t||this.setState({clearFocus:e===this.refs.searchClear,inputFocus:e===this.refs.searchInput,submitFocus:e===this.refs.searchSubmit}),i.findDOMNode(e).focus()},releaseFocus:function(e){this.setState({clearFocus:!1,inputFocus:!1,submitFocus:!1}),i.findDOMNode(e).blur()},onInputKeyDown:function(e){l.keys.ENTER&&this.search(e)},actionKeyCallback:function(e,t){(e===this.refs.searchInput&&t||e===this.refs.searchSubmit)&&this.search(),e===this.refs.searchClear&&this.clearSearch()}});return u}),define("views/player/MenuLinksListItem",["require","lodash","react","views/mixins/baseView","helpers/utils","polyfills/detection","helpers/constants","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=(e("helpers/utils"),e("polyfills/detection")),s=e("helpers/constants"),o=e("helpers/resolver"),a=i.createClass({displayName:"MenuLinksListItem",mixins:[n],getInitialState:function(){return{showChildren:!0,expanded:this.getPath("props.link.expand")}},componentDidMount:function(){this.visuallyRestrictMenu()},componentDidUpdate:function(e){var i=this.props.link.get("slideid"),n=this.isSlideSelected(i),r=t.last(e.visitedSlides)===i;n&&!r&&this.onSelectMenuItem(),this.visuallyRestrictMenu()},linkSlide:function(e){return"#"+e},isActionLink:function(){return this.props.link.isActionLink},isSlideSelected:function(e){return t.last(this.props.visitedSlides)===e},hasSlideBeenViewed:function(e){return!this.isSlideSelected(e)&&t.contains(this.props.visitedSlides,e)},isSlideCorrect:function(e){if(!this.props.link.isActionLink&&!t.isEmpty(e)){var i,n=o.resolvePath(e),r=n&&n.isSlide;if(r&&n.getInteractionAttempted()&&(i=n.get("showMenuResultIcon"),this.props.enableResultsIcons===!0||i===!0))return n.getInteractionStatus()}},isSlideViewedOrCurrentParent:function(e){return this.props.link.isImmediateParent&&!this.isSlideSelected(e)||this.hasSlideBeenViewed(e)},hasChildren:function(){return this.props.link.links().length>0},subscriptions:{"mainWindow:slideChanged":"onSlideChanged","player:reset":"onPlayerReset"},visuallyRestrictMenu:function(){if(r.isMobile){var e=this.props.link.get("slideid"),t=this.linkSlide(e),i=this.hasChildren()&&this.props.shouldKillLink(t,!0);this.setState({itemRestricted:i})}},onSlideChanged:function(e){var t,i=this.props.collapsible,n=this.props.visitedSlides,s=n.slice(0,n.length-1),o=e.absoluteId,a=this.props.link.hasChild(o);if(a)for(this.setImmediateParent(!0),this.toggle(!0),t=this.props.parentItem;null!=t;)t.toggle&&t.toggle(!0),t=t.props&&t.props.parentItem;if(s.length>0&&this.props.hasAnyLink(o)){r.isMobile&&(i=!1);var l=this.props.link.isOrHasChild(o),u=s.some(this.props.link.isOrHasChild.bind(this.props.link));i&&u&&!l?this.toggle(!1):l&&this.toggle(!0)}this.resetTouched()},resetTouched:function(){setTimeout(function(){this.setState({touched:!1})}.bind(this),s.MOBILE_ANIMATION_DURATION)},onSelectMenuItem:function(){this.props.onSelectMenuItem&&(this.props.onSelectMenuItem(this),r.isMobile&&this.setState({touched:!0}))},onTouchEnd:function(){this.resetTouched()},toggle:function(e){return this.setState({expanded:t.isBoolean(e)?e:!this.state.expanded}),this},setImmediateParent:function(e){this.props.link.isImmediateParent=e},getAutoNumber:function(){for(var e=this.props.link,t="",i=function(e){return e.index()+1+"."};e;)t=i(e)+t,e=null!=e.parent&&e.parent.isKind("slidelink")&&e.parent;return t+" "},onPlayerReset:function(){this.forceUpdate()}});return a}),define("views/player/MenuLinksList",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("react")),i=e("views/mixins/baseView"),n=t.createClass({displayName:"MenuLinksList",mixins:[i],getDefaultProps:function(){return{level:1}},getAriaRole:function(){return 1===this.props.level?"tree":"group"}});return n}),define("views/player/NotesHeader",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"NotesHeader",mixins:[i]});return n}),define("views/player/NotesList",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"NotesList",mixins:[i]});return n}),define("views/player/PlayPauseButton",["require","react","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","polyfills/detection","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("views/mixins/baseView"),r=e("lodash"),s=e("views/player/mixins/appStateable"),o=e("polyfills/detection"),a=e("views/helpers/dom"),l=e("helpers/keyManager"),u=t.createClass({displayName:"PlayPauseButton",mixins:[n,s],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},subscriptions:{"keyManager:frameControlKey":"onFrameControlKey"},stateableValues:{pauseplay:void 0},componentDidMount:function(){o.isMobile&&(this.shouldShowCircularProgress(),window.addEventListener("resize",this.onReflow))},componentWillMount:function(){this.props.timeline&&this.watchTimelineChanges()},componentWillUnmount:function(){window.removeEventListener("resize",this.onReflow)},stateableValuesUpdated:function(e){e!==this.prevLayout&&(this.shouldShowCircularProgress(),this.prevLayout=e);
},getTabbableItems:function(){return[r.assign(this,{idx:i.tabIndices.PLAYBACK_PLAY,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{isPlaying:this.props.timeline?this.props.timeline.isPlaying():!1}},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,"tick",this.onTick)},onTick:function(e){this.setState({progress:e})},watchTimelineChanges:function(){this.stopListening(this.props.timeline),this.listenTo(this.props.timeline,"playing paused ended",this.onPlaybackStateChange),o.isMobile&&this.listenToTick()},onPlaybackStateChange:function(e){var t=e&&e.override;this.setState({isPlaying:t||"playing"===this.props.timeline.playbackState()})},onTouchStart:function(e){a.tappedClass(e.currentTarget)},toggle:function(e){this.props.timeline.togglePlayback(),o.isMobile&&this.props.timeline.hasFinished()&&(this.props.timeline.reset(),this.onPlaybackStateChange())},onReflow:function(){this.shouldShowCircularProgress()},shouldShowCircularProgress:function(){this.htmlReady(this.hideShowCircularProgress)},hideShowCircularProgress:function(){var e,t=this.el.nextSibling;t&&(e="portrait"===o.orientation&&t.getBoundingClientRect().width<i.MOBILE_UI_SIZE,t.style.display=e?"none":"",this.setState({showCircleProgress:e}))},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.watchTimelineChanges(),this.setState({isPlaying:this.props.timeline.isPlaying()}))},onFrameControlKey:function(e){var t,i=l.getCurrentItem(),n=a.hasClass(document.body,"curr-slide-locked");i&&i.el&&(t=i.el.getAttribute("id","panel-outline")),t&&n||e.SPACE&&this.toggle()},actionKeyCallback:function(){return this.toggle(),!0}});return u}),define("views/player/PlaybackProgress",["require","react","helpers/constants","lodash","views/mixins/baseView","polyfills/detection"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("lodash"),r=e("views/mixins/baseView"),s=e("polyfills/detection"),o=5e3,a=t.createClass({displayName:"PlaybackProgress",mixins:[r],getTabbableItems:function(){return[n.assign(this,{idx:i.tabIndices.PLAYBACK_PROGRESS,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{progress:0}},componentDidMount:function(){this.inputEl=this.find("input"),s.isMobileAndNotPreview&&(this.inputEl.style.pointerEvents="none",this.el.addEventListener("touchmove",this.onSeekMobile),this.el.addEventListener("touchstart",this.onSeekMobile),this.el.addEventListener("touchend",this.onMouseUp))},componentWillMount:function(){this.listenToTick()},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.stopListening(e.timeline),this.listenToTick(),null!=this.props.timeline&&this.onTick(this.props.timeline.progress()))},componentWillUnmount:function(){s.isMobileAndNotPreview&&(this.el.removeEventListener("touchmove",this.onSeekMobile),this.el.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),e.touches&&1===e.touches.length&&("touchstart"===e.type&&this.onMouseDown(),t=this.el.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.inputEl.value=i,this.onSeek())},listenToTick:function(){null!=this.props.timeline&&(this.listenTo(this.props.timeline,"tick",this.onTick),this.onTick(this.props.timeline.progress()))},onTick:function(e){this.setState({progress:e})},onSeek:function(){var e=function(){this.props.timeline.play(),this.stopListening(this.props.timeline,"afterSeekUpdate",e)}.bind(this);this.seeking=!0,this.isUp!==!0&&this.props.timeline.isPlaying()&&(this.props.timeline.pause(!0),this.listenTo(this.props.timeline,"afterSeekUpdate",e)),this.props.timeline.progress(this.inputEl.valueAsNumber),this.isUp=!1},onMouseDown:function(e){this.isUp=!1,this.props.timeline.onSeekStart()},onMouseUp:function(e){this.isUp=!0,this.props.timeline.onSeekEnd()},stealFocus:function(){this.setState({tabFocused:!0}),this.find("input").focus()},releaseFocus:function(){this.setState({tabFocused:!1}),this.find("input").blur()},treeKeyCallback:function(e,t){var i=o/this.props.timeline.duration();return this.inputEl.valueAsNumber+=i*(t?-1:1),this.onSeek(),!0}});return a}),define("views/player/PlaybackResetButton",["require","react","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("views/mixins/baseView"),r=e("lodash"),s=e("views/player/mixins/appStateable"),o=t.createClass({displayName:"PlaybackResetButton",mixins:[n,s],stringTitles:{acc_replay:"acc_replay"},stateableValues:{replay:void 0},getTabbableItems:function(){return[r.assign(this,{idx:i.tabIndices.PLAYBACK_RESET,indexGroupName:"PlayerControlButton"})]},resetPlayhead:function(e){this.props.timeline.reset()},actionKeyCallback:function(){return this.resetPlayhead(),!0}});return o}),define("helpers/videoManager",["require","lodash"],function(e){"use strict";var t=e("lodash"),i={},n=function(e){var n,r=i[e]=document.createElement("video");return r.setAttribute("src",""),r.setAttribute("preload","auto"),r.load(),n=r.play(),null!=n&&n["catch"](t.noop),r},r={getVideoElement:function(e){var t=i[e];return null==t?n(e):t},prepare:function(e){e.assetLib().forEach(function(e){var t=e.url();"video"===e.type()&&null==i[t]&&n(t)})}};return r}),define("views/player/PresenterVideo",["require","react","helpers/pubSub","helpers/windowManager","helpers/actionator","helpers/vow","helpers/utils","helpers/assetManager","helpers/appState","helpers/videoManager","views/mixins/baseView"],function(e){"use strict";var t,i,n=e("react"),r=(e("helpers/pubSub"),e("helpers/windowManager")),s=(e("helpers/actionator"),e("helpers/vow")),o=e("helpers/utils"),a=e("helpers/assetManager"),l=e("helpers/appState"),u=e("helpers/videoManager"),c=e("views/mixins/baseView"),h="playing",p="paused",d="ended",f="afterSeekUpdate",m=function(e){this.canPlayDfd=new s.Deferred,t=a.getAsset(e.assetId),i=t.url(),this.video=u.getVideoElement(i),o.parseUrl(this.video.src).pathname!==o.parseUrl(i).pathname&&(this.video.src=i),this.video.volume=l.currentVolume(),this.video.readyState>=this.video.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():this.video.addEventListener("canplay",this.canPlayDfd.resolve),this.canPlayDfd.done(function(){window.requestAnimationFrame(function(){this.video.videoHeight>this.video.videoWidth?this.refs.videoContainer.classList.add("vertical-video"):this.refs.videoContainer.classList.contains("vertical-video")&&this.refs.videoContainer.classList.remove("vertical-video"),this.video.style.display="block"}.bind(this)),this.video.currentTime=0,this.video.play()}.bind(this)),this.video.style.display="none",this.refs.videoContainer.appendChild(this.video),this.watchTimelineChanges()},g=function(){this.canPlayDfd.reject(),this.video.removeEventListener("canplay",this.canPlayDfd.resolve),this.video.src="",this.refs.videoContainer.removeChild(this.video),this.video=null},v=n.createClass({displayName:"PresenterVideo",mixins:[c],subscriptions:{"volume:changed":"onVolumeChanged"},componentDidMount:function(){var e=this.props.video;e&&m.call(this,e)},componentDidUpdate:function(e,t){var i=this.props.video;i&&(this.video&&g.call(this),m.call(this,i))},componentWillUnmount:function(){g.call(this);var e=r.getCurrentWindowSlide().currentTimeline();this.stopListening(e)},watchTimelineChanges:function(){var e=r.getCurrentWindowSlide().currentTimeline();this.listenTo(e,h,this.onPlaybackStateChange.bind(this,h)),this.listenTo(e,p,this.onPlaybackStateChange.bind(this,p)),this.listenTo(e,d,this.onPlaybackStateChange.bind(this,d)),this.listenTo(e,f,this.onPlaybackStateChange.bind(this,f))},onPlaybackStateChange:function(e,t){switch(e){case p:case d:this.video.pause();break;case h:this.video.play();break;case f:this.video.currentTime=t}},onVolumeChanged:function(e){this.video.volume=e}});return v}),define("views/player/Timer",["require","lodash","react","views/mixins/baseView","timeline-lite","helpers/utils","polyfills/detection","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("timeline-lite"),s=e("helpers/utils"),o=e("polyfills/detection"),a=e("helpers/constants"),l={remaining:function(e,t){return s.formatSecondsAsTime(t-e)},totalelapsed:function(e,t){return[e,t].map(s.formatSecondsAsTime).join(" / ")},elapsed:function(e,t){return s.formatSecondsAsTime(e)},none:function(){return""}},u=i.createClass({displayName:"Timer",mixins:[n],subscriptions:{"nextSlide:requesting":"onNextSlide","slide:started":"onSlideReady"},shortEvents:{model:{show:"onShow",hide:"onHide",pause:"onPause",start:"onStart",reset:"onReset"}},getTabbableItems:function(){return[t.assign(this,{idx:a.tabIndices.TIME,indexGroupName:"TopTabsItem"})]},stealFocus:function(){this.refs.timerText.focus()},onNextSlide:function(){this.resumeOnSlideReady=this.started,this.timeline.pause()},onSlideReady:function(){this.resumeOnSlideReady&&this.timeline.play()},getInitialState:function(){return{timerVisible:!1,timeScale:0,timeText:o.isMobile?"00:00":""}},componentWillMount:function(){this.setupOptions(),this.started=!1,this.setupTimeline(),this.addTween()},componentDidMount:function(){this.props.model.performDeferredResume()},setupOptions:function(){var e=this.props.options;this.timeEnabled=e.get("timeEnabled"),this.timeFormat=o.isMobile?"remaining":e.get("timeFormat")},setupTimeline:function(){this.tweenTick={val:0},this.timeline=new r({paused:!0}),this.duration=this.getPath("props.model.duration")/1e3,this.tweenProps={val:1,ease:"Linear.easeNone",onUpdate:this.onUpdate,onComplete:this.onComplete}},addTween:function(){this.timeline.to(this.tweenTick,this.duration,this.tweenProps)},elapsed:function(e,t){return null==e?this.duration*this.tweenTick.val:void this.timeline.progress(e/this.duration,t)},getTimeText:function(){return l[this.timeFormat](this.elapsed(),this.duration)},onUpdate:function(){this.setState({timeText:this.getTimeText(),timeScale:this.tweenTick.val})},onComplete:function(){this.props.model.executePlayerEvent("timercomplete")},onShow:function(){this.props.onTimerShow(this),this.setState({timerVisible:!0}),document.body.classList.add("timer-shown")},onHide:function(){this.setState({timerVisible:!1}),document.body.classList.remove("timer-shown")},onPause:function(){this.timeline.pause(),this.started=!1,this.resumeOnSlideReady=!1},onStart:function(){this.started||(this.timeline.play(),this.started=!0),this.resumeOnSlideReady=!0},onReset:function(){this.started=!1,this.timeline.progress(0)}});return u}),define("views/player/SlideControlButton",["require","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","views/helpers/dom","helpers/resolver","helpers/windowManager"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("views/player/mixins/appStateable"),r=e("views/mixins/baseView"),s=e("polyfills/detection"),o=e("views/helpers/dom"),a=e("helpers/resolver"),l=e("helpers/windowManager"),u="_",c=t.createClass({displayName:"SlideControlButton",mixins:[r,n],subscriptions:{"navcontrols:changed":"onChangeAction"},getInitialState:function(){return{visible:!0}},stateableValues:function(){var e={};return e[this.props.kind]=null,e},beforeStateableValuesUpdated:function(){this.setState({visible:!0,disabled:!1})},componentWillMount:function(){this.updateKey()},componentWillReceiveProps:function(e){this.props.kind!==e.kind&&this.updateKey(e)},updateKey:function(e){return e=e||this.props,this.key=["stateable",e.kind].join(u),this},visible:function(){return this.state[this.key]&&this.state.visible},disabled:function(){return this.state.disabled},focus:function(){return i.findDOMNode(this.refs.btn).focus(),this.setState({focused:!0}),this},blur:function(){return i.findDOMNode(this.refs.btn).blur(),this.setState({focused:!1}),this},performChange:function(e){return e.name===this.props.kind&&(e.hasOwnProperty("visible")&&this.onSetVisibleAction(e),e.hasOwnProperty("enable")&&this.onSetEnabledAction(e)),this},getButtonEventsDesktop:function(){return{onClick:this.onButtonDown}},getButtonEventsMobile:function(){return{onTouchStart:function(){this.onTouchStart.apply(this,arguments),this.onButtonDown.apply(this,arguments)}.bind(this)}},getButtonEventsPreview:function(){return{onClick:this.onButtonDown,onMouseDown:this.onTouchStart}},onButtonDown:function(){this.state.disabled||this.props.onButtonDown.apply(this,arguments)},onChangeAction:function(e,t){var i,n,r,s=l.getCurrentWindow();this.props.windowId===s.slideContainer.props.windowId&&(i=s.getCurrentSlide(),n=null!=t?a.resolvePath(t.context.absoluteId):i,n.isSlide&&n===this.props.slide?this.performChange(e):n.isScene&&this.props.slide===i?this.performChange(e):(r=a.resolveAbsolutePathWithFilter(t.context.absoluteId,function(e){return e.isSlide===!0}),this.props.slide===r&&this.performChange(e)))},onSetVisibleAction:function(e){this.setState({visible:e.visible})},onSetEnabledAction:function(e){var t=!e.enable,i=this.setState.bind(this,{disabled:t}),n=i;null!=this.frame&&window.cancelAnimationFrame(this.frame),t&&document.activeElement===this.refs.btn&&(n=window.requestAnimationFrame.bind(window,function(){i()})),this.frame=n()},onTouchStart:function(){o.tappedClass(this.refs.btn)}}),h=c.prototype;return s.isMobilePreview?h.getButtonEvents=h.getButtonEventsPreview:s.isMobile?h.getButtonEvents=h.getButtonEventsMobile:h.getButtonEvents=h.getButtonEventsDesktop,c}),define("views/player/ResourcesHeader",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=(e("helpers/constants"),t.createClass({displayName:"ResourcesHeader",mixins:[i]}));return n}),define("views/player/ResourcesList",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/windowOpen"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("views/mixins/accTree"),r=e("helpers/windowOpen"),s=t.createClass({displayName:"ResourcesList",mixins:[i,n],getFocusTarget:function(){return this},onClickResource:function(e,t){t.preventDefault(),r.open({url:e.get("url")})}});return s}),define("views/presentation/SequenceCtrlDrop",["require","lodash","views/mixins/baseView","react","views/helpers/dragAndDropHelper"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("views/helpers/dragAndDropHelper").DroppableHelper,r=i.createClass({mixins:[t],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentWillReceiveProps:function(e){this.props.parent.isEnabled()&&this.setState({reviewIdx:e.idx})},componentWillUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new n(this.el,{data:this})},setDropChild:function(e){this.dropChild=e,e.drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(e){if(e.el){var t=this.el.getBoundingClientRect(),i=e.el.getBoundingClientRect(),n=i.top,r=t.top+t.height/3;n>r?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}});return r}),define("views/presentation/SequenceCtrlDragItem",["require","lodash","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("views/presentation/mixins/dragdropSlideObject"),n=e("react"),r=n.createClass({mixins:[t,i],displayName:"SequenceCtrlDragItem",getInitialState:function(){return this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}});return r}),define("views/player/TabPanel",["require","lodash","react","helpers/constants","views/helpers/dom","views/mixins/baseView","views/player/mixins/appStateable","polyfills/detection","helpers/scaler"],function(e){"use strict";var t=(e("lodash"),e("react")),i=(e("helpers/constants"),e("views/helpers/dom"),e("views/mixins/baseView")),n=e("views/player/mixins/appStateable"),r=e("polyfills/detection"),s=e("helpers/scaler"),o=function(e){this.props.config.isLive=e,this.setState({isVisible:e})},a=function(e,t){return e.idx-t.idx},l=t.createClass({displayName:"TabPanel",mixins:[i,n],stateableValues:function(){var e={};return e[this.props.config.name]=o.bind(this),e},addFocusObjects:function(e){this.focusObjects||(this.focusObjects=[]),this.focusObjects=this.focusObjects.concat(e),this.focusObjects.sort(a)},componentDidMount:function(){this.el.addEventListener("touchmove",this.onTouchMove),this.isTranscript="transcript"===this.props.config.name},componentDidUpdate:function(){this.checkAutoScrollMenuTab()},componentWillUnmount:function(){this.el.removeEventListener("touchmove",this.onTouchMove)},setScrollListener:function(){var e=this.find(".panel-content");e.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.find(".panel-content").style.overflowY="auto"},checkAutoScrollMenuTab:function(){var e;null!=this.props.activeTab&&"outline"===this.props.config.name&&this.props.config.name===this.props.activeTab.name&&(e=this.find(".menu-item-selected"),this.autoScrollMenu(e))},autoScrollMenu:function(e){if(null!=e){var t,i,n,o,a,l=this.el.getBoundingClientRect(),u=e.getBoundingClientRect(),c=this.find(".panel-footer"),h=null!=c?c.getBoundingClientRect().height:0,p=u.bottom-l.top+h,d=u.top-l.top;(p>l.height||0>d)&&(t=r.isMobile&&"landscape"===r.orientation?1:.25,a=u.height*t,o=l.top>u.top?d-a:p-l.height+a,n=r.isMobile?document.querySelector("#panel-outline"):this.find(".panel-content-menu"),i=s.getScale(),i=1>i?1/i:1,n.scrollTop+=o*i)}}});return l}),define("views/player/SidebarTab",["require","lodash","react","react-dom","views/mixins/baseView","views/player/mixins/appStateable","helpers/pubSub"],function(e){"use strict";var t=(e("lodash"),e("react")),i=(e("react-dom"),e("views/mixins/baseView")),n=e("views/player/mixins/appStateable"),r=e("helpers/pubSub"),s=function(e){this.props.config.isLive=e,this.setState({isVisible:e})},o={outline:"O",glossary:"G",transcript:"N"},a=t.createClass({displayName:"SidebarTab",mixins:[i,n],subscriptions:{"keyManager:frameControlKey":"onFrameControlKey"},stateableValues:function(){var e={};return e[this.props.config.name]=s.bind(this),e},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1}},activate:function(){var e=this.props.config.properties.data;e?r.trigger("customlink:event",e):(this.props.setActiveTab(this.props.config),this.props.tabChanged&&this.props.tabChanged(this.props.config))},actionKeyCallback:function(){return this.activate(),!0},onFrameControlKey:function(e){var t=this.props.config.name;null!=o[t]&&e[o[t]]&&this.activate()}});return a}),define("views/player/Presenter",["require","react","helpers/pubSub","lodash","helpers/windowManager","helpers/actionator","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("lodash"),r=e("helpers/windowManager"),s=e("helpers/actionator"),o=e("views/mixins/baseView"),a=t.createClass({displayName:"Presenter",subscriptions:{"popup:hide":"onPopupHide","popup:email":"onPopupEmail"},mixins:[o],getTabbableItems:function(){return null!=this.refs.name?(n.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),[n.assign(this.refs.name,{idx:0,indexGroupName:"Presenter"}),n.assign(this.refs.title,{idx:1,indexGroupName:"Presenter"}),n.assign(this.refs.link,{idx:2,indexGroupName:"Presenter"})]):void 0},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.link&&(this.hasOnlyEmail()?this.onEmailLinkClicked(this.props.presenter.email):this.moreInfo()),!0},moreInfo:function(e){var t=r.getCurrentWindowSlide().currentTimeline();null!=e&&e.preventDefault(),t.isPlaying()?(t.pause(),this.wasPlaying=!0):this.wasPlaying=!1,i.trigger("popup:show",this.props.presenter.id)},onPopupHide:function(){this.wasPlaying&&r.getCurrentWindowSlide().currentTimeline().play()},onPopupEmail:function(e){s.mailTo({kind:"emailto",address:e})},onEmailLinkClicked:function(e,t){null!=t&&t.preventDefault(),this.onPopupEmail(e)},hasOnlyBioText:function(){return!this.props.presenter.email&&this.props.presenter.biotext},hasOnlyEmail:function(){return this.props.presenter.email&&!this.props.presenter.biotext},hasBothEmailAndBioText:function(){return this.props.presenter.email&&this.props.presenter.biotext}});return a}),define("views/mixins/transitionableLayer",["require","lodash","views/helpers/TweenHelper","helpers/AnimationTimeline","helpers/vow","polyfills/vendorOverrides"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/TweenHelper")),i=e("helpers/AnimationTimeline"),n=e("helpers/vow"),r=(e("polyfills/vendorOverrides"),{componentWillMount:function(){this.elDfd=new n.Deferred},componentDidMount:function(){this.elDfd.resolve()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(e,n){this.getElPromise().done(function(){this.aniTimeline=new i({tweens:[new t(this,!1,e.getConfig())],onComplete:function(){n(),this.cancelTransition()}.bind(this)}),this.aniTimeline.seek(0),this.aniTimeline.play()}.bind(this))},cancelTransition:function(){null!=this.aniTimeline&&(this.aniTimeline.kill(),this.aniTimeline=null)}});return r}),define("views/presentation/SlideLayer",["require","lodash","react","views/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/displayable","views/mixins/transitionableLayer","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("views/presentation/SlideObject"),e("views/mixins/baseView")),r=e("views/presentation/mixins/displayable"),s=e("views/mixins/transitionableLayer"),o=e("helpers/utils"),a=i.createClass({displayName:"SlideLayer",mixins:[n,s,r],subscriptions:{"slide:willChange":"onSlideWillChange"},shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition"}},componentDidMount:function(){this.toggleVisibility(this.isBaseLayer()),this.listenToDepth().setInitModelProps()},componentWillUnmount:function(){this.props.model.isShowable=!1,this.props.model.shownInCurrentView=!1,this.props.model.isOpen=!1},getInitialState:function(){return{depth:0,audio:!0}},onSlideWillChange:function(e,i,n){var r=o.stripPlayer(this.props.model.getClosestAncestorByKind("slide").absoluteId),s=o.stripPlayer(e.absoluteId),a=o.stripPlayer(i.absoluteId);n?t(this.refs).filter(function(e,i){return t.startsWith(i,"audio")}).invoke("pause").commit():r===s&&r!==a&&this.setState({audio:!1})},isBaseLayer:function(){return this.props.model.isBaseLayer()},onShow:function(){this.props.model.get("timeline").play(),this.show(),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin"),this.execSlideStart()},onShowCustom:function(e,t,i,n){var r=(this.props.model,function(){n(),this.props.model.get("timeline").play(),this.execSlideStart()}.bind(this));this.transitionIn(i,r),this.show(),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin")},onCancelTransition:function(){this.cancelTransition()},onHide:function(){this.props.model.get("timeline").pause(!0),this.hide(),this.updateTrueVisibility(!1),this.props.model.executePlayerEvent("ontransitionout")},execSlideStart:function(){this.props.model.executePlayerEvent("onslidestart")},listenToDepth:function(){return this.setState({depth:this.props.model.depth()}),this.listenTo(this.props.model,"change:depth",function(e,t){this.setState({depth:t})}.bind(this)),this},setInitModelProps:function(){return this.props.model.createObjectIndex(),this}});return a}),define("views/presentation/SlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=(e("helpers/svg/svgUtils"),e("views/presentation/LinearBackgroundGradient"),t.createClass({displayName:"SlideBackground",mixins:[i],patternFillId:function(){return"pattern-fill-"+this.props.model.id}}));return n}),define("views/presentation/VectorSlideBackground",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"VectorSlideBackground",mixins:[i]});return n}),define("mixins/captionable",["require","helpers/captionsManager","helpers/windowManager","helpers/pubSub"],function(e){"use strict";var t=e("helpers/captionsManager"),i=e("helpers/windowManager"),n=e("helpers/pubSub"),r={componentWillMount:function(){this.onObjectsVisibilityResolved=function(){t.reloadCaptions(),this.publishCurrentTime()}.bind(this),n.on("slideLayer:resolvedObjectVisibility",this.onObjectsVisibilityResolved)},componentDidMount:function(){this.slideId=i.getCurrentWindowSlide().id,t.mount(this,this.slideId)},publishCurrentTime:function(){t.isCaptionButtonToggled()&&n.trigger("media:currentTime",this.getCurrentTime(),this.getAssetId())},componentWillUnmount:function(){t.unmount(this,this.slideId),n.off("slideLayer:resolvedObjectVisibility",this.onObjectsVisibilityResolved)}};return r}),define("views/presentation/AudioPlayer",["require","lodash","react","helpers/appState","mixins/captionable","views/mixins/propertizable","helpers/constants","helpers/captionsManager","helpers/pubSub","views/mixins/baseView","helpers/audio/audioManager","helpers/vow","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/appState"),r=e("mixins/captionable"),s=e("views/mixins/propertizable"),o=e("helpers/constants"),a=e("helpers/captionsManager"),l=(e("helpers/pubSub"),e("views/mixins/baseView")),u=e("helpers/audio/audioManager"),c=e("helpers/vow"),h=e("helpers/utils"),p=i.createClass({displayName:"AudioPlayer",mixins:[l,s,r],shortEvents:{model:{"action:media_seek":"onActionSeek","action:media_play":"onActionPlay","action:media_pause":"onActionPause","action:media_toggle":"onActionToggle","action:set_volume":"onActionSetVolume"},timeline:{playing:"onTimelinePlay",paused:"onTimelinePause",afterSeekUpdate:"onTimelineSeek",reset:"onTimelineReset"}},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var e=this.props.model.getUrl(),t=u.loadUrl(e);this.slideStartedDfd=new c.Deferred,this.setState({audioClip:t}),this.listenTo(this.props.model.getSlide(),"started",this.slideStartedDfd.resolve)},componentDidMount:function(){this.presentationVol=o.DEFAULT_VOLUME,this.setVolume(n.currentVolume()),this.currActionStartTime=0,this.listenTo(n,"change:currentVolume",this.onVolumeChanged),this.listenTo(this.state.audioClip,"audioClip:ended",this.onEnded),this.listenTo(this.state.audioClip,"audioClip:timeUpdate",this.onTimeUpdate)},componentWillUpdate:function(e,i){var n=this.state.audioClip,r=[];null!=i.seekFn&&i.seekFn!==this.state.seekFn&&r.push(i.seekFn),i.isPlaying===this.state.isPlaying&&i.soundComplete===this.state.soundComplete||r.push(n[i.isPlaying?"play":"pause"].bind(n)),r.length>0&&this.slideStartedDfd.done(t.partial(t.invoke,r,Function.prototype.call))},componentWillUnmount:function(){this.state.audioClip.destroy(),this.pause()},onEnded:function(){this.setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:!1}),this.props.model.executePlayerEvent("onmediacomplete"),this.publishCurrentTime()},ended:function(){return this.state.soundComplete===!0},getAssetId:function(){return this.props.model.get("assetId")},getCurrentTime:function(){return this.currentTime},isVideo:function(){return!1},onTimeUpdate:function(e){this.currentTime=e,this.publishCurrentTime()},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},setTimelineControl:function(e){this.setPlayerProp({isTimelineControlled:!!e.timelineLabel})},getTimelineControl:function(){return this.props.model.prop("isTimelineControlled")},onActionPlay:function(e,t){this.setActionStartTime(t.time),this.state.soundComplete===!0&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!0),"expandinglabel"===t.context.get("kind")&&a.includeMedia(this.getAssetId()),this.play()},onActionPause:function(e,t){this.setActionStartTime(t.time),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!1),"expandinglabel"===t.context.get("kind")&&a.excludeMedia(this.getAssetId()),this.pause()},onActionToggle:function(e,t){this.state.isPlaying?this.onActionPause(e,t):this.onActionPlay(e,t)},onActionSeek:function(e,t){this.setActionStartTime(t.time),this.seek(e.position),this.currentTime=h.toSeconds(t.currentTime),this.publishCurrentTime()},onActionSetVolume:function(e,t){var i=e.volume/100;this.setActionStartTime(t.time),this.presentationVol=i,this.determineAudioVolume(n.currentVolume())},play:function(){this.setPlayerProp({isPlaying:!0})},pause:function(){this.setPlayerProp({isPlaying:!1}),this.publishCurrentTime()},seek:function(e){var i=this.state.audioClip;this.setState({seekFn:t.partial(i.seek.bind(i),h.toSeconds(e))})},setVolume:function(e){this.state.audioClip.setVolume(e)},setActionStartTime:function(e){null==e&&this.state.soundComplete&&(e=0),null!=e&&(this.currActionStartTime=e)},calculatePlaybackDifference:function(e){return e-(this.currActionStartTime||0)},onTimelinePlay:function(){this.props.model.prop("resumeOnTimelinePlay")&&this.play()},onTimelinePause:function(){this.pause()},onTimelineSeek:function(e){this.getTimelineControl()&&(e=this.calculatePlaybackDifference(e),this.seek(e))},onTimelineReset:function(){this.setState({soundComplete:!1})},template:function(){return null}});return p}),define("views/player/SlideLoaderIndicator",["require","react","views/mixins/baseView","views/helpers/dom"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/helpers/dom"),r=t.createClass({displayName:"SlideLoaderIndicator",mixins:[i],getInitialState:function(){return this.getCursorPos()},componentWillMount:function(){document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){document.body.removeEventListener("mousemove",this.onMouseMove)},onMouseMove:function(){this.setState(this.getCursorPos())},getCursorPos:function(){return{cursorX:n.mouseX,cursorY:n.mouseY}}});return r}),define("views/player/RelativeNavControls",["require","lodash","react","react-dom","helpers/constants","helpers/keyManager","views/mixins/baseView","views/player/mixins/appStateable","helpers/utils","polyfills/detection","helpers/windowManager","helpers/resolver","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("react-dom"),e("helpers/constants")),r=e("helpers/keyManager"),s=e("views/mixins/baseView"),o=e("views/player/mixins/appStateable"),a=e("helpers/utils"),l=e("polyfills/detection"),u=e("helpers/windowManager"),c=(e("helpers/resolver"),e("helpers/pubSub")),h=i.createClass({displayName:"RelativeNavControls",mixins:[s,o],subscriptions:{"navcontrols:changed":"onChangeAction","keyManager:frameControlKey":"onFrameControlKey"},getInitialState:function(){return{showPrev:!0,showNext:!0}},getTabbableItems:function(){var e;return t.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),e=[t.assign(this.refs.prev,{idx:n.tabIndices.PREV,indexGroupName:"SlideControlButton"}),t.assign(this.refs.next,{idx:n.tabIndices.NEXT,indexGroupName:"SlideControlButton"}),t.assign(this.refs.submit,{idx:n.tabIndices.SUBMIT,indexGroupName:"SlideControlButton"})],this.props.lightboxed||e.unshift(t.assign(this.refs.skipNav,{idx:n.tabIndices.SKIP,indexGroupName:"SlideControlButton"
})),e},stringTitles:{prev:"prev",acc_previous:"acc_prev",next:"next",acc_next:"acc_next",submit:"submit",acc_skipnavigation:"acc_skipnavigation",finish:"finish"},stateableValues:{previous:void 0,next:void 0,submit:void 0,submitall:void 0},componentDidMount:function(){window.addEventListener("resize",this.calcHideShowPrevNext)},componentWillUnmount:function(){window.removeEventListener("resize",this.calcHideShowPrevNext)},stateableValuesUpdated:function(e){this.layout=e,this.calcHideShowPrevNext()},triggerNavEvent:function(e,t){var i=u.getCurrentWindow().getCurrentSlide();i.get("slideLock")||c.trigger("presentation:onobjectevent",e+"_pressed")},triggerSubmit:function(e){c.trigger("presentation:onobjectevent","submit_pressed")},triggerFinish:function(){c.trigger("presentation:onobjectevent","finish_pressed")},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.skipNav?this.skipNav():e.onButtonDown(),!0},onTimerShow:function(e){a.showTimer(this,e)},skipNav:function(){r.clearCurrentItem(),r.currentIndex=-1},onOrientationChange:function(){console.log("orientation"),this.calcHideShowPrevNext()},onChangeAction:function(e,t){this.calcHideShowPrevNext()},calcHideShowPrevNext:function(){if(null!=this.layout){var e=t.compact([this.state.stateable_submit,this.state.stateable_previous,this.state.stateable_next,this.layout.seekbar]).length;this.setState({showNext:!0,showPrev:!0}),l.is360&&e>=3&&l.innerWidth<=n.MOBILE_360_PHONE_LARGE&&"portrait"===l.orientation?this.state.stateable_submit&&this.setState({showNext:!1,showPrev:!1}):l.is360&&e>3&&this.state.stateable_submit&&l.innerWidth<n.MOBILE_WIDTH_MIN?this.setState({showNext:!1,showPrev:!1}):l.is360&&e>3&&this.state.stateable_submit&&l.innerHeight<n.MOBILE_360_PHONE_MEDIUM?this.setState({showNext:!1,showPrev:!1}):4===e&&l.innerHeight<n.MOBILE_MIN_LANDSCAPE_FULL&&"landscape"===l.orientation?this.setState({showNext:!1,showPrev:!1}):this.state.stateable_previous&&this.state.stateable_next&&this.setState({showNext:!0,showPrev:!0,shrinkButtons:!!this.getPath("props.timers")&&l.innerHeight<n.MOBILE_MIN_LANDSCAPE})}},onFrameControlKey:function(e){(e.LEFT||e.UP||e.PAGE_UP)&&this.state.showPrev?this.triggerNavEvent("prev"):(e.RIGHT||e.DOWN||e.PAGE_DOWN)&&this.state.showNext&&this.triggerNavEvent("next")}});return h}),define("views/player/Menu",["require","lodash","react","views/mixins/baseView","helpers/utils","tween-lite","views/helpers/dom","helpers/pubSub","helpers/windowManager","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("tween-lite"),o=e("views/helpers/dom"),a=e("helpers/pubSub"),l=e("helpers/windowManager"),u=e("helpers/resolver"),c=function(e){return e.replace(/#|\//g,"")},h=function(e){return e.isLink},p=i.createClass({displayName:"Menu",mixins:[n],subscriptions:{"mainWindow:slideChanged":"onSlideChanged","actionlink:event":"onActionLink","actionlink:viewed":"onActionLink"},stringTitles:{acc_search:"acc_search"},getInitialState:function(){return{visitedSlides:[],isSearchActive:!1,links:[]}},componentWillMount:function(){this.preso=u.getPresentationContext(),a.once("resume:setdata",this.updateVisitedSlides),this.setState({links:this.getInitialLinks()})},setScrollListener:function(){var e=this.el;e.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.el.style.overflowY="auto"},updateVisitedSlides:function(e,t){null!=e&&e.forEach(this.addSlideToVisited),null!=t&&t.forEach(this.addActionLinkToVisited)},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e);this.updateLinks(t)},onClearSearch:function(){this.setLinks(this.getInitialLinks(),!1)},updateLinks:function(e){this.setLinks(e,!0)},checkFlow:function(e){var t,i=l.getCurrentWindow().getCurrentSlide(),n=o.closest(e.target,o.isLink),r=o.closest(e.target,o.isIconNode),s=n&&n.getAttribute("href"),u=n&&n.hasAttribute("data-actionlink");if(s&&(e.preventDefault(),t=s.slice(1),!i.get("slideLock")))return this.isRestrictedFlow()&&!this.hasSlideBeenVisited(t,u)&&null!=this.preso.eventByName("nav_restricted_mode")?void a.trigger("presentation:onobjectevent","nav_restricted_mode"):void(this.shouldKillLink(s,u)||r||a.trigger(u?"actionlink:event":"nextSlide:requesting",t))},setLinks:function(e,t){var i=this.find(".outline");s.to(i,.25,{opacity:0,onComplete:function(){this.setState({isSearchActive:t,links:e}),s.to(i,.25,{opacity:1})}.bind(this)})},getInitialLinks:function(){return this.props.model.outline().links()},isFlowType:function(e){return this.props.options.get("flow")===e},shouldKillLink:function(e,t,i){var n=c(e);return t&&-1===n.indexOf(".")&&this.hasSceneBeenVisited(n)?!1:!t&&this.isLockedFlow()?!0:this.isFreeFlow()?!1:!this.hasSlideBeenVisited(n,i)},hasSceneBeenVisited:function(e){var i=t.findLast(this.state.visitedSlides,function(t){return-1!==t.indexOf(e)});return!!i},hasSlideBeenVisited:function(e,i){return t.contains(this.state.visitedSlides,i?e:r.prefixWithPlayer(e))},addSlideToVisited:function(e){var i=e.absoluteId,n=e.getScene().absoluteId,r=t(this.state.visitedSlides.slice()||[]).without(n,i).push(n,i).value();return this.setState({visitedSlides:r}),this},addActionLinkToVisited:function(e){for(var i=this.state.links.findDeep(e),n=[],r=i;null!=r;)n.unshift(r.get("slideid")),r=r.getClosestAncestor(h);var s=t.without.apply(t,[this.state.visitedSlides.slice()||[]].concat(n));return s.push.apply(s,n),this.setState({visitedSlides:s}),this},onSlideChanged:function(e){this.addSlideToVisited(e)},onActionLink:function(e){this.addActionLinkToVisited(e)},hasAnyLink:function(e){return!!this.state.links.findDeep(e)}}),d=p.prototype;return d.isFreeFlow=t.partial(d.isFlowType,"free"),d.isRestrictedFlow=t.partial(d.isFlowType,"restricted"),d.isLockedFlow=t.partial(d.isFlowType,"locked"),p}),define("views/player/Glossary",["require","react","views/mixins/baseView","lodash","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("lodash"),r=e("helpers/slideObjectUtils"),s=0,o=t.createClass({displayName:"Glossary",mixins:[i],stringTitles:{terms:"terms",definition:"definition",acc_definition:"acc_definition"},getTabbableItems:function(){this.props.addFocusObjects([n.assign(this.refs.glossaryTerms,{idx:++s}),n.assign(this.refs.glossaryDefinition,{idx:++s})])},componentWillMount:function(){r.activeMobileMenuItem(this.props.collection,"no-glossary")},getInitialState:function(){return{curTitle:"",curDefinition:""}},revealTerm:function(e){var t=this.props.collection.at(e);return this.setState({curTitle:t.get("title"),curDefinition:t.get("content")}),this}});return o}),define("views/player/Notes",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/slideObjectUtils","polyfills/detection","helpers/svg/svgUtils","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("helpers/slideObjectUtils"),o=e("polyfills/detection"),a=e("helpers/svg/svgUtils"),l=e("helpers/pubSub"),u=16/12,c=.1,h=4*c,p=3,d=/color:#ffffff/gi,f=function(e,t){var i;e.style[t]&&(i=parseFloat(e.style[t]),e.style[t]=r.pxify(Math.ceil(i*u)))},m=0,g=i.createClass({displayName:"Notes",mixins:[n],subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},getInitialState:function(){return{currentSlideNote:{},currentSlideTitle:""}},getTabbableItems:function(){this.props.addFocusObjects([t.assign(this.refs.notesHeader,{idx:++m}),t.assign(this.refs.notesList,{idx:++m})])},onSlideChanged:function(e){var t,i,n=this.props.collection.findWhere({slideId:e.fullId()});null!=n&&(t=n.get("pathIndex"),i=n.get("pathLib")),s.activeMobileMenuItem(i,"no-transcript"),this.refs.panelContent.scrollTop=0,this.setState({currentSlideNote:n||{},currentSlideTitle:e.get("title"),commandsetId:t,pathLib:i})},componentDidMount:function(){o.isMobile&&l.on("uiMobile:menuOpen",this.mobileLandscapeToggle)},mobileLandscapeToggle:function(){"landscape"===o.orientation&&this.prepareToSizeSvg()},prepareToSizeSvg:function(){this.svgNotes=this.refs.notesList.refs.svgNotes,null!=this.svgNotes&&this.htmlReady(this.setSvgNoteSizing)},componentDidUpdate:function(){this.prepareToSizeSvg()},setSvgNoteSizing:function(){if("transcript"===t.get(this,"props.active.name")){var e,i=this.svgNotes.querySelector("g"),n=i.getBBox(),r=1;0!==n.width&&(e=this.refs.panelContent.getBoundingClientRect(),o.isMobile&&(r=e.width/n.width-c,(o.isTablet||"landscape"===o.orientation)&&(r-=h),r>p&&(r=p),i.setAttribute("transform",[a.transformTranslate(4,0),a.transformScale(r)].join(" "))),this.svgNotes.setAttribute("width","100%"),this.svgNotes.setAttribute("height",(n.height+n.y)*r))}},getNotesHtml:function(){var e,i,n=this.state.currentSlideNote,r=null!=n.get?n.get("usePngNotesHtml5"):!1,a=document.createElement("div");if(r)i=document.createElement("img"),i.src=n.get("notesPng"),a.appendChild(i);else{if(e=null!=n.get?n.get("content"):"",s.activeMobileMenuItem(e,"no-transcript"),0===e.length)return;a.innerHTML=o.isMobile?e.replace(d,"color:#515557"):e,this.scaleForMobile(a),t(a.childNodes).reject("firstChild").each(function(e){e.innerHTML="&nbsp;"}).value()}return a.innerHTML},scaleForMobile:function(e){o.isMobile&&t.each(e.querySelectorAll("font, p"),function(e){"FONT"===e.tagName?f(e,"fontSize"):"P"===e.tagName&&f(e,"lineHeight")})}});return g}),define("views/player/Resources",["require","react","lodash","views/mixins/baseView","helpers/constants","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("views/mixins/baseView"),r=e("helpers/constants"),s=e("helpers/slideObjectUtils"),o=r.tabIndices.TOP_TAB_RIGHT,a=t.createClass({displayName:"Resources",mixins:[n],stringTitles:{acc_resources:"acc_resources"},getTabbableItems:function(){this.props.addFocusObjects([i.assign(this.refs.resourcesHeader,{idx:++o}),i.assign(this.refs.resourcesList,{idx:++o})])},componentWillMount:function(){s.activeMobileMenuItem(this.props.model.resources(),"no-resources")}});return a}),define("views/player/TopTabsItem",["require","lodash","helpers/pubSub","react","views/mixins/baseView","views/mixins/mouseable","views/player/mixins/appStateable","views/events/eventHelper","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("react"),r=e("views/mixins/baseView"),s=e("views/mixins/mouseable"),o=e("views/player/mixins/appStateable"),a=e("views/events/eventHelper"),l=e("helpers/constants"),u={resources:"R"},c=n.createClass({displayName:"TopTabsItem",mixins:[r,s,o],subscriptions:{"keyManager:frameControlKey":"onFrameControlKey"},stateableValues:{resources:void 0,glossary:void 0,outline:void 0,transcript:void 0},determineVisibilty:function(){return"transcript"===this.props.name?this.state.stateable_transcript:"resources"===this.props.name?this.state.stateable_resources:"glossary"===this.props.name?this.state.stateable_glossary:"outline"===this.props.name?this.state.stateable_outline:!0},componentDidMount:function(){this.registerEvent("clickoutside",this.onClickOutside)},componentDidUpdate:function(){var e=this.el.parentNode.querySelectorAll(".topmenu-item:not(.hidden) .topmenu-separator"),i="rtl"===window.getComputedStyle(this.el.parentNode).direction,n=t(e).forEach(function(e){e.style.display=""})[i?"first":"last"]();n&&(n.style.display="none")},getTitle:function(){return"qm"===l.player.OUTPUT_TYPE?this.state.i18nquestion_list:this.state.i18ntitle},stringTitles:function(){var e={title:this.props.config.properties.title||this.props.config.name};return"outline"===this.props.config.name&&"qm"===l.player.OUTPUT_TYPE&&(e.question_list="question_list"),e},getInitialState:function(){return{isLive:!1,title:this.props.config.properties.title}},onClickOutside:function(){this.isActive()&&this.deactivate()},onSelectMenuItem:function(){this.deactivate()},isActive:function(){return this.props.activeTab===this.props.config},activate:function(){return this.props.activateTab(this),this},deactivate:function(){return this.props.deactivateTab(this),this},toggle:function(){return this.isActive()?this.deactivate():this.activate(),this},onClick:function(e){a.isSpacebarClick(e)||this.onToggle()},onToggle:function(){var e=this.props.config.properties.data;e?i.trigger("customlink:event",e):this.toggle()},stealFocus:function(e){this.find("button").focus(),this.setState({tabFocused:!0})},releaseFocus:function(e){this.find("button").blur(),this.setState({tabFocused:!1})},actionKeyCallback:function(e){this.onToggle()},onFrameControlKey:function(e){var t=this.props.config.name;null!=u[t]&&e[u[t]]&&this.toggle()}});return c}),define("views/player/TopTabs",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/constants"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=function(e){return"getLink"+s.upperCaseFirst(e)},a={left:n.tabIndices.TOP_TAB_LEFT,right:n.tabIndices.TOP_TAB_RIGHT},l=i.createClass({displayName:"TopTabs",mixins:[r],subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},getInitialState:function(){return{activeTab:null,tabs:[]}},getTabbableItems:function(){var e,i,n=[],r=a[this.props.align],s=0;for(e=this.refs["topTabsItem"+s++];e;)n.push(t.assign(e,{idx:r++})),i=e.refs.tabPanel,i&&i.focusObjects&&i.focusObjects.forEach(function(e){e.indexGroupName="TopTabsItem",n.push(e)}),e=this.refs["topTabsItem"+s++];return n},componentWillMount:function(){var e=o(this.props.align),i=this.state.tabs;i.push.apply(i,t.cloneDeep(this.props.model[e]()))},alignDir:function(){return"left"===this.props.align?"start":"end"},activateTab:function(e){this.setState({activeTab:e.props.config})},onSlideChanged:function(){this.deactivateTab()},deactivateTab:function(e){this.setState({activeTab:null})}});return l}),define("views/player/ElapsedAndTotalTime",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("helpers/windowManager"),o=t.flow(r.toSeconds,r.formatSecondsAsTime),a=i.createClass({displayName:"ElapsedAndTotalTime",mixins:[n],subscriptions:{"slide:started":"onSlideStarted","timeline:currentTimeline":"onTimelineChanged"},getInitialState:function(){return{startTime:0,timelineProgress:0}},componentWillMount:function(){this.duration=o(this.props.presentation.get("lessonDuration"))},componentWillUnmount:function(){this.unbindTimelineEvents(),this.unbindSlideEvents()},configObjEvents:function(e,t,i,n){var r=this[e];return null!=r&&r[n?"on":"off"](t,this[i]),this},getNextTimelineProgressState:function(){var e=this.timeline;return{timelineProgress:null==e||this.isPaused()?0:e.progress()*e.duration()}},isMode:function(e){var t=this.timeline;return null==t?!1:t.parent.get("elapsedTimeMode")===e},onSlideStarted:function(){this.unbindSlideEvents(),this.slide=s.getCurrentWindowSlide(),this.bindSlideEvents()},onSlideTimelineChanged:function(e,t){this.onTimelineChanged(t)},onTimelineChanged:function(e){this.unbindTimelineEvents(),this.timeline=e,this.isIgnored()||(this.bindTimelineEvents(),this.setState(t.extend({startTime:e.parent.get("startTime")},this.getNextTimelineProgressState())))},onTimelineTick:function(){this.setState(this.getNextTimelineProgressState())},renderTimer:function(){return[o(Math.max(0,this.state.startTime+this.state.timelineProgress)),this.duration].join(" / ")}}),l=a.prototype;return t.extend(l,{bindSlideEvents:t.partial(l.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!0),unbindSlideEvents:t.partial(l.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!1),bindTimelineEvents:t.partial(l.configObjEvents,"timeline","tick","onTimelineTick",!0),unbindTimelineEvents:t.partial(l.configObjEvents,"timeline","tick","onTimelineTick",!1),isIgnored:t.partial(l.isMode,"ignore"),isPaused:t.partial(l.isMode,"pause")}),a}),define("views/player/SidebarMobile",["require","lodash","helpers/utils","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides","polyfills/detection","views/helpers/dom"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("helpers/constants")),n=e("react"),r=e("views/mixins/baseView"),s=e("views/player/mixins/appStateable"),o=e("views/player/mixins/sidebar"),a=e("polyfills/vendorOverrides"),l=e("polyfills/detection"),u=e("views/helpers/dom"),c=a.forceSingleRepaint||t.noop,h=["glossary","transcript","resources"],p=function(e){return e.isLive=!0,e},d=function(){return u.hasClass(document.body,"has-custom-links")},f=function(e,i){var n=this.state.tabs.slice(),r=t.findWhere(n,{name:e});null!=r&&(r.isLive=i),this.setState({tabs:n})},m=function(e,t){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},g=i.tabIndices.SIDEBAR,v=n.createClass({displayName:"SidebarMobile",mixins:[r,s,o],isSidebar:!0,isFullyMounted:!1,subscriptions:{"detection:orientationChange":"onOrientationChange"},stateableValues:function(){return{outline:f.bind(this,"outline"),glossary:f.bind(this,"glossary"),transcript:f.bind(this,"transcript"),resources:f.bind(this,"resources")}},stateableValuesUpdated:function(e){!m(e,this.state.tabs)||this.hasPresenter()||d()?document.body.classList.remove("no-menu"):document.body.classList.add("no-menu"),this.layout=e,this.htmlReady(this.defaultToAvailableTab)},getTabbableItems:function(){var e,i,n=t.range(0,4),r=function(e,i,n){var r=this.refs[e+n];return null!=r&&i.push(t.assign(r,{idx:g++,indexGroupName:"SidebarTab"})),i},s=function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t},o=r.bind(this,"sidebarTab");return i=n.reduce(o,[]),e=n.reduce(s.bind(this,"sidebarPanel"),[]),i.concat(e)},getInitialState:function(){var e=t.cloneDeep(this.props.model.getSidebar()).map(p),i=t.cloneDeep(this.props.model.getLinkLeft()).map(p),n=t.cloneDeep(this.props.model.getLinkRight()).map(p),r=e.concat(i).concat(n);return{activeTab:null,tabs:r}},selectTabOnOrientationChange:function(){"landscape"!==l.orientation||this.state.activeTab||this.setActiveTab(t.findWhere(this.state.tabs,{isLive:!0}))},componentWillMount:function(){var e=this.props.model,i=e.get("presenters"),n=null==i?!0:0===i.length,r=t.every(this.props.model.controlLayouts().attributes,function(e){return m(e,this.state.tabs)}.bind(this));this.selectTabOnOrientationChange(),n&&r&&!d()&&document.body.classList.add("hide-menu")},onOrientationChange:function(){this.selectTabOnOrientationChange()},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setActiveTab(t.activeTab),c(this.el)},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},isDeactivated:function(e){return u.hasClass(document.body,"no-"+e)},activeNotDisabled:function(e){return this.layout[e]&&!this.isDeactivated(e)?!0:void 0},checkEmptyTabs:function(){var e=this.layout.outline.enabled||h.some(this.activeNotDisabled),t=e?"remove":"add";document.body.classList[t]("no-panels")},defaultToAvailableTab:function(){if(this.state.activeTab){var e,i=this.state.activeTab.name,n=!1;"outline"===i?this.layout[i].enabled&&(n=!0):this.layout[i]&&(this.isDeactivated(i)||(n=!0)),n||(this.layout.outline.enabled?e="outline":h.some(function(t){var i=this.activeNotDisabled(t);return i&&(e=t),i}.bind(this)),e&&this.setActiveTab(t.findWhere(this.state.tabs,{name:e})))}},setActiveTab:function(e){this.setState({activeTab:e}),e&&"outline"===e.name?document.body.classList.add("menu-panel-active"):document.body.classList.remove("menu-panel-active")},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e),i=this.findComponent("Menu");i.updateLinks(t)}});return v}),define("views/presentation/VectorTextHitArea",["require","views/helpers/dom","react","views/mixins/baseView"],function(e){"use strict";var t=e("views/helpers/dom"),i=e("react"),n=e("views/mixins/baseView"),r=i.createClass({displayName:"VectorTextHitArea",mixins:[n],componentDidMount:function(){this.areas={};var e=t.closest(this.el,function(e){return t.hasClass(e,"vector-text-item")});this.findAll(".link-highlight-area").forEach(function(t){var i=t.getAttribute("data-linkarea");this.areas[i]=t,e.insertBefore(t,e.firstElementChild)}.bind(this))},renderAs:function(e){var i="mouseover"===e.type,n=e.currentTarget.getAttribute("data-hotarea");t.setStyles(this.areas[n],{opacity:Number(i)})},onClickCallback:function(e){e.preventDefault(),this.props.onClickCallback(this.props.linkId)}});return r}),define("views/presentation/VideoControls",["require","lodash","helpers/utils","react","views/mixins/baseView","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),r=e("views/mixins/baseView"),s=(e("polyfills/vendorOverrides"),e("polyfills/detection")),o=n.createClass({displayName:"VideoControls",mixins:[r],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},onChange:t.noop,componentDidMount:function(){s.isMobileAndNotPreview&&(this.refs.inputEl.style.pointerEvents="none",this.refs.progressBar.addEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.addEventListener("touchstart",this.onSeekMobile))},componentWillUnmount:function(){s.isMobileAndNotPreview&&(this.refs.progressBar.removeEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),e.touches&&1===e.touches.length&&(t=this.refs.progressBarInner.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.refs.inputEl.value=i*this.props.duration,this.props.rangeslideVideoControls({target:this.refs.inputEl}))},currentTimeFormatted:function(){return i.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return i.formatSecondsAsTime(this.props.duration||0)}});return o}),define("views/presentation/VideoPlayer",["require","lodash","react","helpers/pubSub","views/mixins/baseView","mixins/captionable","helpers/videoManager","polyfills/vendorOverrides","polyfills/detection","helpers/vow","helpers/utils","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("helpers/pubSub"),e("views/mixins/baseView")),r=e("mixins/captionable"),s=e("helpers/videoManager"),o=e("polyfills/vendorOverrides"),a=e("polyfills/detection"),l=e("helpers/vow"),u=e("helpers/utils"),c=e("helpers/errorManager"),h=c.throwError("VideoPlayer"),p=o.buildCaptionTracks||t.noop,d=o.onCaptionsEnabled||t.noop,f=o.offCaptionsEnabled||t.noop,m=function(e,t){var i;switch(e){case"onDurationChange":i=t.target.duration;break;case"onTimeUpdate":i=t.target.currentTime;break;default:i=t}return i},g=i.createClass({displayName:"VideoPlayer",mixins:[n,r],getInitialState:function(){return{currentTime:0}},componentWillMount:function(){this.onTimeUpdateHandler=t.partial(this.onEvent,"onTimeUpdate"),this.onDurationChangeHandler=t.partial(this.onEvent,"onDurationChange"),this.onPlaybackEndedHandler=t.partial(this.onEvent,"onPlaybackEnded"),this.onLoadedDataHandler=t.partial(this.onEvent,"onLoadedData"),this.canPlayDfd=new l.Deferred,this.videoEl=s.getVideoElement(this.props.src),p(this.videoEl,this.getAssetId()),this.bindVideoEventListeners(),u.parseUrl(this.videoEl.src).pathname!==u.parseUrl(this.props.src).pathname&&(this.videoEl.src=this.props.src),this.videoEl.volume=this.props.currentVolume,this.videoEl.readyState>=this.videoEl.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():(this.videoEl.addEventListener("canplay",this.canPlayDfd.resolve),this.videoEl.addEventListener("canplaythrough",this.canPlayDfd.resolve)),this.canPlayDfd.done(function(){this.videoEl.currentTime=this.state.currentTime,this.props.duration!==this.videoEl.duration&&this.props.onDurationChange(this.videoEl.duration)}.bind(this)),d(this.enableCaptioning)},componentDidMount:function(){this.refs.container.appendChild(this.videoEl),this.videoEl.setAttribute("playsinline",""),this.setVolume(this.props.currentVolume),this.props.isPlaying&&this.play()},componentDidUpdate:function(e,t){var i=e.isPlaying,n=this.props.isPlaying;this.setVolume(this.props.currentVolume),i!==n&&this[this.props.isPlaying?"play":"pause"](),this.props.slideVisible===!1&&this.publishCurrentTime()},componentWillUnmount:function(){this.canPlayDfd.reject(),this.videoEl.removeEventListener("canplay",this.canPlayDfd.resolve),this.unbindVideoEventListeners(),null!=this.videoEl.parentNode&&this.videoEl.parentNode.removeChild(this.videoEl),f(this.enableCaptioning)},enableCaptioning:function(e){var t;this.videoEl.textTracks&&this.videoEl.textTracks.length>0&&(t=this.videoEl.textTracks[0],t.mode=e?"showing":"hidden")},getAssetId:function(){return this.props.assetId},getCurrentTime:function(){return this.videoEl.currentTime},isVideo:function(){return!0},onTimeUpdate:function(){var e=this.videoEl.currentTime;this.setState({currentTime:e}),a.isIosPhoneBefore10()||this.publishCurrentTime()},play:function(){if(l.isResolved(this.canPlayDfd)){var e=this.videoEl.play();this.setState({hasEverPlayed:!0}),null!=e&&e["catch"](function(e){"AbortError"===e.name&&20===e.code||h("play",e.message)})}else this.canPlayDfd.done(this.play)},pause:function(){this.videoEl.pause()},seek:function(e){this.setState({currentTime:e}),this.canPlayDfd.done(function(){this.videoEl.currentTime=e}.bind(this)),a.isIosPhoneBefore10()||this.publishCurrentTime()},ended:function(){return this.videoEl.ended},onEvent:function(e,t){null!=this[e]&&this[e](t),null!=this.props[e]&&this.props[e](m(e,t))},onEndFullScreen:function(){this.videoEl.paused&&this.props.pause()},updateVideoEventHandlers:function(e){var i={timeupdate:this.onTimeUpdateHandler,durationchange:this.onDurationChangeHandler,ended:this.onPlaybackEndedHandler,loadeddata:this.onLoadedDataHandler,webkitendfullscreen:this.onEndFullScreen};t.forOwn(i,function(t,i){this.videoEl[e?"addEventListener":"removeEventListener"](i,t)}.bind(this))},setVolume:function(e){null!=this.videoEl&&(this.videoEl.volume=e,this.videoEl.muted=0===e)}}),v=g.prototype;return t.extend(v,{bindVideoEventListeners:t.partial(v.updateVideoEventHandlers,!0),unbindVideoEventListeners:t.partial(v.updateVideoEventHandlers,!1)}),g}),define("templates/templates",["require","react","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","views/SvgLibrary","views/presentation/MainWindow","views/player/MobileStartOverlay","views/presentation/PopupWindow","views/presentation/SlideLockCursor","views/player/MobileDisabledOrientation","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/SubmitAllButton","views/player/CaptionBtn","polyfills/detection","views/player/PlaybackControls","views/player/SlideRelatedActions","views/player/MobileSearchButton","polyfills/detection","views/player/CaptionBtn","views/player/FullscreenBtn","views/presentation/VectorTextItem","views/player/Icon","polyfills/detection","views/presentation/VectorTextItem","helpers/svg/svgUtils","views/presentation/VectorTextItem","helpers/svg/svgUtils","views/presentation/VectorTextItem","views/presentation/DropListItem","helpers/svg/svgUtils","views/presentation/ScrollBar","polyfills/detection","views/presentation/LinearBackgroundGradient","views/presentation/SlideObject","views/player/Icon","views/player/GlossaryTerms","views/player/GlossaryDefinition","helpers/utils","views/presentation/SlideObject","helpers/utils","helpers/svg/svgUtils","helpers/assetManager","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/player/MenuLinksListItem","views/player/MenuLinksList","views/player/Icon","views/presentation/SlideContainer","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","polyfills/detection","views/player/NotesHeader","views/player/NotesList","views/presentation/VectorTextItem","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/Icon","views/player/Icon","helpers/stringTabler","lodash","views/presentation/PresentationOverlay","views/player/Icon","helpers/stringTabler","helpers/stringTabler","views/player/PresenterVideo","helpers/utils","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","helpers/utils","views/presentation/SlideObject","views/presentation/VectorSlideObject","views/presentation/ScrollBar","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","views/player/MenuLinksList","views/presentation/SequenceCtrlDrop","views/presentation/SequenceCtrlDragItem","views/presentation/ScrollBar","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","views/player/TabPanel","views/player/SidebarTab","views/player/SearchFooter","views/player/Presenter","views/presentation/SlideLayer","views/presentation/SlideBackground","views/presentation/VectorSlideBackground","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/utils","polyfills/detection","helpers/windowManager","views/player/Captions","views/presentation/Slide","lodash","lodash","views/presentation/Slide","views/presentation/VectorSlideObject","views/presentation/SlideObject","views/presentation/AudioPlayer","views/presentation/SlideBackground","views/player/SlideLoaderIndicator","views/player/RelativeNavControls","views/player/RelativeNavControls","views/presentation/SlideObject","polyfills/detection","views/player/Icon","views/player/SlideControlButton","helpers/constants","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/presentation/VectorSlideObject","helpers/utils","helpers/svg/svgUtils","polyfills/detection","views/player/TopTabsItem","views/player/TabPanel","views/player/TopTabs","views/player/Timer","views/player/ElapsedAndTotalTime","views/player/Icon","views/player/Bottombar","views/player/SidebarMobile","views/player/MobileSearchButton","views/presentation/VectorBackground","lodash","views/presentation/VectorTextItem","views/presentation/VectorTextHitArea","helpers/utils","views/player/Icon","polyfills/detection","helpers/utils","views/presentation/VideoControls","views/presentation/VideoPlayer","views/player/Icon","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","polyfills/detection","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","helpers/utils","views/player/GlossaryTerms","views/player/GlossaryDefinition","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/NotesHeader","views/player/NotesList","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","views/player/TabPanel","lodash","views/player/TopTabsItem","views/player/TopTabs","views/player/Timer","views/player/Icon","views/player/ElapsedAndTotalTime"],function(e){
var t=e("react");return{AnnotationSlideObject:function(){var e=this.props.model,i=this.state.Innard;return t.createElement(i,{model:e,ref:"innard"})},App:function(){var i,n=e("polyfills/detection"),r=e("views/SvgLibrary"),s=e("views/player/Topbar"),o=e("views/presentation/MainWindow"),a=e("views/player/Sidebar"),l=e("views/player/SlideLoaderOverlay"),u=e("helpers/cssPrefix"),c=e("views/presentation/PopupWindow"),h=e("views/presentation/SlideLockCursor"),p=e("helpers/svg/svgUtils"),d=this.props.player.get("fontscale")+"%",f=["presentation-wrapper","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" "),m=function(e){var t;return null==e||(t=parseFloat(e,10),isNaN(t))?1:t.toFixed(2)},g=this.props.presentation.display().get("height"),v=this.props.presentation.display().get("width"),y=this.state.isTooTall,b=this.state.isTooWide,w={height:g,width:v,fontSize:d,lineHeight:d},S=[],x=this.state.scale,T=m(x),C={};return n.isMobile||(w.transformOrigin="0 0",w.top=y?0:Math.ceil(window.innerHeight/2-g*T/2),w.left=b?0:Math.ceil(window.innerWidth/2-v*T/2)),null!=x&&(i=p.transformScale(T),S.push(i),C[u.camelCase("transform")]=i),w[u.camelCase("transform")]=S.join(" "),t.createElement("div",{id:"presentation-container",className:"non-eventable"},t.createElement("div",{id:"presentation",style:w,className:f},t.createElement(r,{ref:"svgLib"}),this.props.player.get("presenters")&&t.createElement(c,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&t.createElement(a,{ref:"sidebar",model:this.props.player,width:v,height:g}),t.createElement("div",{ref:"primary",className:"area-primary cs-area-primary",style:{height:g}},this.props.presentation.get("debugMode")&&t.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&t.createElement(s,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),t.createElement(o,{ref:"mainWindow",player:this.props.player}))),t.createElement(h,null),t.createElement("div",{id:"overlay-container-controls",style:C,className:"non-eventable"}),t.createElement("div",{id:"overlay-container",style:C,className:"non-eventable"}),t.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:[["cs-",this.props.state.currentScheme()].join(""),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{style:w,className:"app-top"},t.createElement("div",{id:"app-top-container",styles:w}),t.createElement("div",{id:"app-top-overlay"})),t.createElement("div",{id:"presentation-canvas"}),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),this.state.showLoader&&t.createElement(l,null))},AppMobile:function(){var i=e("views/SvgLibrary"),n=e("views/presentation/MainWindow"),r=e("views/player/MobileStartOverlay"),s=e("views/presentation/PopupWindow"),o=e("views/presentation/SlideLockCursor"),a=e("views/player/MobileDisabledOrientation"),l=["opaque"].join(" ");return t.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},t.createElement("div",{id:"presentation",className:l},t.createElement(n,{ref:"mainWindow",player:this.props.player,timers:this.props.presentation.timers(),hasUi:this.hasMobileUi()}),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{id:"presentation-canvas"})),t.createElement(o,null),t.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),t.createElement("div",{id:"overlay-container",className:"non-eventable"}),t.createElement("div",{id:"overlay"}),t.createElement("div",{id:"overlay-mobile"},t.createElement(r,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),t.createElement(i,{ref:"svgLib"}),t.createElement("div",{id:"app-top-container"}),t.createElement("div",{id:"app-top-overlay"}),this.props.player.get("presenters")&&t.createElement(s,{presenters:this.props.player.get("presenters")}),t.createElement(a,{orientations:this.state.orientations}))},Bottombar:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/VolumeControls"),r=e("views/player/SlideRelatedActions"),s=e("views/player/SubmitAllButton"),o=e("views/player/CaptionBtn"),a=e("polyfills/detection");return t.createElement("div",{className:"controls grid-row inflexible"},!a.isMobile&&t.createElement(s,{slide:this.props.slide}),this.hasVolume()&&t.createElement(n,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null)),this.hasSeekbar()&&t.createElement(i,{ref:"playbackControls",slide:this.props.slide,readonly:this.isReadOnly()}),t.createElement(r,{ref:"slideRelatedActions",handledSubmitAll:!0,slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},BottombarMobile:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/SlideRelatedActions"),r=e("views/player/MobileSearchButton"),s=e("polyfills/detection"),o=e("views/player/CaptionBtn"),a=e("views/player/FullscreenBtn");return t.createElement("div",{className:"slide-controls"},this.hasSeekbar()&&this.props.slide?t.createElement(i,{ref:"playbackControls",slide:this.props.slide,timeline:this.props.slide&&this.props.slide.currentTimeline(),hasCaption:this.hasCaption(),readonly:this.isReadOnly()}):t.createElement("div",{className:"playback-controls"},s.is360&&t.createElement(a,{handleFullScreen:this.handleFullScreen}),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null))),t.createElement(n,{ref:"slideRelatedActions",slide:this.props.slide,player:this.props.player,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase(),timers:this.props.timers}),this.props.hasSearch&&t.createElement(r,{toggleSearchUi:this.props.toggleSearchUi}))},ButtonSlideObject:function(){var i=e("views/presentation/VectorTextItem"),n=this.getPath("props.model.data.textdata.vectortext.pr")||{};return t.createElement("button",{type:"button","data-accepts":"events",className:this.getClassNames()},t.createElement("svg",{className:"slide-object-button-text"},t.createElement(i,{ref:"vectortext",commandsetId:n.i,pathLib:n.l})))},CaptionBtn:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),r="cs-tabs cs-selected";return n.isMobile&&(r="button-tapped"),t.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?r:""].join(" "),onClick:this.toggleCaption},t.createElement(i,{key:"Caption",type:"Caption"}),t.createElement("span",{className:"accessibility"},this.state.i18ncaption))},Captions:function(){return t.createElement("div",{className:"caption",style:{fontFamily:this.state.font}},this.state.captions.map(function(e,i){return t.createElement("div",{key:i},t.createElement("p",{dangerouslySetInnerHTML:{__html:this.toHtml(e)}}))}.bind(this)))},DragdropSlideObject:function(){var i=e("views/presentation/VectorTextItem"),n=e("helpers/svg/svgUtils"),r=this.getPath("props.model.style"),s=this.getPath("props.model.height"),o=this.getPath("props.model.width"),a=this.getPath("props.model.kind"),l=this.props.notchWidth,u=this.props.notchHeight,c=l+1,h=u+1,p=this.state.hovered&&"droparea"!==a,d=n.buildUrl(p?"dragdrop-hover-gradient":"dragdrop-gradient"),f=p?"slide-object-dragitem-hover":"",m=this.state.collision&&"droparea"===a,g="dragitem"===a,v=[["M "+c,0].join(","),["L"+o,0].join(","),["L"+o,s].join(","),["L"+c,s].join(","),["L"+c,s-h].join(","),["L 1",s-h].join(","),["L 1",h].join(","),["L"+c,h].join(","),"Z"].join(" "),y=["M 0,0",["L"+o,0].join(","),["L"+o,u].join(","),["L"+(o-l),u].join(","),["L"+(o-l),s-u].join(","),["L"+o,s-u].join(","),["L"+o,s].join(","),["L 0",s].join(","),"Z"].join(" "),b={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:""};return t.createElement("svg",{width:o,height:s,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+r,"draggable",f].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},"wordbank"===r?t.createElement("rect",{width:o-1,height:s-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:d,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:b,transform:"translate(0.5, 0.5)"}):t.createElement("path",{d:g?v:y,className:"slide-object-dragdrop-shape",fill:d,style:m?{strokeWidth:3}:{},filter:!m&&"url(#dragdrop-inner-stroke)",strokeDasharray:g&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&t.createElement("rect",{width:o-1,height:s-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),t.createElement("g",{transform:n.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},null!=this.state.textCommandsetId&&t.createElement(i,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),"matching"===r&&this.state.reviewDot&&t.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},t.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),t.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),t.createElement("text",{textAnchor:"middle",y:"4"},t.createElement("tspan",null,this.getPath("props.model.reviewdata")))))},DropListItem:function(){var i=e("views/presentation/VectorTextItem"),n=e("helpers/svg/svgUtils");return t.createElement("g",{className:"drop-list-item",transform:n.transformTranslate(0,this.props.yOff),onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.didMouseOver,onTouchEnd:_.flow(this.onClick,this.didMouseOut)},t.createElement("rect",{width:this.props.width,height:this.props.height,className:this.fillColorClass()}),t.createElement(i,{ref:"vectortext",commandsetId:this.props.pr.i,pathLib:this.props.pr.l}))},DropListParentable:function(){var i=e("views/presentation/VectorTextItem"),n=e("views/presentation/DropListItem"),r=e("helpers/svg/svgUtils"),s=e("views/presentation/ScrollBar"),o=e("polyfills/detection"),a=this.state.reviewWidth||this.getPath("props.model.width"),l=this.getPath("props.model.height"),u=this.state.pr,c=8,h=25,p=a-h+1,d=this.state.hovered?"#d5ffff":"white",f="#cecece",m=("item-list-clip"+this.props.model.id,this.getItemHeight()),g=this.getListHeight(),v=o.isMobile&&"none",y=-4;return t.createElement("div",{className:"drop-list"},t.createElement("div",{className:["is-scrollable","drop-list-drop-down"].join(" "),ref:"dropdown",style:{width:a,borderColor:f,display:this.state.display,borderRadius:2*c,paddingTop:l}},t.createElement("div",{className:["drop-list-drop-down-inner",this.state.dropDownScrollable].join(" "),ref:"dropdownInner",style:{display:v}},t.createElement("svg",{className:"eventable",width:a,height:g,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("g",null,this.itemslist.map(function(e,i){var r=this.props.model.itemsIdx[e.itemdata];return t.createElement(n,{ref:"item"+r,order:i,key:e.textdata.uniqueId,idx:r,width:a,height:m,yOff:m*i,pr:e.textdata.vectortext.pr,selected:this.focusItem})}.bind(this))))),this.state.dropDownScrollable&&!o.isIE()&&t.createElement(s,{ref:"scrollBar",offY:l,offX:y,width:a,height:this.state.scrollBarHeight-l,parent:this,closedHeight:l,refName:"dropdownInner",initSelf:!0})),t.createElement("div",{className:"drop-list-top-container"},t.createElement("svg",{width:a,height:l,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100}},t.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:_.flow(this.didMouseOver,this.onShowList),onTouchEnd:this.didMouseOut},t.createElement("rect",{width:a-1,height:l-1,rx:c,ry:c,stroke:f,fill:"white"}),t.createElement(i,{ref:"vectortext",commandsetId:u.i,pathLib:u.l}),t.createElement("path",{d:r.rightRoundedRectPath(p,1,h-3,l-3,c),fill:"url(#drop-list-gradient)",stroke:d}),t.createElement("path",{d:["M",a-h,0,"v",l-1].join(" "),stroke:"#cecece"}),t.createElement("g",{transform:r.transformTranslate(p+5.5,c+1)},t.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"}))))),o.isMobile&&t.createElement("select",{ref:"mobileDrop",className:"mobile-drop-list",style:{width:a,opacity:0}},t.createElement("option",null,"-- Select --"),this.itemslist.map(function(e,i){var n=this.props.model.itemsIdx[e.itemdata];return t.createElement("option",{key:e.textdata.uniqueId,ref:"item"+n,"data-order":i,value:n},e.textdata.altText)}.bind(this))))},DropListSlideObject:function(){return t.createElement("div",null)},ElapsedAndTotalTime:function(){return t.createElement("span",{className:"elapsed-and-total-time"},"(",this.renderTimer(),")")},ExpandingLabelSlideObject:function(){var i,n=e("views/presentation/LinearBackgroundGradient"),r=e("views/presentation/SlideObject"),s=this.shouldShowContent(),o=6;return t.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},t.createElement("svg",{className:["expanding-label-path",s?"content-shown":""].join(" "),style:{left:this.labelTranslate.offX,top:this.labelTranslate.offY,width:this.labelSize.width,height:this.labelSize.height}},this.props.model.background()&&t.createElement("defs",null,t.createElement(n,{patternFillId:this.patternFillId(),model:this.props.model,isInnard:!0})),t.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},t.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),t.createElement("div",{className:"expanding-label",style:{width:this.props.playerProps.width}},t.createElement("div",{className:"expanding-label-content",style:this.getContentStyles()},this.svg(),t.createElement("div",{className:s?"shown":"hidden"},this.props.model.objects().map(function(e,n){return i={ref:"obj"+n,key:e.cid,model:e,playerProps:this.props.playerProps,parent:this,checkElso:this.props.checkElso,slideVisible:this.props.slideVisible,onElsoAction:this.props.onElsoAction},e.isKind("scrollarea")&&(i.topOffset=o),t.createElement(r,t.__spread({},i))}.bind(this))))))},FullscreenBtn:function(){var i=e("views/player/Icon");return t.createElement("button",{className:"cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchStart:this.props.handleFullScreen},t.createElement("span",{className:"enterFullScreen-360"},t.createElement(i,{type:"enterFullScreen"})),t.createElement("span",{className:"exitFullScreen-360"},t.createElement(i,{type:"exitFullScreen"})))},Glossary:function(){var i=e("views/player/GlossaryTerms"),n=e("views/player/GlossaryDefinition");return t.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},t.createElement("section",{className:"panel-section"},t.createElement("header",{className:"panel-section-header"},t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nterms),t.createElement("hr",{className:"cs-diva diva"})),t.createElement(i,{collection:this.props.collection,onTermChosen:this.revealTerm,curTitle:this.state.curTitle,ref:"glossaryTerms"})),t.createElement("section",{className:"panel-section cs-editor"},t.createElement("header",{className:"panel-section-header"},t.createElement("hr",{className:"cs-divb divb"}),t.createElement("hr",{className:"cs-divc divc"}),t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18ndefinition),t.createElement("hr",{className:"cs-diva diva"})),t.createElement(n,{curTitle:this.state.curTitle,curDefinition:this.state.curDefinition,ref:"glossaryDefinition"})))},GlossaryDefinition:function(){return t.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),id:"glossary-definition",style:{outlineOffset:"-3px"},tabIndex:"-1"},t.createElement("dl",{className:"unstyled"},t.createElement("dt",{className:"term-word hidden"},this.props.curTitle),t.createElement("dd",{className:"term-definition html-reset cs-editor-html"},this.props.curDefinition.split(/\n/).map(function(e,i){return t.createElement("p",{key:i},e)}))))},GlossaryMobile:function(){var i=e("helpers/utils");return t.createElement("div",{className:"glossary"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement("h4",{className:"panel-section-heading"},this.state.i18nterms)),t.createElement("div",{className:"panel-section-content",role:"complementary"},t.createElement("dl",null,this.props.collection.map(function(e,n){return t.createElement("div",{key:n},t.createElement("dt",null,e.get("title")),t.createElement("dd",{dangerouslySetInnerHTML:{__html:i.stripTags(e.get("content"))}}))}.bind(this)))))},GlossaryTerms:function(){return t.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},t.createElement("ul",{className:"choice-list"},this.props.collection.map(function(e,i){var n=this.props.curTitle===e.get("title");return t.createElement("li",{className:"term cs-term "+(n?"cs-selected active":""),key:i},t.createElement("button",{className:"choice-list-trigger cs-choice-list-trigger list-item",onClick:this.termChosen.bind(this,i)},e.get("title")))}.bind(this))))},GroupingSlideObject:function(){var i=e("views/presentation/SlideObject");return t.createElement("div",{className:"group"},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,model:e,parent:this,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction})}.bind(this)))},ImageSlideObject:function(){var i,n,r=e("helpers/utils"),s=e("helpers/svg/svgUtils"),o=e("helpers/assetManager"),a={width:this.props.playerProps.width,height:this.props.playerProps.height},l={left:this.props.model.get("btnxpos"),top:this.props.model.get("btnypos")},u=this.props.model.getCurrentStateData(),c=o.getAssetUrl(u.imagedata.assetId);return null!=u.html5data?(i=u.html5data.xPos,n=u.html5data.yPos):(i=this.props.model.get("xOffset"),n=this.props.model.get("yOffset")),l[this.cssTransform]=["translate(-50%, -50%)",s.transformTranslate(r.pxify(-i),r.pxify(-n)),s.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),t.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:s.transformTranslate(r.pxify(i),r.pxify(n))}},this.props.model.isZoomable()?t.createElement("div",null,t.createElement("img",{src:c,onClick:this.onClick}),t.createElement("div",{ref:"zoom",className:"zoom eventable",style:a,onClick:this.onClick},t.createElement("img",{className:"zoom-image",style:l,src:this.props.model.get("zoomiconurl")}))):t.createElement("img",{src:c}))},LightBox:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),r=e("views/player/CaptionBtn"),s=e("views/player/SlideRelatedActions"),o=e("views/player/Icon"),a={};return this.props.hasControls?a.position="absolute":(a.marginTop="7px",a["float"]="right",a.marginBottom="7px"),t.createElement("span",null,t.createElement(i,null),t.createElement("div",{className:["cs-",this.getPath("props.state.currentScheme")," lightbox-wrapper"].join("")},t.createElement("div",{className:["cs-base","lightbox","wn-"+this.props.model.id,"cs-"+this.getPath("props.state.currentScheme")].join(" "),style:{width:this.props.model.get("width")},"data-window-id":this.props.model.id},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement(o,{type:"close"})),t.createElement("div",{className:"slide-wrapper",style:{height:this.slideWrapperHeight}},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id})),(this.props.hasControls||this.hasCaption())&&t.createElement("div",{className:"controls"},this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible",style:a},t.createElement(r,null)),this.props.hasControls&&t.createElement(s,{ref:"actions",slide:this.state.currentSlide,windowId:this.props.model.id,lightboxed:!0,isRtl:this.props.isRtl})))))},LightBoxMobile:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),r=e("views/player/CaptionBtn"),s=e("views/player/SlideRelatedActions"),o=e("views/player/Icon");return t.createElement("div",{className:"mobile-lightbox"},t.createElement(i,null),t.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),t.createElement("div",{ref:"optionPane",className:"option-pane"},t.createElement("div",{className:"slide-controls"},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement("span",{className:"btn-icon"},t.createElement(o,{type:"close"}))),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(r,null)),this.props.hasControls&&t.createElement(s,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),t.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},t.createElement(o,{type:"close"})))},LinearBackgroundGradient:function(){return t.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.fill().rotation," 0.5 0.5)"].join("")},this.fill().colors.map(function(e,i){return t.createElement("stop",t.__spread({key:i,offset:this.stopPct(e)+"%"},this.stopProps(e)))}.bind(this)))},MainWindow:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Bottombar"),r=e("views/presentation/SlideWindowBackground"),s=this.getBackground();return t.createElement("div",{id:"main-window"},t.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=s&&t.createElement(r,{bg:s}),t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),this.state.currentSlide&&this.hasBottomBar()&&t.createElement(n,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowMobile:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Captions"),r=e("views/player/UiMobile");return t.createElement("div",{ref:"primary",id:"main-window"},t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),t.createElement(n,null),this.props.hasUi&&t.createElement(r,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers}))},Menu:function(){var i=e("views/player/SearchOptions"),n=e("views/player/SearchResults"),r=e("views/player/SearchFooter"),s=e("polyfills/detection"),o=this.props.options.get("wrapListItems"),a=this.props.options.get("autonumber"),l=this.props.options.get("enableResultsIcons");return t.createElement("div",{className:"outline-panel cs-outline"},s.isMobile&&t.createElement("div",{className:"mobile-menu-title"},this.props.title),t.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&t.createElement(i,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),t.createElement(n,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:o,autonumber:a,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,enableResultsIcons:l,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})),!s.isMobile&&this.props.hasSearch&&t.createElement(r,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}))},MenuLinksList:function(){var i=e("views/player/MenuLinksListItem");return t.createElement("ol",{"aria-expanded":this.props.showChildren?"true":"false",className:"outline-list",role:this.getAriaRole()},this.props.links.map(function(e,n){return t.createElement(i,{link:e,key:n,ref:"menuLinksListItem"+n,shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,hasAnyLink:this.props.hasAnyLink,wrap:this.props.wrap,enableResultsIcons:this.props.enableResultsIcons,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level,parentItem:this})}.bind(this)))},MenuLinksListItem:function(){var i,n=e("views/player/MenuLinksList"),r=e("views/player/Icon"),s=this.props.link.get("slideid"),o=this.props.link.get("slidetitle"),a=this.props.link.get("displaytext");return o=null==o?"":o,a=null==a?"":a,i=this.props.showDisplayText||!o?a.toString():o.toString(),propsIsActionLink={},this.isActionLink()&&(propsIsActionLink["data-actionlink"]=""),t.createElement("li",{className:[this.state.expanded===!1?"outline-links-collapse":"",this.props.link.links().length>0?"item-collapsible":"",this.props.wrap===!0?"wrap-item":"",this.state.itemRestricted===!0?"outline-links-restriced":"","menu-item-status-"+this.isSlideCorrect(s),"slide-lockable"].join(" "),role:"presentation"},t.createElement("a",t.__spread({className:["cs-listitem list-item",this.isSlideSelected(s)?"cs-selected menu-item-selected":"",this.isSlideViewedOrCurrentParent(s)?"cs-viewed":"",this.state.touched?"touched-link":""].join(" "),href:this.linkSlide(s),onTouchStart:this.onSelectMenuItem,onTouchEnd:this.onTouchEnd,onMouseDown:this.previewMouseEvent(this.onSelectMenuItem),onMouseUp:this.previewMouseEvent(this.onTouchEnd),onClick:this.props.onClick,title:this.props.wrap===!1&&this.props.tips===!0?(this.props.autonumber?this.getAutoNumber():"")+i:"",role:"treeitem"},propsIsActionLink),this.props.showChildren&&this.props.link.links().length>0&&t.createElement("span",{className:"svg-icon-wrapper icon-carrot",onClick:this.toggle},t.createElement(r,{type:"carrot"})),t.createElement("span",null,i)),this.props.showChildren&&this.props.link.links().length>0&&t.createElement(n,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,links:this.props.link.links(),onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level+1,parentItem:this}))},MessageWindow:function(){var i=e("views/presentation/SlideContainer"),n=e("polyfills/detection");return t.createElement("span",null,t.createElement("div",{className:"overlay overlay-message"}),t.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:this.getPath("props.model.width"),height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},t.createElement("header",{className:"message-window-header"},t.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),t.createElement("hr",{className:"cs-diva"}),t.createElement("hr",{className:"cs-divb"})),t.createElement(i,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"}),n.isMobile&&t.createElement("div",{className:"message-window-mobile-text"},this.state.mobileText)))},MobileDisabledOrientation:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),r=["mobile-disabled-orientation-overlay",_.contains(this.props.orientations.tablet,"portrait")?"tablet-portrait":"",_.contains(this.props.orientations.tablet,"landscape")?"tablet-landscape":"",_.contains(this.props.orientations.phone,"portrait")?"phone-portrait":"",_.contains(this.props.orientations.phone,"landscape")?"phone-landscape":"",!n.isMobilePreview&&window.self!==window.top||this.state.forceHide?"hidden":""];return t.createElement("div",{className:r.join(" ")},t.createElement("div",{className:"mobile-disabled-orientation-overlay-inner"},t.createElement("div",{className:"mobile-disabled-orientation-overlay-icon"},t.createElement(i,{type:"DisabledOrientation"})),t.createElement("div",null,this.state.i18ndisabled_orientation)))},MobileSearchButton:function(){var i=e("views/player/Icon");return t.createElement("div",{className:"mobile-search-button"},t.createElement("button",{onTouchEnd:this.props.toggleSearchUi,onMouseUp:this.previewMouseEvent(this.props.toggleSearchUi)},t.createElement(i,{key:"Search",type:"Search"})))},MobileStartOverlay:function(){var i=e("polyfills/detection");return t.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},t.createElement("svg",{ref:"playIcon",viewBox:"-10 -10 80 80",onMouseDown:this.previewMouseEvent(this.onStart)},i.is360&&t.createElement("circle",{fill:"white",cx:"32",cy:"32",r:"11"}),t.createElement("path",{transform:i.is360&&i.isIOS?"translate(15, 15) scale(0.5)":"",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})))},Notes:function(){var i=e("views/player/NotesHeader"),n=e("views/player/NotesList");return t.createElement("div",{className:"cs-transcript transcript"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement(i,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),t.createElement("hr",{className:"cs-div panel-relative-hr"})),t.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",role:"complementary"},t.createElement(n,{
ref:"notesList",commandsetId:this.state.commandsetId,pathLib:this.state.pathLib,notesHtml:null==this.state.commandsetId?this.getNotesHtml():""})))},NotesHeader:function(){return t.createElement("h4",{className:"panel-heading panel-section-heading cs-heading"+(this.state.tabFocused?" focused":"")},this.props.currentSlideTitle)},NotesList:function(){var i=e("views/presentation/VectorTextItem"),n=null!=this.props.commandsetId;return t.createElement("p",{className:"cs-editor-html editor-html"+(this.state.tabFocused?" focused":""),style:{marginLeft:n&&-9}},n?t.createElement("svg",{ref:"svgNotes",className:"svg-notes"},t.createElement(i,{ref:"vectortext",commandsetId:this.props.commandsetId,pathLib:this.props.pathLib})):t.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.notesHtml}}))},ObjectSlideBackground:function(){return t.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},t.createElement("use",{xlinkHref:"#slide-bg-"+this.getSlideId()}))},PlaceHolderSlideObject:function(){return t.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())},PlayPauseButton:function(){var i=e("views/player/Icon"),n=e("helpers/svg/svgUtils"),r=e("polyfills/detection"),s=this.state.isPlaying?"pause":"play";return t.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.stateable_pauseplay?"":"hidden ")+(this.state.tabFocused?"focused":""),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},r.isMobile&&t.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:this.state.showCircleProgress?"block":""}},t.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),t.createElement("path",{d:n.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:"white",stroke:"none"}),t.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"#31373a",stroke:"none"})),t.createElement(i,{key:s,type:s}),t.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControls:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),r=e("views/player/PlaybackResetButton");return t.createElement("div",{className:"controls-group control-bar cs-seekcontrol progress-control"},t.createElement("div",{className:"grid-row"},t.createElement(i,{ref:"playPauseButton",timeline:this.state.timeline}),t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),t.createElement(r,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackControlsMobile:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),r=(e("views/player/PlaybackResetButton"),e("views/player/CaptionBtn")),s=e("polyfills/detection"),o=e("views/player/FullscreenBtn");return t.createElement("div",{className:"playback-controls"},t.createElement(i,{ref:"playPauseButton",timeline:this.state.timeline}),t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),s.is360&&t.createElement(o,{handleFullScreen:this.handleFullScreen}),this.props.hasCaption&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(r,null)))},PlaybackProgress:function(){var e=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile":""].join(" ");return t.createElement("div",{className:e},t.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},t.createElement("div",{className:"cs-seek progress-bar-seek"},t.createElement("div",{className:"cs-fill progress-bar-fill",style:{width:100*this.state.progress+"%"}})),t.createElement("input",{type:"range",min:"0",max:"1",ref:"input",onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},PlaybackResetButton:function(){var i=e("views/player/Icon"),n="cs-button btn-reset btn-unstyled force-unstyled inflexible "+(this.state.stateable_replay?"":"hidden ")+(this.state.tabFocused?"focused":"");return t.createElement("button",{className:n,onClick:this.resetPlayhead},t.createElement(i,{type:"playbackReset"}),t.createElement("span",{className:"accessibility"},this.state.i18nacc_replay))},PopupWindow:function(){var i=e("views/player/Icon"),n=e("helpers/stringTabler"),r={zIndex:100},s={height:"171px",overflowY:"auto"};return t.createElement("div",{className:"popup"+(this.state.show?" show":""),style:r},t.createElement("div",{className:"message-window popup-pane cs-infopanelpopup"},t.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled lightbox-close-btn--large",onClick:this.closePopup},t.createElement(i,{type:"close"})),t.createElement("p",{style:s},t.createElement("strong",{className:"cs-name"},this.state.presenter.name),t.createElement("em",{className:"cs-name cs-title"},this.state.presenter.title),t.createElement("span",{className:"cs-bio popup-bio"},this.state.presenter.biotext)),this.hasEmail()&&t.createElement("a",{href:"#",className:"popup-send-email cs-link",onClick:this.sendEmail},n.getString("send_an_email")),t.createElement("a",{href:"#",className:"popup-close cs-link",onClick:this.closePopup},n.getString("close"))))},PopupWindowMobile:function(){var i=e("lodash"),n=e("views/presentation/PresentationOverlay"),r=e("views/player/Icon"),s=e("helpers/stringTabler"),o=this.state.presenter,a=o.name,l=o.title,u=!i.isEmpty(l),c=o.biotext,h=!i.isEmpty(c),p=o.mobilephoto,d=!i.isEmpty(p),f=o.email,m=!i.isEmpty(f),g=["popup"],v=["popup-pane"];return this.state.show&&g.push("show"),d&&v.push("with-photo"),m&&v.push("with-email"),t.createElement("div",{className:g.join(" ")},t.createElement(n,null),t.createElement("button",{ref:"close",className:"popup-close-btn btn-unstyled",onClick:this.closePopup},t.createElement(r,{type:"close"})),t.createElement("div",{className:"popup-panel-scroller is-scrollable"},t.createElement("div",{className:"popup-panel-container"},t.createElement("div",{className:v.join(" ")},t.createElement("div",{className:"popup-name"},a),u&&t.createElement("div",{className:"popup-title"},l),h&&t.createElement("div",{className:"popup-bio"},c),d&&t.createElement("div",{className:"popup-photo",role:"img",style:{backgroundImage:['url("',p,'")'].join("")},"aria-label":a}),m&&t.createElement("div",{className:"popup-email",role:"link","aria-label":s.getString("send_an_email"),onClick:this.sendEmail},t.createElement(r,{type:"email"}))))))},PresentationOverlay:function(){return t.createElement("div",{className:["overlay",this.displayClass(),this.props.className||""].join(" ")})},Presenter:function(){var i=e("helpers/stringTabler"),n=e("views/player/PresenterVideo"),r=e("helpers/utils");return t.createElement("div",{className:"presenter inflexible cs-infopanel"},this.props.video&&t.createElement(n,{video:this.props.video}),this.props.presenter&&t.createElement("div",{className:"presenter-info"},this.props.presenter.mobilephoto&&!this.props.video&&t.createElement("div",{className:"mobile-photo"},t.createElement("img",{src:this.props.presenter.mobilephoto,alt:this.props.presenter.name})),t.createElement("div",{className:"presenter-info-wrapper"},t.createElement("div",{ref:"name",className:"presenter-name cs-name"+(this.props.presenter.name?"":" hidden"),tabIndex:"-1"},this.props.presenter.name),t.createElement("div",{ref:"title",className:"presenter-title cs-title"+(this.props.presenter.title?"":" hidden"),tabIndex:"-1"},r.ellipsize(this.props.presenter.title,44)),t.createElement("div",{ref:"link",className:"presenter-link"+(this.props.presenter.email||this.props.presenter.bio?"":" hidden"),tabIndex:"-1"},this.hasBothEmailAndBioText()&&t.createElement("span",{className:"cs-link",onClick:this.moreInfo},i.getString("more_info")),this.hasOnlyEmail()&&t.createElement("span",{className:"cs-link",onClick:this.onEmailLinkClicked.bind(this,this.props.presenter.email)},i.getString("send_an_email")),this.hasOnlyBioText()&&t.createElement("span",{className:"cs-link",onClick:this.moreInfo},i.getString("bio"))))))},PresenterMobile:function(){return t.createElement("li",{role:"tab",className:"tab"},t.createElement("button",{onClick:this.moreInfo},"Presenter Bio")," ")},PresenterVideo:function(){return t.createElement("div",{className:"video-container",ref:"videoContainer"})},RelativeNavControls:function(){var i=e("lodash"),n=e("views/player/Icon"),r=e("views/player/Timer"),s=e("views/player/SlideControlButton"),o=e("views/player/SubmitAllButton"),a=e("polyfills/detection"),l=this.getPath("props.timers"),u=i.pick(this.props,["slide","windowId"]);return t.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},t.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&t.createElement(s,t.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},u),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"next":"prev"})),t.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&t.createElement(s,t.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},u),t.createElement("span",{className:"text"},this.state.i18nnext),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"prev":"next"}))),t.createElement(s,t.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},u),a.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nsubmit)),t.createElement(s,t.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},u),a.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nfinish)),(a.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&t.createElement(o,t.__spread({},u)),a.isMobile&&null!=l&&l.map(function(e,i){return t.createElement(r,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},Resources:function(){var i=(e("helpers/utils"),e("views/player/ResourcesHeader")),n=e("views/player/ResourcesList");return t.createElement("div",{className:"cs-resource resources"},t.createElement("header",{className:"panel-header panel-section-header html-reset"},t.createElement(i,{description:this.props.model.get("description"),ref:"resourcesHeader"}),t.createElement("hr",{className:"cs-separator panel-relative-hr"})),t.createElement("div",{className:"panel-content"},t.createElement(n,{resources:this.props.model.resources(),ref:"resourcesList"})))},ResourcesHeader:function(){var i=e("helpers/utils");return t.createElement("h4",{className:"panel-section-heading"+(this.state.tabFocused?" focused":""),dangerouslySetInnerHTML:{__html:i.stripTagsMobile(this.props.description)||""},tabIndex:"0"})},ResourcesList:function(){return t.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,i){return t.createElement("li",{className:"resource",key:i,role:"presentation"},t.createElement("a",{href:e.get("url"),className:"cs-listitem list-item",target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},t.createElement("img",{className:"resources-icon",src:e.get("image"),alt:e.get("title")}),t.createElement("span",null,e.get("title"))))}.bind(this)))},ScrollAreaSlideObject:function(){var i=e("views/presentation/SlideObject"),n=e("views/presentation/VectorSlideObject"),r=e("views/presentation/ScrollBar"),s=e("polyfills/detection"),o=this.props.topOffset||0;return t.createElement("div",{className:"scrollarea",style:{width:this.width()-(s.isMobile?10:0),height:this.height(),top:o+"px"}},this.hasVectorBackground()&&t.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},t.createElement(n,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,className:"scrollarea-background-svg",isInnard:!0})),this.hasImageBackground()&&t.createElement("div",{className:"scrollarea-background"},t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),t.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":"is-scrollable"),"data-accepts":"events",ref:"scrollArea",style:{width:this.width(),height:this.height()-o}},t.createElement("div",{ref:"contentArea",style:{height:this.state.contentHeight,width:this.width(),position:"absolute"}},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,model:e,onBeforeScrollFocus:this.beforeChildScrollFocus,onScrollFocus:this.childScrollFocus,slideVisible:this.props.slideVisible,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,parent:this})}.bind(this)))),!this.state.shouldNotScroll&&!s.isIE()&&t.createElement(r,{ref:"scrollBar",width:this.width(),height:this.height()-o,parent:this}))},ScrollBar:function(){var e=10;return t.createElement("div",{className:"scrollarea-scrollbar",ref:"scrollBar",style:{top:this.props.offY||0,left:(this.props.offX||0)+this.props.width-3*e,height:this.props.height},onMouseDown:this.onAutoScroll,onTouchStart:this.onAutoScroll},t.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},SearchFooter:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},t.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},t.createElement("button",{onClick:this.clearSearch,className:"btn cs-button btn-stretch "+(this.state.clearFocus?"focused":""),ref:"searchClear"},t.createElement(i,{type:"clear"})," ",this.state.i18nsearch_clear)),t.createElement("hr",{className:"cs-diva diva"}),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},n.isMobile&&t.createElement("div",{className:"mobile-search-icon"},t.createElement(i,{key:"Search",type:"Search"})),t.createElement("input",{className:["cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"}),t.createElement("button",{onClick:this.search,className:["cs-button btn-unstyled inflexible",this.state.submitFocus?"focused":""].join(" "),ref:"searchSubmit"},t.createElement(i,{type:"search"}),t.createElement("span",{className:"accessibility"},this.state.i18nacc_search_input))))},SearchOptions:function(){var i=e("views/player/Icon"),n=["panel-header","panel-section-header","panel-section-search",this.props.visible?"":"hidden"].join(" "),r=["search-options",this.state.searchOptionsVisible?"visible":""].join(" ");return t.createElement("header",{className:n},t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nsearch_results),t.createElement("button",{ref:"btnFilter",onClick:this.toggleSearchOptions,className:["btn-unstyled search-filter cs-search-filter",this.state.btnFilterFocus?"focused":""].join(" ")},this.state.i18nfilter," ",t.createElement(i,{type:"gear"})),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("div",{className:r},t.createElement("p",null,this.state.i18nsearch_in),t.createElement("label",{className:this.state.cbNotesFocus?"focused":""},t.createElement("input",{ref:"cbNotes",type:"checkbox",checked:this.state.notes,onChange:this.handleChangeNotes,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_notes),t.createElement("label",{className:this.state.cbTextFocus?"focused":""},t.createElement("input",{ref:"cbText",type:"checkbox",checked:this.state.text,onChange:this.handleChangeText,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_text),t.createElement("hr",{className:"cs-divb divb"})))},SearchResults:function(){var i=e("views/player/MenuLinksList");return t.createElement("div",{className:"panel-content panel-content-menu"+(this.state.tabFocused?" focused":""),style:{flex:"1",outlineOffset:"-3px"}},t.createElement("div",{className:["outline",this.props.autonumber===!0?"nested-numbering":"",this.props.wrap===!0?"wrap-list":""].join(" "),onClick:this.props.checkFlow},t.createElement(i,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:!this.props.isSearchActive,showDisplayText:!this.props.isSearchActive,collapsible:this.props.collapsible,visitedSlides:this.props.visitedSlides,wrap:this.props.wrap,enableResultsIcons:this.props.enableResultsIcons,hasAnyLink:this.props.hasAnyLink,tips:this.props.tips,autonumber:this.props.autonumber,links:this.props.links,onClick:this.onClickMenuItem,onSelectMenuItem:this.props.onSelectMenuItem})))},SequenceCtrlDrop:function(){var e=this.props.numWidth,i=16,n=i/2,r=this.props.height,s=this.props.width;return t.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff,width:s+e,height:r}},t.createElement("div",{className:"sequence-ctrl-num",style:{width:e,height:r,lineHeight:r+"px",color:this.state.reviewColor}},this.state.reviewIdx+1+"."),t.createElement("div",{className:"sequence-ctrl-hit",style:{width:s,height:r}}),t.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:s,left:e,top:-n,display:this.state.topBar?"block":"none"}}),t.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:{top:r,width:s,left:e,top:r+n,display:this.state.bottomBar?"block":"none"}}))},SequenceCtrlSlideObject:function(){var i=e("views/presentation/SequenceCtrlDrop"),n=e("views/presentation/SequenceCtrlDragItem"),r=e("views/presentation/ScrollBar"),s=e("polyfills/detection"),o=4,a=3,l=4,u=this.getPath("props.model.width"),c=this.getPath("props.model.height"),h={width:u+o,height:c,marginLeft:l,overflow:"hidden"},p=16,d=2*a+_.sum(this.state.itemslist,function(e){return e.textdata.height+p}),f=0,m=p/2+a;return t.createElement("div",{className:"sequence-ctrl",style:h},t.createElement("div",{className:"sequence-ctrl-scroll-area is-scrollable",ref:"scrollArea",style:h},t.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(e,n){var r=e.textdata.height;return f=m,m=f+r+p,t.createElement(i,{ref:"item"+n,parent:this,key:e.textdata.uniqueId,idx:n,width:e.textdata.width,height:e.textdata.height,numWidth:this.numWidth,yOff:f,pr:e.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(e,i){var r=(e.textdata.height,{style:"wordbank",width:u-(this.numWidth+18+o),height:e.textdata.height,kind:"dragitem",xOff:e.textdata.xPos,yOff:e.textdata.yPos,itemdata:e.itemdata,idx:i,data:{textdata:e.textdata}});return t.createElement("div",{className:"sequence-ctrl-drag-container",key:i,ref:"sequenceItemContainer"+i,style:{position:"absolute"}},t.createElement(n,{ref:"sequenceItem"+i,key:e.textdata.uniqueId,idx:i,parent:this,model:r}))}.bind(this)),t.createElement("div",{style:{width:1,height:1,top:d,position:"absolute",visibility:"hidden"}}))),this.state.shouldScroll&&!s.isIE()&&t.createElement(r,{ref:"scrollBar",width:u-o,height:c,parent:this,initSelf:!0}))},Sidebar:function(){var i=e("views/player/TabPanel"),n=e("views/player/SidebarTab"),r=e("views/player/Presenter"),s="area-secondary cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden");return t.createElement("div",{className:s,style:{height:this.props.height}},t.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&t.createElement("div",{className:"logo inflexible cs-logo"},t.createElement("img",{src:this.logoUrl(),alt:"logo"})),(this.hasPresenter()||this.hasVideo())&&t.createElement(r,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),t.createElement("div",{className:"tabs-wrap grid-col"},t.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,i){return t.createElement(n,{ref:"sidebarTab"+i,config:e,key:i,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this))),this.state.tabs.map(function(e,n){return t.createElement(i,{config:e,key:n,ref:"sidebarPanel"+n,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)))))},SidebarMobile:function(){var i=e("views/player/Icon"),n=e("views/player/TabPanel"),r=e("views/player/SidebarTab"),s=e("views/player/SearchFooter"),o=e("views/player/Presenter"),a=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:"content-nav"},t.createElement("div",{className:"content-bg"}),t.createElement("nav",{className:"content-menu is-scrollable"},t.createElement("ul",{className:"content-menu-options",role:"tablist"},t.createElement("li",{role:"tab",className:"tab menu-close"},t.createElement("button",{ref:"close",onClick:this.props.toggleMenu},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"menu"})),t.createElement("span",{className:"text"},"Menu"))),(this.hasPresenter()||this.hasVideo())&&t.createElement(o,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),this.state.tabs.map(function(e,i){return t.createElement(r,{ref:"sidebarTab"+i,config:e,key:i,tabChanged:this.props.tabChanged,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)))),t.createElement("div",{className:"content-tabs"},t.createElement("button",{ref:"close",className:"tab-close",onTouchStart:this.props.closeTab,onMouseDown:this.props.closeTab},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"close"})),t.createElement("span",{className:"text"},"Close")),a&&t.createElement(s,{ref:"searchFooter",showClearButton:!1,addFocusObjects:function(){},onSearch:this.onSearch,onClearSearch:function(){}}),this.state.tabs.map(function(e,i){return t.createElement(n,{config:e,key:i,ref:"sidebarPanel"+i,panelClass:"panel panel-"+e.name,model:this.props.model,closeTab:this.props.closeTab,activeTab:this.state.activeTab})}.bind(this))))},SidebarTab:function(){var e=this.props.activeTab===this.props.config,i=["tab","cs-tabs",this.props.config.isLive?"":"hidden",e?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{className:i,role:"button",tabIndex:"-1"},t.createElement("button",{className:"tabs-trigger cs-inner-button",id:"tab-"+this.props.config.name,onClick:this.activate,ref:"button"},this.state.i18ntitle))},SidebarTabMobile:function(){var e=["tab",this.props.config.name,this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{role:"tab",className:e},t.createElement("button",{className:"tabs-trigger",onClick:this.activate},this.state.i18ntitle))},Slide:function(){var i,n=e("views/presentation/SlideLayer"),r=e("views/presentation/SlideBackground"),s=e("views/presentation/VectorSlideBackground"),o=this.props.model,a=this.props.model.get("width"),l=this.props.model.get("height"),u=this.getPath("props.model.background.type"),c=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),h={zIndex:this.state.transitionDepth,width:a,height:l},p=this.props.slideFrame;return null!=p&&(i=p.props.model,h.top=Math.max(0,(i.get("height")-o.get("height"))/2),h.left=Math.max(0,(i.get("width")-o.get("width"))/2)),t.createElement("div",{className:c,"data-rollout-highest-node":"true",style:h,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},!!u&&"vector"===u&&t.createElement(s,{ref:"bg",model:this.props.model}),!!u&&"vector"!==u&&t.createElement(r,{ref:"bg",model:this.props.model}),t.createElement("div",{className:"zoom-bg-container"}),this.getPath("props.model.slideLayers").map(function(e,i){return t.createElement(n,{ref:"layer"+i,key:e.cid,model:e,slideFrame:this.props.slideFrame,width:a,height:l})}.bind(this)),t.createElement("div",{className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}))},SlideBackground:function(){var i=e("views/presentation/LinearBackgroundGradient");return t.createElement("svg",{width:this.props.model.get("width"),height:this.props.model.get("height")},t.createElement("defs",null,"fill"===this.props.model.background().type?t.createElement(i,{patternFillId:this.patternFillId(),model:this.props.model}):t.createElement("pattern",{id:this.patternFillId(),width:this.props.model.get("width"),height:this.props.model.get("height"),patternUnits:"userSpaceOnUse"},t.createElement("image",{width:this.props.model.get("width"),height:this.props.model.get("height"),xlinkHref:this.props.model.backgroundImageUrl()}))),t.createElement("rect",{id:"slide-bg-"+this.props.model.get("id"),width:this.props.model.get("width"),height:this.props.model.get("height"),fill:["url(#",this.patternFillId(),")"].join("")}))},SlideContainer:function(){var i,n=e("helpers/svg/svgUtils"),r=e("helpers/utils"),s=e("polyfills/detection"),o=(e("helpers/windowManager"),e("views/player/Captions")),a=e("views/presentation/Slide"),l={overflow:this.state.overflowHide?"hidden":"visible"},u=this.props.scale>0?this.props.scale:1,c=r.pxify(this.state.xOff||0),h=r.pxify(this.state.yOff||0),p={};return this.state.scale&&(u=this.state.scale,i=Math.max(1,1/u),p[this.cssTransform]=["translate(-50%, -50%)",n.transformScale(i,i)].join(" ")),l[this.cssTransform]=[n.transformTranslate(c,h),n.transformScale(u,u)].join(" "),null!=this.state.origin&&(l[this.cssTransformOrigin]=this.state.origin),this.props.currentSlide&&(l.width=this.props.currentSlide.get("width"),l.height=this.props.currentSlide.get("height")),t.createElement("div",{style:l,className:"slide-container"},this.state.slides.map(function(e){return t.createElement("div",{key:e.id,className:"slide-transition-container"},t.createElement(a,{ref:e.id,model:e,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,e),slideContainer:this}))}.bind(this)),s.isMobile&&t.createElement("div",{className:"swipe-transition-container"}),!s.isMobile&&t.createElement(o,{lightboxed:this.props.lightboxed}),s.isMobile&&this.props.currentSlide&&!this.props.isMessageWindow&&!this.firstLoad&&t.createElement("div",{className:"load-container",style:this.state.loadContainerStyleAttr},t.createElement("div",{className:"slide-loader",style:p},t.createElement("div",{className:"mobile-loader-dot dot1"}),t.createElement("div",{className:"mobile-loader-dot dot2"}),t.createElement("div",{className:"mobile-loader-dot dot3"}))))},SlideControlButton:function(){var i=e("lodash"),n=["btn","cs-button","inflexible",this.disabled()?"cs-disabled":"","slide-control-button-"+this.props.kind,"slide-lockable"],r=i.omit(this.props,["kind","onButtonDown","slide","windowId"]);return this.visible()||n.push("hidden"),this.state.focused&&n.push("focused"),t.createElement("button",t.__spread({ref:"btn",className:n.join(" "),"aria-disabled":this.disabled()},r,this.getButtonEvents()),this.props.children)},SlideFrameSlideObject:function(){var i=e("lodash"),n=e("views/presentation/Slide"),r=e("views/presentation/VectorSlideObject");return t.createElement("div",{className:"slideframe",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.hasVectorBackground()&&t.createElement(r,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.state.slideModel&&t.createElement(n,{model:this.state.slideModel,slideFrame:this,transitionComplete:i.noop,onSlideStarted:this.onSlideStarted}))},SlideLayer:function(){var i=e("views/presentation/SlideObject"),n=e("views/presentation/AudioPlayer"),r=e("views/presentation/SlideBackground");return t.createElement("div",{className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.state.depth,width:this.props.width,height:this.props.height}},this.props.model.get("modal")&&t.createElement("div",{className:"layer-modal-bg"}),this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,model:e,slideVisible:"shown"===this.displayClass(),slideFrame:this.props.slideFrame})}.bind(this)),this.props.model.hasBackground()&&t.createElement(r,{ref:"bg",model:this.props.model}),this.state.audio&&t.createElement("div",{className:"hidden"},this.props.model.audiolib().map(function(e,i){return t.createElement(n,{ref:"audio"+i,key:i,model:e,slideVisible:"shown"===this.displayClass(),objectVisible:!0,timeline:this.props.model.timeline()})}.bind(this))))},SlideLoaderIndicator:function(){var e=this.state.cursorX,i=this.state.cursorY,n={left:e,top:i};return t.createElement("div",{className:"slide-loader",style:n})},SlideLoaderOverlay:function(){var i=e("views/player/SlideLoaderIndicator"),n=this.state.showIndicator,r=["slide-loader-overlay",n?"with-indicator":""].join(" ");return t.createElement("div",{className:r},n&&t.createElement(i,null))},SlideLockCursor:function(){return t.createElement("div",{id:"slide-lock",className:this.state.show?"shown":"hidden",style:{pointerEvents:"none"}})},SlideLockCursorMobile:function(){return t.createElement("div",null)},SlideObject:function(){var e=this.getStyles(),i=["slide-object","slide-object-"+this.props.model.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",this.props.model.isToolTip()?"tooltip":"",this.props.model.isDraggable()?"draggable":"",this.props.model.isRotatable()?"rotatable":"",this.props.model.isTweenable()?"tweenable":"",this.props.model.getIsSlideableParent&&this.props.model.getIsSlideableParent()?"slideable-parent":""].join(" ");return t.createElement("div",{className:i,style:e,"aria-label":this.getAccessibleText(),role:this.getAriaRole(),"data-model-id":this.props.model.id,"data-model-abs-id":this.props.model.absoluteId,tabIndex:"-1"},this.props.model.get("markerType")&&t.createElement("div",{ref:"markerAnimation",className:["marker-animation marker-animation-",this.props.model.get("markerType")].join("")}),this.props.model.isHotSpotMarker()&&t.createElement("div",{className:"hotspot-marker"},t.createElement("span",null)),t.createElement(this.slideObjectInnard,this.getInnardConfigs()))},SlideRelatedActions:function(){var i=e("views/player/RelativeNavControls");return t.createElement("div",{className:"controls-group grid-row control-actions"},t.createElement(i,t.__spread({handledSubmitAll:this.props.handledSubmitAll},this.getChildProps())))},SlideRelatedActionsMobile:function(){var i=e("views/player/RelativeNavControls");return t.createElement("div",{className:"controls-group grid-row control-actions"},t.createElement(i,t.__spread({player:this.props.player,
timers:this.props.timers},this.getChildProps())))},SlideWindowBackground:function(){var e=this.props.bg,i=e.width,n=e.height;return t.createElement("div",{className:"slide-window-background",style:{width:i,height:n}},this.renderBackground())},StateGroupSlideObject:function(){var i=e("views/presentation/SlideObject");return t.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden")},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:n,model:e,checkElso:this.checkElso,onElsoAction:this.onElsoAction,slideVisible:this.props.slideVisible,playerProps:this.props.playerProps,parent:this,slideFrame:this.props.slideFrame})}.bind(this)),t.createElement("div",{className:"state-group-top-level"}))},SubmitAllButton:function(){var i=e("polyfills/detection"),n=e("views/player/Icon"),r=e("views/player/SlideControlButton"),s=e("helpers/constants");return t.createElement("span",{className:"submit-all-button"},t.createElement(r,{kind:"submitall",ref:"btn",slide:this.props.slide,windowId:this.props.windowId||s.refs.FRAME,onButtonDown:this.triggerSubmitAll},i.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nsubmitall)))},SvgLibrary:function(){return t.createElement("div",{id:"svg-library"},t.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},t.createElement("defs",null,t.createElement("filter",{id:"text-shadow",x:"0%",y:"0%",width:"113%",height:"113%"},t.createElement("feGaussianBlur",{stdDeviation:"1 1",result:"text-shadow"}),t.createElement("feOffset",{dx:"1.5",dy:"1.5"})),t.createElement("linearGradient",{id:"timer-blue-grad"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"timer-yellow-grad"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"drop-list-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"dragdrop-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"dragdrop-hover-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"wordbank-droparea-stroke-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("filter",{id:"dragdrop-inner-stroke"},t.createElement("feFlood",{floodColor:"#fff",result:"strokeColor"}),t.createElement("feMorphology",{operator:"erode",radius:"2","in":"SourceAlpha",result:"innerMorph"}),t.createElement("feMorphology",{operator:"erode",radius:"1","in":"SourceAlpha",result:"outerMorph"}),t.createElement("feComposite",{"in":"innerMorph",in2:"outerMorph",operator:"xor",result:"morph"}),t.createElement("feComposite",{"in":"strokeColor",in2:"morph",operator:"in",result:"innerStroke"}),t.createElement("feComposite",{"in":"innerStroke",in2:"SourceGraphic",operator:"over"})))))},TabPanel:function(){var i=(e("views/player/Icon"),e("views/player/Menu")),n=e("views/player/Glossary"),r=e("views/player/Notes"),s=e("views/player/Resources");return t.createElement("section",{"aria-labelledby":"tab-"+this.props.config.name,className:["cs-menu cs-panel is-scrollable",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"hidden",this.props.panelClass,this.state.tabFocused?"focused":""].join(" "),role:"presentation",id:"panel-"+this.props.config.name},"outline"===this.props.config.name&&t.createElement(i,{ref:"menu",model:this.props.model.navData(),notesData:this.props.model.notesData(),addFocusObjects:this.addFocusObjects,options:this.getPath("props.model.controlOptions.menuOptions"),hasSearch:this.getPath("props.model.controlOptions.controls.search"),title:this.getPath("props.model.controlOptions.sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===this.props.config.name&&t.createElement(n,{ref:"glossary",collection:this.props.model.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===this.props.config.name&&t.createElement(s,{ref:"resources",model:this.props.model.resourceData(),addFocusObjects:this.addFocusObjects}),"transcript"===this.props.config.name&&t.createElement(r,{ref:"notes",active:this.props.activeTab,collection:this.props.model.notesData(),addFocusObjects:this.addFocusObjects}))},TextInputSlideObject:function(){var i=e("views/presentation/VectorSlideObject"),n=e("helpers/utils"),r=this.getPath("props.model.maxchars"),s=this.getPath("props.model.marginright"),o=this.isMultiline?6:0,a=n.pxify(this.getPath("props.model.fontsize")),l={fontFamily:this.quotify(this.getPath("props.model.font"))+", sans-serif",fontSize:a,lineHeight:a,fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),width:this.getPath("props.model.width"),height:this.getPath("props.model.height"),paddingTop:this.getPath("props.model.margintop")+o,paddingRight:this.isNumeric?0:s,paddingBottom:this.getPath("props.model.marginbottom"),paddingLeft:this.getPath("props.model.marginleft")};return this.hasVectorBackground()||this.hasImageBackground()||(l.border="1px solid rgb(160,160,160)",l.backgroundColor="#fff"),t.createElement("div",{className:this.state.placeholderClass},this.hasVectorBackground()&&t.createElement(i,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,isInnard:!0}),this.hasImageBackground()&&t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isMultiline&&!this.isNumeric?t.createElement("textarea",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,style:l,maxLength:r>0?r:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),placeholder:this.getPath("props.model.placeholder"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}):t.createElement("input",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,type:"text",style:l,maxLength:r>0?r:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),value:this.state.inputValue,placeholder:this.getPath("props.model.placeholder"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))},Timer:function(){var i=e("helpers/svg/svgUtils"),n=e("polyfills/detection"),r=18,s={width:r,height:r};return t.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},t.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!n.isMobile&&t.createElement("div",{className:"timer-wheel",style:s},t.createElement("svg",{style:s,width:r,height:r,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#timer-yellow-grad)"}),t.createElement("path",{d:i.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"url(#timer-blue-grad)",transform:"rotate(-90 9 9)",stroke:"none"}),t.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"none",stroke:"white"}),t.createElement("circle",{cx:"9",cy:"9",r:"10",fill:"none",stroke:"#c7c7c7"}))))},TopTabs:function(){var i=e("views/player/TopTabsItem");return t.createElement("div",{className:"top-tabs-"+this.props.align},this.state.tabs.map(function(e,n){return t.createElement(i,{key:n,ref:"topTabsItem"+n,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)))},TopTabsItem:function(){var i=e("views/player/TabPanel"),n="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return t.createElement("div",{className:["cs-topmenu-item","cs-tabs","topmenu-item",this.props.activeTab===this.props.config?"active cs-selected":"",this.determineVisibilty()?"":"hidden"].join(" ")},t.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),t.createElement("div",{className:"cs-separator topmenu-separator inflexible"},t.createElement("div",{className:"cs-diva topmenu-separator-item"}),t.createElement("div",{className:"cs-divb topmenu-separator-item topmenu-seperator-b"})),n&&t.createElement(i,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},Topbar:function(){var i=e("views/player/TopTabs"),n=e("views/player/Timer"),r=e("views/player/ElapsedAndTotalTime");return t.createElement("header",{className:"header-primary"},this.hasTitle()&&t.createElement("h1",{className:"presentation-title cs-title"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasElapsedAndTotalTime()&&t.createElement(r,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,i){return t.createElement(n,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),t.createElement("div",{className:"top-tabs"},this.hasLinkLeft()&&t.createElement(i,{ref:"topTabsLeft",model:this.props.model,tabs:[],align:"left"}),this.hasLinkRight()&&t.createElement(i,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"right"})))},UiMobile:function(){var i=e("views/player/Icon"),n=e("views/player/Bottombar"),r=e("views/player/SidebarMobile"),s=e("views/player/MobileSearchButton"),o=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:["option-pane",this.state.isActive?"active":"",this.state.showMenu?"menu-active":"",this.state.showSearch?"search-active":"",this.state.showTab?"tab-active":""].join(" ")},t.createElement("div",{className:"menu-handle"},t.createElement("button",{ref:"menu-handle",className:"hamburger-btn",onTouchEnd:this.onHamburgerTouchEnd,onClick:this.previewMouseEvent(this.toggleMenu)},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"menu"})))),o&&t.createElement(s,{toggleSearchUi:this.onToggleSearchUi}),this.props.currentSlide&&t.createElement(n,{ref:"bb",player:this.props.model,slide:this.props.currentSlide,timers:this.props.timers,hasSearch:o,toggleSearchUi:this.onToggleSearchUi}),t.createElement(r,{ref:"sidebar",model:this.props.model,tabChanged:this.onTabChange,closeTab:this.closeTab,toggleMenu:this.toggleMenu}))},VariableText:function(){var e={width:this.props.model.width(),height:this.props.model.height()};return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible")+(this.props.hasShadow?" object-text-shadow":""),style:e},t.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit,style:this.getInnerProps()},t.createElement("div",{className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))},VectorSlideBackground:function(){var i=e("views/presentation/VectorBackground");return t.createElement(i,{vectorData:this.props.model.background().vectorData,model:this.props.model,playerProps:this.props.playerProps})},VectorText:function(){var i=e("lodash"),n=e("views/presentation/VectorTextItem"),r=e("views/presentation/VectorTextHitArea");return t.createElement("g",{className:"vector-text-item"},t.createElement("g",{transform:this.getTransform()},this.props.hasShadow&&t.createElement(n,{ref:"itemShadow",isShadow:!0,pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId}),t.createElement(n,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem.linkdata().map(function(e,n){return t.createElement(r,{key:"hitArea"+n,ref:"hitItem"+n,color:i.get(e.get("fill"),"colors[0]"),hotAreas:e.get("hotareas"),linkId:e.get("id"),onClickCallback:this.onClickCallback})}.bind(this)))},VectorTextHitArea:function(){var i=e("helpers/utils"),n=function(e){return"hotarea_"+e};return t.createElement("g",null,this.props.hotAreas.map(function(e,r){return t.createElement("g",{ref:n(r),key:n(r)},t.createElement("rect",{className:"link-hit-area","data-hotarea":n(r),x:e.xPos,y:e.yPos,width:e.width,height:e.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onClick:this.onClickCallback,onTouchEnd:this.onClickCallback}),t.createElement("rect",{className:"link-highlight-area","data-linkarea":n(r),x:e.xPos,y:e.yPos,width:e.width,height:e.height,fill:null==this.props.color?"none":i.hexify(this.props.color.rgb),style:{opacity:0}}))}.bind(this)))},VideoControls:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),r=this.props.isPlaying?"pause":"play";return t.createElement("div",{className:"video-controls grid-row inflexible"},t.createElement("div",{className:"video-controls-play-pause inflexible",onClick:!n.isMobile&&this.props.toggleVideoControls,onTouchStart:n.isMobile&&this.props.toggleVideoControls},t.createElement("button",{className:"btn-unstyled"},t.createElement(i,{key:r,type:r}),t.createElement("span",{className:"accessibility"},this.props.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))),t.createElement("div",{className:"progress-bar",ref:"progressBar"},t.createElement("div",{className:"progress-bar-inner",ref:"progressBarInner"},t.createElement("div",{className:"progress-bar-seek"},t.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}})),t.createElement("input",{type:"range",ref:"inputEl",min:"0",max:this.props.duration,onChange:this.onChange,onInput:this.props.rangeslideVideoControls,value:this.props.currentTime,step:"1"})),t.createElement("div",{className:"progress-bar-elapsed-time"},t.createElement("span",null,this.currentTimeFormatted()),t.createElement("span",{className:"progress-bar-total-duration"},"/ ",this.durationFormatted()))))},VideoPlayer:function(){var i=e("helpers/utils"),n=this.state.hasEverPlayed,r=this.props.posterFrameUrl,s=this.props.playerProps.width,o=this.props.playerProps.height,a={height:i.pxify(o),width:i.pxify(s)};return t.createElement("div",{className:"video-player-limited-container",style:a,"data-accepts":"events"},t.createElement("div",{ref:"container"}),!n&&null!=r&&t.createElement("img",{className:"video-player-poster",width:s,height:o,src:r,alt:""}))},VideoSlideObject:function(){var i=e("views/presentation/VideoControls"),n=e("views/presentation/VideoPlayer"),r=({width:this.props.playerProps.width,height:this.props.playerProps.height},this.isValidVideo());return t.createElement("div",{className:"video-slide-object"},r&&t.createElement(n,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,playerProps:this.props.playerProps,slideVisible:this.props.slideVisible,objectVisible:this.isVisible(),slideObjectModel:this.props.model,assetId:this.getAssetId(),posterFrameUrl:this.posterFrameUrl(),ref:"videoPlayer",src:this.getVideoUrl(),pause:this.pauseVideo}),this.props.model.get("showcontrols")&&r&&t.createElement(i,{ref:"controls",currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,rangeslideVideoControls:this.rangeslideVideoControls}),!r&&t.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},"swf"))},VolumeControls:function(){var i=e("views/player/Icon");return t.createElement("div",{className:"controls-group control-bar inflexible"},t.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},t.createElement("button",{className:"btn-unstyled text-align-middle"},t.createElement(i,{type:"volume",ref:"volumeIcon",volumeStrength:10*this.state.volumeStrength}),t.createElement("span",{className:"accessibility"},this.state.i18nvolume)),t.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},t.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))},WebObjectSlideObject:function(){return t.createElement("div",{className:"webobject is-scrollable",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},!this.state.isError&&t.createElement("iframe",{ref:"iframe",src:this.state.url,allowFullScreen:!0,className:[this.showThumb()?"hidden":"shown",this.checkIsEngage()?"webobject-engage":""].join(" "),onLoad:this.onIframeLoad}),this.showThumb()&&t.createElement("img",{onClick:this.showContent,onTouchStart:this.showContent,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:"thumbnail",src:this.imageUrl}))},ZoomImage:function(){return t.createElement("div",{className:"zoom-image "+this.displayClass()},t.createElement("img",{ref:"img",src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))},AnnotationColors:function(){var i=e("views/presentation/LinearBackgroundGradient"),n={fillcolor:this.state.fillColorId,bordercolor:this.state.borderColorId},r=Object.keys(n);return t.createElement("g",null,this.props.model.get("colors").map(function(e){var s=e.name,o=e.fill;return r.indexOf(s)>=0?t.createElement(i,{key:s,patternFillId:n[s],fill:o}):void 0}))},AnnotationDefs:function(){var i=e("helpers/svg/svgUtils"),n=this.state.gradientId,r=this.state.filterId,s=this.state.bgId;return t.createElement("defs",null,t.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:n,spreadMethod:"pad",x1:"0",x2:"0",y1:"-18.5",y2:"6"},t.createElement("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.7"}),t.createElement("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0.1"})),t.createElement("filter",{colorInterpolationFilters:"sRGB",height:"140%",id:r,width:"140%",x:"-20%",y:"-20%"},t.createElement("feColorMatrix",{"in":"SourceGraphic",result:"result1",type:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.2 0"})),t.createElement("g",{id:s},t.createElement("path",{d:" M -20 -20.05 L -20 19.95 20 19.95 20 -20.05 -20 -20.05 Z",fill:"#00FF00",fillOpacity:"0"}),t.createElement("path",{d:" M -20 -17.55 L -20 4.7 Q 9.595703125 -11.3716796875 20 5 L 20 -17.55 -20 -17.55 Z",fill:i.buildUrl(n)})),this.renderColors())},AnnotationRectangle:function(){return t.createElement("div",{className:"annotation-rectangle",style:this.getStyle()})},AnnotationSpotlight:function(){var i=e("helpers/svg/svgUtils"),n=this.state.maskId,r=this.state.fillColorId,s=this.state.borderColorId,o=this.props.model,a=o.getClosestAncestorByKind("slide"),l=a.get("width"),u=a.get("height"),c=o.get("xPos"),h=o.get("yPos"),p=o.get("width"),d=o.get("height"),f=o.get("borderwidth"),m=o.get("boxradius");return t.createElement("svg",{className:"annotation-spotlight",width:l,height:u,viewBox:[0,0,l,u].join(" "),style:{left:-c,top:-h}},t.createElement("defs",null,t.createElement("mask",{id:n},t.createElement("rect",{x:"0",y:"0",width:l,height:u,fill:"#fff"}),t.createElement("rect",{x:c,y:h,width:p,height:d,rx:m,ry:m,fill:"#000"})),this.renderColors()),t.createElement("rect",{ref:"overlay",fill:i.buildUrl(r),mask:i.buildUrl(n),x:"0",y:"0",width:l,height:u}),t.createElement("rect",{ref:"border",stroke:i.buildUrl(s),x:c,y:h,width:p,height:d,rx:m,ry:m,strokeWidth:f,fill:"none"}))},ArrowRoundAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-round",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(32.4,18) "},t.createElement("g",{transform:"translate(-29.4,-12.05) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 15.8 -1 Q 15.616015625 -1.009765625 15.35 -0.95 12.0015625 -0.6484375 12 3 L 12 4 3 4 Q -1 4 -1 8 L -1 17.05 Q -1.026171875 19.0087890625 0 19.95 0.9935546875 20.999609375 3 21 L 12 21 12 21.1 Q 12.0001953125 23.1064453125 13 24.05 13.9912109375 25.1259765625 15.95 25.1 L 15.95 25.1 Q 16.5765625 25.103515625 17.15 24.85 17.2119140625 24.837109375 17.25 24.8 17.360546875 24.780078125 17.45 24.7 17.5939453125 24.6765625 17.75 24.6 18.3650390625 24.384375 18.9 23.9 18.9361328125 23.875390625 18.95 23.85 L 28.55 14.1 Q 29.3962890625 13.2361328125 29.4 12.05 29.3962890625 10.8638671875 28.55 9.95 L 19.05 0.35 Q 19.02421875 0.3240234375 19 0.3 18.5916015625 -0.0490234375 18.1 -0.25 L 18.1 -0.3 Q 17.9005859375 -0.4146484375 17.7 -0.5 17.5 -0.6 17.3 -0.7 17.275 -0.71171875 17.25 -0.75 16.600390625 -1.0095703125 15.95 -1 15.85 -1 15.8 -1 M 27.15 11.35 Q 27.4037109375 11.65390625 27.4 12.05 27.4037109375 12.4462890625 27.15 12.75 L 17.55 22.45 17.55 22.4 Q 17.31328125 22.6478515625 17 22.75 16.936328125 22.7685546875 16.85 22.8 16.7212890625 22.8419921875 16.6 22.9 16.5619140625 22.9416015625 16.5 22.95 16.4890625 22.9603515625 16.45 22.95 16.199609375 23.0904296875 15.95 23.1 L 15.9 23.1 Q 14.9515625 23.1171875 14.45 22.65 13.999609375 22.14453125 14 21.1 L 14 20 Q 13.996484375 19.5892578125 13.7 19.3 13.4107421875 19.003515625 13 19 L 3 19 Q 1.95546875 19.0001953125 1.4 18.55 0.9826171875 18.0484375 1 17.05 L 1 8 Q 1 6 3 6 L 13 6 Q 13.4107421875 5.996484375 13.7 5.7 13.996484375 5.4107421875 14 5 L 14 3 Q 13.9984375 1.2083984375 15.6 1.05 15.7501953125 1.039453125 15.85 1 15.9080078125 1 15.95 1 16.1740234375 1.0083984375 16.4 1.1 16.4244140625 1.11328125 16.45 1.1 16.625 1.2125 16.8 1.3 16.8603515625 1.3287109375 16.9 1.35 L 16.95 1.35 Q 17.094921875 1.46640625 17.25 1.5 17.489453125 1.6181640625 17.7 1.8 L 27.15 11.35 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 15.25 -1.6 Q 15.05 -1.7 14.85 -1.8 14.4244140625 -2.0056640625 13.95 -2 13.85 -2 13.8 -2 13.676171875 -1.9953125 13.55 -2 10.9990234375 -1.755078125 11 1 L 11 3 1 3 Q -2 3.0001953125 -2 6 L -2 15.05 Q -2.050390625 18 1 18 L 11 18 11 19.1 Q 11 22.150390625 13.95 22.1 14.4244140625 22.10546875 14.85 21.9 14.98359375 21.8251953125 15.15 21.75 15.2220703125 21.7275390625 15.3 21.7 L 15.25 21.7 Q 15.82109375 21.5556640625 16.2 21.15 L 25.8 11.45 Q 26.4017578125 10.866796875 26.4 10.05 26.4015625 9.2330078125 25.8 8.65 L 16.3 -0.95 Q 16.005078125 -1.26875 15.6 -1.45 15.5568359375 -1.4390625 15.5 -1.45 L 15.55 -1.45 Q 15.399609375 -1.5337890625 15.25 -1.6 M 13 1 Q 13.0017578125 0.1046875 13.8 0 13.85 0 13.95 0 14.155859375 0.08828125 14.35 0.15 14.505859375 0.253125 14.65 0.3 14.7732421875 0.3849609375 14.9 0.45 L 24.4 10 14.75 19.7 Q 14.58203125 19.8134765625 14.35 19.9 14.1701171875 20.0005859375 13.95 20.1 13.001953125 20.0755859375 13 19.1 L 13 16 1 16 Q -0.001953125 16.0080078125 0 15 L 0 6 Q -0.001953125 5.0044921875 1 5 L 13 5 13 1 Z"})),t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-12.4,2) "},this.renderBg()))))},ArrowSquareAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-square",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(31.95,20.25) "},t.createElement("g",{transform:"translate(-29,-14) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 14.85 -0.1 Q 13.9521484375 -1.0048828125 12.75 -1 11.4890625 -0.99609375 10.6 -0.1 L 10.55 -0.1 7 3.45 7.1 3.4 Q 6.4763671875 3.939453125 6.3 4.75 6.2841796875 4.82421875 6.25 4.85 6.06953125 5.5912109375 6.25 6.35 L 6.25 6.3 Q 6.4240234375 7.0802734375 7.05 7.7 L 7.05 7.7 8.55 9.2 2 9.2 Q 0.7466796875 9.2072265625 -0.1 10.05 -0.101171875 10.098828125 -0.15 10.1 -0.9927734375 10.9466796875 -1 12.2 L -1 17.2 Q -0.99609375 18.4609375 -0.1 19.35 0.72109375 20.196484375 2 20.2 L 8.55 20.2 7 21.75 7.05 21.7 Q 6.157421875 22.559765625 6.15 23.85 6.15390625 25.1109375 7.05 26 L 10.6 29.55 Q 11.42109375 30.396484375 12.7 30.4 13.9447265625 30.38828125 14.8 29.55 L 24.7 19.6 Q 24.8380859375 19.549609375 24.95 19.45 25.093359375 19.3828125 25.2 19.25 25.3326171875 19.067578125 25.4 18.9 L 27.55 16.75 Q 28.3962890625 15.8861328125 28.4 14.7 28.396484375 13.42109375 27.55 12.6 L 24 9.05 Q 23.8171875 8.8662109375 23.6 8.7 L 14.85 -0.1 M 22.3 10.2 Q 22.3681640625 10.2685546875 22.45 10.3 22.5244140625 10.3755859375 22.6 10.45 L 26.15 14 Q 26.403515625 14.27890625 26.4 14.7 26.4037109375 15.0962890625 26.15 15.4 L 23.95 17.6 Q 23.8810546875 17.66953125 23.8 17.75 23.7673828125 17.8314453125 23.7 17.9 23.6208984375 17.977734375 23.55 18 23.46953125 18.0810546875 23.4 18.15 L 13.45 28.15 Q 13.136328125 28.411328125 12.7 28.4 12.27890625 28.403515625 12 28.15 L 8.45 24.6 Q 8.14609375 24.2890625 8.15 23.85 8.142578125 23.440234375 8.4 23.15 8.4486328125 23.1626953125 8.45 23.15 L 11.7 19.9 Q 12.0072265625 19.607421875 12 19.2 11.99453125 18.7900390625 11.7 18.5 11.40859375 18.2048828125 11 18.2 L 2 18.2 Q 1.57890625 18.203515625 1.3 17.95 0.99609375 17.6390625 1 17.2 L 1 12.2 Q 0.992578125 11.790234375 1.25 11.5 1.3013671875 11.4990234375 1.3 11.45 1.590234375 11.192578125 2 11.2 L 11 11.2 Q 11.4107421875 11.1984375 11.7 10.9 11.9990234375 10.609375 12 10.2 11.998046875 9.7763671875 11.7 9.45 L 8.45 6.25 8.45 6.3 Q 8.2755859375 6.11953125 8.2 5.9 8.225390625 5.8625 8.2 5.8 8.1447265625 5.5630859375 8.2 5.3 8.2146484375 5.2755859375 8.2 5.2 8.2609375 5.027734375 8.4 4.9 8.436328125 4.8763671875 8.45 4.85 L 12 1.3 12 1.3 Q 12.3109375 0.99609375 12.75 1 13.1478515625 1.0048828125 13.45 1.3 L 22.3 10.2 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-27,-12) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 12.1 -1.45 Q 11.541015625 -2.0005859375 10.7 -2 9.8998046875 -2.0017578125 9.3 -1.45 L 5.75 2.1 Q 5.3662109375 2.502734375 5.2 3 5.0818359375 3.552734375 5.2 4.05 5.364453125 4.591796875 5.75 4.95 L 9 8.2 0 8.2 Q -0.833984375 8.19453125 -1.45 8.75 -2.00546875 9.366015625 -2 10.2 L -2 15.2 Q -2.00546875 16.0337890625 -1.45 16.6 -0.833984375 17.2052734375 0 17.2 L 9 17.2 5.75 20.4 Q 5.1552734375 21.0150390625 5.15 21.85 5.141015625 22.6818359375 5.7 23.25 L 9.25 26.8 Q 9.866015625 27.4052734375 10.7 27.4 11.5337890625 27.4052734375 12.1 26.8 L 22.1 16.85 Q 22.2384765625 16.758984375 22.35 16.6 22.5412109375 16.4556640625 22.65 16.25 L 24.85 14.05 Q 25.41171875 13.4861328125 25.4 12.65 25.395703125 11.8568359375 24.8 11.25 L 21.25 7.7 Q 21.13984375 7.5921875 21 7.5 L 12.1 -1.45 M 20.9 15.15 L 20.9 15.2 20.85 15.2 10.7 25.35 7.15 21.85 13.8 15.2 -0.05 15.2 -0.05 10.2 13.8 10.2 7.1 3.5 10.65 0 19.85 9.15 19.85 9.15 23.4 12.65 20.9 15.15 Z"})),t.createElement("g",{transform:"translate(-27.05,-12) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-27.05,-12) "},t.createElement("path",{d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-11.95,-0.25) "},this.renderBg()))))},ArrowTriangleAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-triangle",height:"66",viewBox:"0 0 40 40",width:"66",x:"0"},this.renderDefs(),t.createElement("g",{transform:"translate(28.2,20.35) "},t.createElement("g",{transform:"translate(-17,-15) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 6.475 1.225 Q 5.663671875 0.4265625 4.675 0.15 4.6251953125 0.1375 4.575 0.125 4.1634765625 -0.0037109375 3.75 0 2.141796875 -0.00546875 1.075 1.075 1.0107421875 1.1599609375 0.95 1.25 0.546484375 1.7482421875 0.35 2.25 L 0.4 2.1 Q 0.176171875 2.5302734375 0.1 3.05 -0.00234375 3.3556640625 0 3.7 L 0 25.35 Q -0.0109375 26.0748046875 0.35 26.8 0.4763671875 27.1626953125 0.675 27.45 0.8380859375 27.6865234375 1.075 27.925 1.9125 28.7701171875 3.175 28.975 3.3423828125 29.0009765625 3.5 29 3.6 29 3.7 29 3.75 29 3.85 29 L 3.9 29 Q 4.0724609375 29.003515625 4.25 28.975 5.3380859375 28.7875 6.225 28 6.3173828125 27.91875 6.4 27.825 L 7.5 26.775 Q 7.5615234375 26.7140625 7.625 26.65 8.25078125 25.9875 8.925 25.325 L 8.95 25.275 Q 13.45 20.525 17.95 15.825 18.502734375 15.24609375 18.5 14.45 18.5025390625 13.653515625 17.95 13.075 13.55 8.475 9.15 3.875 9.13515625 3.8517578125 9.125 3.825 8.725 3.425 8.375 3.075 7.4 2.1119140625 6.425 1.2 L 6.475 1.225 Z",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),t.createElement("g",{transform:"translate(-15,-13.05) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 4.4 -0.8 L 4.45 -0.8 Q 3.663671875 -1.5734375 2.65 -1.85 2.6251953125 -1.8625 2.55 -1.9 2.1634765625 -2.0037109375 1.75 -2 0.141796875 -2.00546875 -0.95 -0.95 -0.9892578125 -0.8400390625 -1.05 -0.75 -1.453515625 -0.2517578125 -1.65 0.25 L -1.6 0.1 Q -1.823828125 0.5302734375 -1.9 1.05 -2.00234375 1.3556640625 -2 1.7 L -2 23.35 Q -2.0109375 24.0748046875 -1.65 24.8 -1.5236328125 25.1626953125 -1.35 25.45 -1.1619140625 25.6865234375 -0.95 25.9 -0.0875 26.7701171875 1.15 26.95 1.3423828125 27.0009765625 1.5 27 1.6 27 1.7 27 1.75 27 1.85 27 L 1.9 27 Q 2.0724609375 27.003515625 2.25 26.95 3.3380859375 26.7875 4.2 26 4.3173828125 25.91875 4.4 25.8 L 5.5 24.75 Q 5.5615234375 24.7140625 5.6 24.65 6.25078125 23.9875 6.9 23.3 L 6.95 23.25 Q 11.45 18.525 15.95 13.8 16.502734375 13.24609375 16.5 12.45 16.5025390625 11.653515625 15.95 11.05 11.55 6.475 7.15 1.85 7.13515625 1.8517578125 7.1 1.8 6.725 1.425 6.35 1.05 5.4 0.1119140625 4.4 -0.8 M 3 0.6 Q 3.9875 1.5357421875 4.95 2.45 5.3125 2.85 5.65 3.2 10.0896484375 7.828515625 14.5 12.45 9.9876953125 17.1595703125 5.45 21.85 4.8 22.5853515625 4.1 23.3 L 3 24.35 Q 2.95234375 24.4115234375 2.85 24.45 2.4654296875 24.9119140625 1.9 24.95 L 1.8 25 Q 1.7615234375 25.0009765625 1.7 25 1.6 24.9966796875 1.5 24.95 0.9140625 24.9099609375 0.45 24.45 0.393359375 24.3939453125 0.3 24.3 0.241015625 24.1822265625 0.15 24.05 0.0095703125 23.71875 0 23.3 L 0 1.7 0 1.7 Q 0.02734375 1.3236328125 0.15 1 0.2869140625 0.7322265625 0.5 0.5 1.01640625 0.0033203125 1.7 0 1.8798828125 -0.001171875 2 0 2.6244140625 0.1966796875 3 0.6 Z"
})),t.createElement("g",{transform:"translate(-15,-13) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-15,-13) "},t.createElement("path",{d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-8.2,-0.35) "},this.renderBg()))))},ArrowVAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-v",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(25.5,20) "},t.createElement("g",{transform:"translate(-18.1,-14) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 8.05 -0.1 Q 8.0130859375 -0.125 7.95 -0.15 6.343359375 -1.1771484375 4.35 -1 2.282421875 -0.8208984375 0.8 0.7 0.8015625 0.727734375 0.75 0.75 -0.662109375 2.1193359375 -0.9 4.05 L -0.9 4 Q -1.234375 6.0529296875 -0.2 7.85 -0.00234375 8.251953125 0.4 8.55 L 6.15 14.4 0.3 20.4 0.35 20.4 Q 0.12421875 20.624609375 -0.05 20.85 L -0.05 20.8 Q -1.25546875 22.5345703125 -0.9 24.8 L -0.9 24.75 Q -0.6587890625 26.754296875 0.85 28.25 L 0.9 28.3 Q 0.9138671875 28.325 0.9 28.35 2.294140625 29.60234375 4.2 29.9 4.276953125 29.905859375 4.35 29.9 4.4125 29.9 4.45 29.9 4.5125 29.9025390625 4.55 29.9 6.378515625 30.003515625 7.95 29 8.0130859375 28.9748046875 8.05 28.95 8.25 28.8 8.45 28.65 8.5150390625 28.6041015625 8.55 28.55 L 20.15 16.55 20.15 16.5 Q 20.9962890625 15.6361328125 21 14.45 20.9962890625 13.2638671875 20.15 12.35 L 20.15 12.35 8.55 0.3 Q 8.5150390625 0.245703125 8.45 0.2 8.25 0.05 8.05 -0.1 M 6.9 1.55 Q 7.023046875 1.62734375 7.1 1.7 L 18.7 13.75 18.7 13.7 Q 19.00390625 14.0361328125 19 14.45 19.00390625 14.8638671875 18.7 15.15 L 18.7 15.15 7.1 27.15 Q 7.0228515625 27.2220703125 6.9 27.3 6.8859375 27.323046875 6.85 27.35 5.81015625 27.9732421875 4.6 27.9 4.586328125 27.898828125 4.55 27.9 L 4.5 27.9 Q 3.205859375 27.69765625 2.25 26.85 L 2.3 26.9 2.25 26.85 Q 1.25859375 25.845703125 1.1 24.5 L 1.05 24.5 Q 0.85546875 23.0654296875 1.6 21.95 L 1.6 21.95 Q 1.6755859375 21.8755859375 1.75 21.8 L 1.75 21.8 8.25 15.15 Q 8.5552734375 14.855078125 8.55 14.45 8.5544921875 14.043359375 8.25 13.75 L 1.7 7.05 Q 1.6646484375 6.996484375 1.6 6.95 1.5748046875 6.9119140625 1.55 6.85 0.8423828125 5.7033203125 1.05 4.35 1.087890625 4.3486328125 1.1 4.3 1.2599609375 2.998828125 2.25 2.1 2.3248046875 2.055859375 2.35 2 3.28203125 1.1150390625 4.55 1 5.81015625 0.8814453125 6.85 1.5 6.8869140625 1.5259765625 6.9 1.55 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-16,-12) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 5.45 -1.3 Q 4.0791015625 -2.16640625 2.45 -2 0.7294921875 -1.82890625 -0.5 -0.65 L -0.45 -0.65 Q -1.6818359375 0.5212890625 -1.95 2.2 -2.1775390625 3.9150390625 -1.35 5.35 -1.1966796875 5.58046875 -1.05 5.75 L 5.55 12.45 -1 19.1 Q -1.097265625 19.230859375 -1.2 19.35 -2.19375 20.776171875 -1.95 22.6 L -1.95 22.65 Q -1.6953125 24.294140625 -0.5 25.5 -0.4345703125 25.54921875 -0.4 25.55 0.728515625 26.63671875 2.35 26.85 2.45 26.8916015625 2.55 26.9 4.124609375 26.982421875 5.45 26.15 5.6638671875 26.0228515625 5.85 25.85 L 17.45 13.85 Q 18.0060546875 13.2640625 18 12.45 18.0060546875 11.6357421875 17.45 11.05 L 5.85 -1 Q 5.6638671875 -1.173046875 5.45 -1.3 M 0.05 2.5 Q 0.200390625 1.500390625 0.9 0.75 1.6251953125 0.0759765625 2.6 -0.05 3.575 -0.1240234375 4.4 0.4 L 16 12.4 4.4 24.45 Q 3.575 24.9740234375 2.6 24.85 1.6251953125 24.7740234375 0.9 24.05 0.200390625 23.349609375 0.05 22.3 -0.0994140625 21.275390625 0.4 20.45 L 8.3 12.4 0.4 4.3 Q -0.1244140625 3.524609375 0.05 2.5 Z"})),t.createElement("g",{transform:"translate(-16,-12.05) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-16,-12.05) "},t.createElement("path",{d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-5.5,0) "},this.renderBg()))))},CheckAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId,a=this.state.animationMaskId,l="draw"===this.props.model.get("animationtype");return t.createElement("svg",{className:"annotation-check",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),l&&t.createElement("mask",{id:a},t.createElement("g",{transform:"rotate(45, 21, 0.5)"},t.createElement("rect",{ref:"mask",x:"0",y:"14.25",width:"22",height:"28",fill:"#000"}))),t.createElement("g",{mask:l?i.buildUrl(a):"none"},t.createElement("g",{transform:"translate(19.95,19.9) "},t.createElement("g",{transform:"translate(-15,-12) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 24.05 -0.1 L 24.05 -0.1 Q 23.4302734375 -0.7259765625 22.65 -0.9 L 22.7 -0.9 Q 21.9412109375 -1.08046875 21.2 -0.9 21.1740234375 -0.8658203125 21.1 -0.85 20.3255859375 -0.6814453125 19.8 -0.1 L 12.35 7.4 9.25 4.25 Q 8.6302734375 3.6240234375 7.85 3.45 L 7.9 3.45 Q 7.1412109375 3.26953125 6.4 3.45 6.373828125 3.4841796875 6.3 3.5 5.489453125 3.6763671875 4.95 4.3 L 4.95 4.25 -0.15 9.4 -0.1 9.4 Q -1.0048828125 10.2978515625 -1 11.5 -1.0048828125 12.7021484375 -0.1 13.6 L 10.25 24.1 Q 11.078125 24.9927734375 12.35 25 13.6109375 24.99609375 14.5 24.1 L 29.15 9.25 Q 29.9962890625 8.3861328125 30 7.2 29.9962890625 6.0138671875 29.15 5.1 L 29.15 5.1 24.05 -0.1 M 22.65 1.3 L 22.6 1.3 27.7 6.5 27.7 6.45 Q 28.00390625 6.7861328125 28 7.2 28.0037109375 7.5962890625 27.75 7.9 L 13.1 22.7 Q 12.7890625 23.00390625 12.35 23 11.940234375 23.007421875 11.65 22.7 L 1.3 12.2 Q 1.0048828125 11.8978515625 1 11.5 1.0048828125 11.1021484375 1.3 10.8 L 1.3 10.8 6.4 5.65 Q 6.4365234375 5.6248046875 6.45 5.6 6.577734375 5.4609375 6.75 5.4 6.8255859375 5.4146484375 6.85 5.4 7.1130859375 5.3447265625 7.35 5.4 7.4125 5.425390625 7.45 5.4 7.66953125 5.4755859375 7.85 5.65 L 11.65 9.5 Q 11.940234375 9.798046875 12.35 9.8 12.7615234375 9.796875 13.05 9.5 L 21.2 1.3 Q 21.2248046875 1.2740234375 21.25 1.25 21.377734375 1.1109375 21.55 1.05 21.6255859375 1.0646484375 21.65 1.05 21.9130859375 0.9947265625 22.15 1.05 22.2125 1.075390625 22.25 1.05 22.46953125 1.1255859375 22.65 1.3 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 20.4 -1.95 Q 19.9 -2.0681640625 19.35 -1.95 18.8552734375 -1.7845703125 18.45 -1.4 L 10.35 6.8 6.5 2.95 Q 6.1451171875 2.566015625 5.6 2.4 5.1 2.2818359375 4.55 2.4 4.0548828125 2.566015625 3.65 2.95 L -1.45 8.1 Q -2.001171875 8.6859375 -2 9.5 -2.0009765625 10.3150390625 -1.45 10.9 L 8.9 21.4 Q 9.5169921875 21.99609375 10.35 22 11.18359375 21.9955078125 11.75 21.4 L 26.4 6.6 Q 27.0017578125 6.014453125 27 5.2 27.001171875 4.3859375 26.4 3.8 L 21.3 -1.4 Q 20.944921875 -1.7841796875 20.4 -1.95 M 10.35 9.6 L 19.85 0 25 5.15 10.35 20 0 9.5 5.1 4.3 10.35 9.6 Z"})),t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(0.05,0.1) "},this.renderBg())))))},CrossAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId,a=this.state.legMaskId,l=this.state.animationXMaskId,u=this.state.animationLegMaskId,c="draw"===this.props.model.get("animationtype");return t.createElement("svg",{className:"annotation-cross",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(6, 6)"},c&&t.createElement("mask",{id:l},t.createElement("rect",{ref:"xMask",width:"34",height:"34",fill:"#000",transform:"translate(39, 16) rotate(135)"})),t.createElement("g",{mask:c?i.buildUrl(l):"none"},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 22.7 -0.1 Q 21.8109375 -0.99609375 20.55 -1 19.2783203125 -0.9927734375 18.45 -0.1 L 14.55 3.8 10.65 -0.1 Q 9.7609375 -0.99609375 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.35 Q -0.9927734375 7.178125 -1 8.45 -0.99609375 9.7109375 -0.1 10.6 L 3.85 14.55 -0.1 18.45 Q -1.0048828125 19.3478515625 -1 20.55 -0.99609375 21.8109375 -0.1 22.7 L 6.35 29.15 Q 7.17109375 29.996484375 8.45 30 9.6361328125 29.9962890625 10.5 29.15 L 10.55 29.15 14.5 25.2 18.45 29.15 Q 19.27109375 29.996484375 20.55 30 21.7361328125 29.9962890625 22.6 29.15 L 22.65 29.15 29.1 22.7 29.1 22.7 Q 29.99609375 21.8109375 30 20.55 29.996484375 19.27109375 29.15 18.45 L 25.2 14.5 29.1 10.65 29.1 10.65 Q 30.0048828125 9.7521484375 30 8.55 29.98828125 7.3052734375 29.15 6.4 L 29.15 6.4 22.7 -0.1 22.7 -0.1 M 20.55 1 Q 20.9890625 0.99609375 21.3 1.3 L 27.75 7.8 Q 28.011328125 8.1138671875 28 8.55 27.9951171875 8.9478515625 27.7 9.25 L 27.7 9.2 23.1 13.75 Q 22.8015625 14.076953125 22.8 14.5 22.8015625 14.909765625 23.1 15.2 L 27.75 19.85 Q 28.003515625 20.12890625 28 20.55 28.00390625 20.9890625 27.7 21.3 L 21.25 27.75 Q 20.9462890625 28.0037109375 20.55 28 20.12890625 28.003515625 19.85 27.75 L 15.2 23.1 Q 14.9087890625 22.80546875 14.5 22.8 14.0919921875 22.79296875 13.8 23.05 L 9.15 27.7 9.15 27.7 Q 8.8638671875 28.00390625 8.45 28 8.02890625 28.003515625 7.75 27.75 L 1.3 21.3 Q 0.99609375 20.9890625 1 20.55 1.0048828125 20.1521484375 1.3 19.85 L 5.95 15.25 Q 6.246484375 14.9607421875 6.25 14.55 6.246484375 14.1392578125 5.95 13.85 L 1.3 9.2 Q 0.99609375 8.8890625 1 8.45 0.992578125 8.040234375 1.25 7.75 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.9390625 0.99609375 9.25 1.3 L 13.85 5.9 Q 14.1392578125 6.196484375 14.55 6.2 14.9607421875 6.196484375 15.25 5.9 L 19.85 1.25 Q 20.140234375 0.992578125 20.55 1 Z",fill:"#000000"}),t.createElement("path",{fill:i.buildUrl(o),transform:"translate(2, 2)",d:" M 7.9 -1.45 Q 7.3337890625 -2.00546875 6.5 -2 5.666015625 -2.00546875 5.05 -1.45 L -1.45 5 Q -2.00546875 5.616015625 -2 6.45 -2.00546875 7.2837890625 -1.45 7.85 L 3.2 12.5 -1.45 17.15 Q -2.003125 17.734765625 -2 18.55 -2.0017578125 19.3802734375 -1.45 19.95 L 5 26.4 Q 5.61953125 27.0017578125 6.45 27 7.2650390625 27.003125 7.85 26.4 L 12.5 21.8 17.1 26.4 Q 17.7197265625 27.001953125 18.55 27 19.36484375 27.0033203125 19.95 26.4 L 26.4 19.95 Q 26.994921875 19.3849609375 27 18.55 27.0087890625 17.7181640625 26.4 17.1 L 21.8 12.5 26.4 7.9 Q 26.9935546875 7.3453125 27 6.5 27.00625 5.69453125 26.4 5.1 L 19.95 -1.4 Q 19.3818359375 -1.9984375 18.55 -2 17.718359375 -1.9986328125 17.1 -1.4 L 12.5 3.2 7.9 -1.45 M 6.45 0 L 12.5 6 18.5 0 25 6.45 18.95 12.45 25 18.5 18.5 24.95 12.5 18.95 6.45 25 0 18.5 6 12.45 0 6.45 6.45 0 Z"}),t.createElement("path",{fill:i.buildUrl(s),transform:"translate(2, 2)",d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z"}),t.createElement("mask",{id:r},t.createElement("path",{d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z",fill:"#FFFFFF"})),t.createElement("g",{mask:i.buildUrl(r),transform:"translate(2, 2)"},t.createElement("g",{transform:"translate(12, 12)"},this.renderBg()))),c&&t.createElement("mask",{id:u},t.createElement("rect",{ref:"legMask",width:"32",height:"16",fill:"#000",transform:"translate(9, -2) rotate(45)"})),c&&t.createElement("g",{ref:"leg",mask:i.buildUrl(u)},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:"M 10.6 -0.1 Q 9.7021484375 -1.0048828125 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.4 Q -1.0048828125 7.2978515625 -1 8.5 -1.0048828125 9.7021484375 -0.1 10.6 L 18.45 29.2 Q 19.3349609375 30.0166015625 20.55 30.1 20.5986328125 30.1037109375 20.65 30.1 21.806640625 30.02265625 22.65 29.2 L 29.2 22.65 Q 30.02265625 21.806640625 30.1 20.65 30.1037109375 20.5986328125 30.1 20.55 30.0216796875 19.3330078125 29.2 18.45 L 10.6 -0.1 M 27.8 19.85 Q 28.0626953125 20.166015625 28.1 20.6 28.0626953125 20.9935546875 27.8 21.3 L 21.3 27.8 Q 20.9927734375 28.063671875 20.6 28.1 20.163671875 28.066796875 19.85 27.8 L 1.3 9.2 Q 1.0048828125 8.8978515625 1 8.5 1.0048828125 8.1021484375 1.3 7.8 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.8978515625 1.0048828125 9.2 1.3 L 27.8 19.85 Z"}),t.createElement("path",{fill:i.buildUrl(o),d:"M 28.45 21.95 Q 29.0671875 21.39609375 29.05 20.55 29.0671875 19.74140625 28.45 19.15 L 9.9 0.6 Q 9.3208984375 0.0076171875 8.5 0 7.6662109375 0.0076171875 7.05 0.6 L 0.6 7.1 Q 0.007421875 7.67890625 0 8.5 0.007421875 9.32109375 0.6 9.9 L 19.15 28.45 Q 19.7412109375 29.0673828125 20.55 29.05 21.3958984375 29.0673828125 21.95 28.45 L 28.45 21.95 M 1.95 8.5 L 8.45 2 27.05 20.6 20.55 27.05 1.95 8.5 Z"}),t.createElement("path",{fill:i.buildUrl(s),transform:"translate(2.15, 2)",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"}),t.createElement("mask",{id:a},t.createElement("path",{fill:"#fff",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"})),t.createElement("g",{mask:i.buildUrl(a),transform:"translate(2, 2)"},t.createElement("g",{transform:"translate(12, 12)"},this.renderBg())))))},CaptionIcon:function(){e("polyfills/detection");return t.createElement("svg",{className:"cs-icon caption-icon",width:"22px",height:"18px",viewBox:"0 0 22 18"},t.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},t.createElement("g",null,t.createElement("path",{d:"M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"}))))},CarrotIcon:function(){var e='<use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)" /><polygon id="icon-carrot" points="1,1.5 5,5 1,8.5"/>';return t.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CheckIconMobile:function(){var e='<use xlink:href="#icon-check-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>';return t.createElement("svg",{className:"cs-icon check-mobile-icon",width:"40",height:"30",viewBox:"0 0 40 30",key:e,dangerouslySetInnerHTML:{__html:e}})},ClearIcon:function(){var e='<use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>';return t.createElement("svg",{className:"cs-icon icon-clear",width:"13",height:"14",viewBox:"0 0 13 14",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIcon:function(){var e='<use xlink:href="#close-icon" class="icon-shadow" transform="translate(0, .5)" /><path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>';return t.createElement("svg",{className:"icon",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIconMobile:function(){var e='<use xlink:href="#icon-close-mobile" class="icon-mobile" /><polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18   "/>';return t.createElement("svg",{className:"icon",width:"36",height:"36",viewBox:"0 0 36 36",key:e,dangerouslySetInnerHTML:{__html:e}})},DisabledOrientationIcon:function(){return t.createElement("svg",{viewBox:"0 0 161 135"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"#fff",fillRule:"evenodd"},t.createElement("path",{d:"M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"}),t.createElement("path",{d:"M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"}),t.createElement("path",{d:"M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"})))},EmailIcon:function(){return t.createElement("svg",{className:"email-icon",width:"50",height:"50",viewBox:"0 0 50 50"},t.createElement("circle",{className:"email-icon-bg",cx:"24",cy:"24",r:"24",fill:"#3b3b3b",strokeWidth:"1"}),t.createElement("g",{className:"email-icon-envelope",fill:"none",strokeWidth:"2",transform:"translate(14, 17)"},t.createElement("rect",{x:"0",y:"0",width:"20",height:"15",rx:"1",ry:"1"}),t.createElement("path",{d:"M0 0 10 8 20 0"})))},EnterFullScreenIcon:function(){return t.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"0 0 32 32",style:{overflow:"visible"}},t.createElement("g",{transform:"translate(0, -2)"},t.createElement("path",{d:"M1.5,1.77635684e-15 L12,1.77635684e-15 L12,3 L3,3 L3,12 L-4.4408921e-16,12 L1.77635684e-15,-2.7554553e-16 L1.5,0 Z"}),t.createElement("path",{d:"M1.5,20 L12,20 L12,23 L3,23 L3,32 L-4.4408921e-16,32 L1.77635684e-15,20 L1.5,20 Z",transform:"translate(6.000000, 26.000000) scale(1, -1) translate(-6.000000, -26.000000) "}),t.createElement("path",{d:"M21.5,1.77635684e-15 L32,1.77635684e-15 L32,3 L23,3 L23,12 L20,12 L20,-2.7554553e-16 L21.5,0 Z",transform:"translate(26.000000, 6.000000) scale(-1, 1) translate(-26.000000, -6.000000) "}),t.createElement("path",{d:"M21.5,20 L32,20 L32,23 L23,23 L23,32 L20,32 L20,20 L21.5,20 Z",transform:"translate(26.000000, 26.000000) scale(-1, -1) translate(-26.000000, -26.000000) "})))},ExitFullScreenIcon:function(){return t.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"-289 381 32 32",style:{overflow:"visible"}},t.createElement("g",{transform:"translate(0, -3)"},t.createElement("path",{d:"M-265.5,391h8.5v-3h-7v-7h-3v10H-265.5z"}),t.createElement("path",{d:"M-280.5,403h-8.5v3h7v7h3v-10H-280.5z"}),t.createElement("path",{d:"M-267,404.5v8.5h3v-7h7v-3h-10V404.5z"}),t.createElement("path",{d:"M-279,389.5V381h-3v7h-7v3h10V389.5z"})))},GearIcon:function(){return t.createElement("svg",{className:"cs-icon icon-gear",width:"14",height:"14",viewBox:"0 0 14 14"},t.createElement("path",{id:"icon-gear",d:"M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"}))},MenuIcon:function(){var e=['<use xlink:href="#icon-menu-mobile" class="icon-mobile" transform="translate(0, 1)" />','<g id="icon-menu-mobile">','<rect width="40" height="4"/>','<rect y="16" width="40" height="4"/>','<rect y="32" width="40" height="4"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon menu-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIcon:function(){var e='<use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="next-icon" points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5"/>';return t.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIconMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return t.createElement("svg",{className:"cs-icon next-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconMobile:function(){var e='<use xlink:href="#icon-play" /><path id="icon-play" d="M 11 7.15 L 0 0 0 14.3 11 7.15 Z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIcon:function(){var e='<use xlink:href="#icon-replay" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-replay" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>';return t.createElement("svg",{className:"cs-icon",width:"18",height:"16",viewBox:"0 0 18 16",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIcon:function(){var e='<use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="prev-icon" points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>';return t.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIconMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>';return t.createElement("svg",{className:"cs-icon prev-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIcon:function(){return t.createElement("svg",{className:"cs-icon",width:"14",height:"14",viewBox:"0 0 14 14"},t.createElement("path",{d:"M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2 C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"}))},SearchIconMobile:function(){var e=['<g id="icon-search" transform="translate(4, 0)">','<path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>','<path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon search-icon",width:"22",height:"22",viewBox:"0 0 40 40",key:e,dangerouslySetInnerHTML:{__html:e}})},VolumeIcon:function(){var e=this.props.volumeStrength>0?"":"hidden",i=this.props.volumeStrength>=5?"":"hidden",n=10==this.props.volumeStrength?"":"hidden",r=['<use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="player-volume">','<polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>','<rect class="'+e+'" x="10" y="5" width="1" height="6"/>','<rect class="'+i+'" x="12" y="4" width="1" height="8"/>','<rect class="'+n+'" x="14" y="3" width="1" height="10"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon",width:"15",height:"15",viewBox:"0 0 15 15",key:r,dangerouslySetInnerHTML:{__html:r}})},AppUnified:function(){var i=(e("polyfills/detection"),e("views/SvgLibrary")),n=e("views/player/Topbar"),r=e("views/presentation/MainWindow"),s=e("views/player/Sidebar"),o=e("views/player/SlideLoaderOverlay"),a=(e("helpers/cssPrefix"),e("views/presentation/PopupWindow")),l=e("views/presentation/SlideLockCursor"),u=(e("helpers/svg/svgUtils"),e("helpers/utils")),c=this.state.fontScale+"%",h=_.curry(function(e,t){return[t,e].join("")}),p=(_.flow(u.decToPct,h("vw")),_.flow(u.decToPct,h("vh")),["presentation-wrapper","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")),d=(this.props.presentation.display().get("height"),this.props.presentation.display().get("width"),window.innerWidth/window.innerHeight,{width:"100%",height:"100%",fontSize:c,lineHeight:c}),f={};return t.createElement("div",{id:"presentation-container",className:"non-eventable",style:f},t.createElement("div",{id:"presentation",style:d,className:p},t.createElement(i,{
ref:"svgLib"}),this.props.player.get("presenters")&&t.createElement(a,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&t.createElement(s,{ref:"sidebar",model:this.props.player}),t.createElement("div",{ref:"primary",className:"area-primary cs-area-primary"},this.props.presentation.get("debugMode")&&t.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&t.createElement(n,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),t.createElement(r,{ref:"mainWindow",player:this.props.player})),t.createElement("div",{id:"app-top-container"}),t.createElement("div",{id:"app-top-overlay"})),t.createElement(l,null),t.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),t.createElement("div",{id:"overlay-container",className:"non-eventable"}),t.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:[["cs-",this.props.state.currentScheme()].join(""),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{id:"presentation-canvas"}),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),this.state.showLoader&&t.createElement(o,null))},GlossaryUnified:function(){e("views/player/GlossaryTerms"),e("views/player/GlossaryDefinition");return t.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},this.props.collection.map(function(e,i){return t.createElement("div",{className:"glossary-item",key:i},t.createElement("div",{className:"glossary-title"},e.get("title")),t.createElement("div",{className:"glossary-content"},e.get("content")))}.bind(this)))},MainWindowUnified:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Bottombar"),r=e("views/presentation/SlideWindowBackground"),s=this.getBackground();return t.createElement("div",{id:"main-window"},t.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=s&&t.createElement(r,{bg:s}),t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),this.state.currentSlide&&this.hasBottomBar()&&t.createElement(n,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowUnifiedMobile:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Captions"),r=e("views/player/UiMobile");return t.createElement("div",{ref:"primary",id:"main-window",style:{background:"red"}},t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),t.createElement(n,null),this.props.hasUi&&t.createElement(r,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers}))},NotesUnified:function(){var i=e("views/player/NotesHeader"),n=e("views/player/NotesList"),r=this.getNotesHtml();return t.createElement("div",{className:"cs-transcript transcript"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement(i,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),t.createElement("hr",{className:"cs-div panel-relative-hr"})),t.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",role:"complementary"},t.createElement(n,{ref:"notesList",commandsetId:null,pathLib:null,notesHtml:r})))},ResourcesListUnified:function(){return t.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,i){var n=this.getExtSettings(e);return t.createElement("li",{className:"resource",key:i,role:"presentation"},t.createElement("a",{href:e.get("url"),className:"cs-listitem list-item resource-ext-"+n,target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},t.createElement("div",{className:"file-icon"},"link"!==n&&t.createElement("svg",{width:"30px",height:"34px",viewBox:"0 0 40 50"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("path",{className:"file-icon-bg",d:"M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"}),t.createElement("path",{className:"file-icon-fold",d:"M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"})))),"link"!==n&&t.createElement("div",{className:"file-icon-text"},n),"link"===n&&t.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18"},t.createElement("defs",null,t.createElement("rect",{id:"link-path-1",x:"0",y:"0",width:"10",height:"5"}),t.createElement("rect",{id:"link-path-2",x:"-4.8316906e-13",y:"3.97903932e-13",width:"10",height:"5"})),t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(8.606602, 8.606602) rotate(-315.000000) translate(-8.606602, -8.606602) translate(3.606602, -1.393398)"},t.createElement("g",{transform:"translate(0.000000, 0.000000)"},t.createElement("mask",{id:"link-mask-1",fill:"white"},t.createElement("use",{xlinkHref:"#link-path-1"})),t.createElement("circle",{stroke:"#4FBDF4",strokeWidth:"2",mask:"url(#link-mask-1)",cx:"5",cy:"5",r:"4"}),t.createElement("path",{d:"M-2.27373675e-13,5 L2,5 L2,7.9906311 C2,8.54809015 1.55613518,9 1,9 L1,9 C0.44771525,9 -2.27373675e-13,8.55664682 -2.27373675e-13,7.9906311 L-2.27373675e-13,5 Z",fill:"#4FBDF4"}),t.createElement("path",{d:"M8,5 L10,5 L10,7.9906311 C10,8.54809015 9.55613518,9 9,9 L9,9 C8.44771525,9 8,8.55664682 8,7.9906311 L8,5 Z",fill:"#4FBDF4"})),t.createElement("rect",{fill:"#4FBDF4",x:"4",y:"5",width:"2",height:"10",rx:"1"}),t.createElement("g",{transform:"translate(5.000000, 15.500000) scale(1, -1) translate(-5.000000, -15.500000) translate(0.000000, 11.000000)"},t.createElement("mask",{id:"link-mask-2",fill:"white"},t.createElement("use",{xlinkHref:"#link-path-2"})),t.createElement("circle",{stroke:"#4FBDF4",strokeWidth:"2",mask:"url(#link-mask-2)",cx:"5",cy:"5",r:"4"}),t.createElement("path",{d:"M-1.42108547e-13,5 L2,5 L2,7.9906311 C2,8.54809015 1.55613518,9 1,9 L1,9 C0.44771525,9 -1.42108547e-13,8.55664682 -1.42108547e-13,7.9906311 L-1.42108547e-13,5 Z",fill:"#4FBDF4"}),t.createElement("path",{d:"M8,5 L10,5 L10,7.9906311 C10,8.54809015 9.55613518,9 9,9 L9,9 C8.44771525,9 8,8.55664682 8,7.9906311 L8,5 Z",fill:"#4FBDF4"})))))),t.createElement("div",{className:"file-name"},e.get("title"))))}.bind(this)))},ResourcesUnified:function(){var i=(e("helpers/utils"),e("views/player/ResourcesHeader"),e("views/player/ResourcesList"));return t.createElement("div",{className:"cs-resource resources"},t.createElement("div",{className:"panel-content"},t.createElement(i,{resources:this.props.model.resources(),ref:"resourcesList"})))},SearchFooterUnified:function(){return t.createElement("div",{className:"panel-footer hidden"})},SidebarUnified:function(){var i=e("views/player/TabPanel"),n=e("views/player/SidebarTab"),r=e("views/player/Presenter"),s=e("views/player/Icon"),o="area-secondary cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden"),a=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:"area-secondary-wrapper"},t.createElement("div",{className:o,style:{height:this.props.height}},t.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&t.createElement("div",{className:"logo inflexible cs-logo",style:{background:"transparent",backgroundImage:"url("+this.logoUrl()+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),(this.hasPresenter()||this.hasVideo())&&t.createElement(r,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),t.createElement("div",{className:"tabs-wrap grid-col"},t.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,i){return t.createElement(n,{ref:"sidebarTab"+i,config:e,key:i,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)),a&&t.createElement("li",{className:"tab cs-tabs search-tab",role:"button",tabIndex:"-1"},t.createElement(s,{key:"Search",type:"Search"}))),this.state.tabs.map(function(e,n){return t.createElement(i,{config:e,key:n,ref:"sidebarPanel"+n,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this))))))},TimerUnified:function(){var i=e("helpers/svg/svgUtils"),n=e("polyfills/detection"),r=18,s={width:r,height:r};return t.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},t.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!n.isMobile&&t.createElement("div",{className:"timer-wheel",style:s},t.createElement("svg",{style:s,width:r,height:r,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("circle",{cx:"9",cy:"9",r:"8.5",fill:"rgb(251, 113, 65)"}),t.createElement("path",{d:i.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"#3C3C3C",transform:"rotate(-90 9 9)",stroke:"none"}),t.createElement("circle",{cx:"9",cy:"9",r:"6",fill:"#282727"}))))},TopTabsItemUnified:function(){var i=e("views/player/TabPanel"),n="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return t.createElement("div",{className:["cs-topmenu-item","topmenu-item",this.props.activeTab===this.props.config?"active":"",this.determineVisibilty()?"":"hidden"].join(" ")},t.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),t.createElement("div",{className:"cs-separator topmenu-separator inflexible"},t.createElement("div",{className:"cs-diva topmenu-separator-item"})),n&&t.createElement(i,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},TopTabsUnified:function(){var i=(e("lodash"),e("views/player/TopTabsItem")),n=3,r=this.state.tabs.slice(0,n),s=this.state.tabs.slice(n);return t.createElement("div",{className:"top-tabs-"+this.props.align},r.map(function(e,n){return t.createElement(i,{key:n,ref:"topTabsItem"+n,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)),t.createElement("div",{className:"topmenu-item top-tabs-drop-icon",onClick:this.toggleDropDown},t.createElement("div",null),t.createElement("div",null),t.createElement("div",null)),t.createElement("div",{className:["top-tabs-drop",this.state.showMenu?"shown":"hidden"].join(" ")},s.map(function(e,r){return r+=n,t.createElement(i,{key:r,ref:"topTabsItem"+r,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this))))},TopbarUnified:function(){var i=e("views/player/TopTabs"),n=e("views/player/Timer"),r=e("views/player/Icon"),s=e("views/player/ElapsedAndTotalTime");return t.createElement("header",{className:"header-primary"},this.hasTitle()&&t.createElement("h1",{className:"presentation-title cs-title"},t.createElement("div",{className:"menu-icon-wrapper "+(this.state.hamburgerOver?"menu-icon-wrapper-hover":""),onMouseOver:this.hamburgerOver,onMouseOut:this.hamburgerOut,onClick:this.toggleSlide},t.createElement(r,{key:"Menu",type:"Menu"})),this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasElapsedAndTotalTime()&&t.createElement(s,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,i){return t.createElement(n,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),(this.hasLinkRight()||this.hasLinkLeft())&&t.createElement("div",{className:"top-tabs"},t.createElement("div",{className:"cs-separator topmenu-separator inflexible"},t.createElement("div",{className:"cs-diva topmenu-separator-item"})),t.createElement(i,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"left"})))},MenuIconUnified:function(){return t.createElement("svg",{width:"30px",height:"33px",viewBox:"0 0 30 33"},t.createElement("path",{d:"M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z",id:"Combined-Shape",fill:"#6C6C6C"}))},NextIconUnified:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" id="Combined-Shape" stroke="none" fill-rule="evenodd" transform="translate(4.502645, 7.602651) scale(-1, 1) translate(-4.502645, -7.602651) "></path>';return t.createElement("svg",{className:"cs-icon next-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIconUnifiedMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return t.createElement("svg",{className:"cs-icon next-mobile-icon jext",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIconUnified:function(){var e='<use xlink:href="#icon-play" /><path transform="translate(-11 -7)" xmlns="http://www.w3.org/2000/svg" d="M12,10 L14,10 L14,22 L12,22 L12,10 Z M18,10 L20,10 L20,22 L18,22 L18,10 Z" fill="white"/>';return t.createElement("svg",{className:"cs-icon pause-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnified:function(){var e='<use xlink:href="#icon-play" /><path transform="translate(-11 -7)" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return t.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnifiedMobile:function(){var e='<use xlink:href="#icon-play" /><path fill="green" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return t.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIconUnified:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" id="Combined-Shape" stroke="none" fill-rule="evenodd"></path>';return t.createElement("svg",{className:"cs-icon prev-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIconUnifiedMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path transform="rotate(180)" xmlns="http://www.w3.org/2000/svg" d="M259.816852,16.6026508 L266.005289,10.4142136 L264.591076,9 L257,16.5910759 L257.011575,16.6026508 L257,16.6142258 L264.591076,24.2053017 L266.005289,22.7910881 L259.816852,16.6026508 Z" fill="#6C6C6C"/>';return t.createElement("svg",{className:"cs-icon prev-mobile-icon bad",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIconUnified:function(){return t.createElement("svg",{className:"cs-icon search-icon",width:"43px",height:"13px",viewBox:"0 0 10 10"},t.createElement("g",{transform:"translate(-15, 0) scale(1.3)",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("circle",{strokeWidth:"2",cx:"4",cy:"4",r:"3"}),t.createElement("rect",{transform:"translate(7.866295, 7.866295) rotate(-45.000000) translate(-7.866295, -7.866295) ",x:"6.86629512",y:"5.93406203",width:"2",height:"3.86446619"}))))}}}),define("helpers/templateManager",["require","lodash","helpers/errorManager","views/mixins/baseView","templates/templates","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("views/mixins/baseView"),r=e("templates/templates"),s=e("polyfills/detection"),o=i.throwError("templateManager"),a=i.backtick,l=o("getTemplate"),u=a("templateName")+" argument empty",c="tried calling for an undefined template",h=function(e){var t=r[e+"Mobile"];return s.isMobile&&null!=t?t:r[e]},p={getTemplate:function(e){e||l(u);var i=h(e);return t.isUndefined(i)&&l(c,a(e)),i}};return n.setTemplateManager(p),p}),define("views/events/doubleclick",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=0,r=600;i.registerEvent("doubleclick",function(e){return function(s,o){var a=function(e){var t;return n++,setTimeout(function(){n=0},r),n>=2&&(t=!0,n=0,e.currentTarget.wasDoubleClicked=!0),(i.doesEventTargetAcceptEvents(e)||s.overrideAcceptEvents)&&t},l=t.flow(e(s,"mouseup",a,o,!0),e(s,"touchend",a,o,!0));return s.setAttribute("data-double-click",!0),{teardown:l}}})}),define("views/events/press",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=function(e){return i.isLeftMouseBtn(e)&&i.doesEventTargetAcceptEvents(e)};i.registerEvent("press",function(e){return function(r,s,o){var a=function(e){return i.doesEventTargetAcceptEvents(e)?(o.triggerEvent({type:"rollover"}),!0):void 0},l=t.flow(e(r,"mousedown",n,s),e(r,"touchstart",a,s,!1));return{teardown:l}}})}),define("views/events/release",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/utils"),s=e("views/events/eventHelper"),o=(e("views/events/touchHelper"),e("polyfills/vendorOverrides")),a=e("polyfills/detection"),l=function(e){var t=e.currentTarget.wasDoubleClicked;return e.currentTarget.wasDoubleClicked=null,!!t},u=function(e){return e.classList.contains("slide-object")},c=function(e){return s.isLeftMouseBtn(e)&&s.doesEventTargetAcceptEvents(e,u)},h=function(e){return!l(e)},p=function(e){if(e.touches.length>0)return i=!0,!1;var n=i,o=r.dist(t.x,t.y,e.changedTouches[0].clientX,e.changedTouches[0].clientY);return i=!1,!n&&20>o&&s.doesEventTargetAcceptEvents(e)&&!l(e)},d=function(e){t={x:e.touches[0].clientX,y:e.touches[0].clientY}};s.registerEvent("release",function(e){return function(t,i,r){if(null!=o.registerAudioInitEvent){var s=o.registerAudioInitEvent(e,t,i,r);if(null!=s)return s}var l=function(r){var s,o=function(e){return s(),h(e)};!c(r)||a.isMobile&&!a.isMobilePreview||(s=n.flow(e(t,"mouseup",o,i),e(t,"mouseleave",function(){s()},n.noop)))},u=e(t,"touchstart",d,n.noop,!0),f=n.flow(e(t,"mousedown",l,n.noop),e(t,"touchend",p,i,!0));return[{teardown:u},{teardown:f}]}})}),define("views/events/rightpress",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),i=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightpress",function(e){return function(t,n){var r=e(t,"mousedown",i,n);return{teardown:r}}})}),define("views/events/rightrelease",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),i=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightrelease",function(e){return function(t,n){var r=e(t,"mouseup",i,n);return{teardown:r}}})}),define("views/events/rollover",["require","lodash","views/events/eventHelper","views/events/touchHelper","views/helpers/dom"],function(e){"use strict";var t,i=e("lodash"),n=e("views/events/eventHelper"),r=(e("views/events/touchHelper"),e("views/helpers/dom")),s=function(e){return i.get(e,"props.model.isGroupingSlideObject")};n.registerEvent("rollover",function(e){return function(o,a,l){var u=function(e){var i=!1,a=l.props.model;if(null!=t&&null!=e.topView&&l!==e.topView&&e.topView===t&&(i=!0,!a.isGroupingSlideObject||a.isGroupingContainer))return e.stopImmediatePropagation(),!1;e.topView||(e.topView=l);var u=function(){return!i&&t&&t!==l&&"rollout"!==t.latestEvent};if(u()&&!t.isObscurable){if(s(t))return t=l,!1;t.triggerEvent({type:"rollout",target:e.target})}return t=e.topView,function(){var e,i=0,n=function(e){i++},a=function(u){var c;if(0===i&&!l.isObscurable){if(c=document.elementFromPoint(u.pageX,u.pageY),t.el===r.closest(c,r.isSlideObject))return;e=s(t)?l.el:u.target,l.triggerEvent({type:"rollout",target:e})}document.removeEventListener("mousemove",a),o.removeEventListener("mousemove",n)};o.addEventListener("mousemove",n),document.addEventListener("mousemove",a)}(),n.doesEventTargetAcceptEvents(e)},c=function(e){return n.doesEventTargetAcceptEvents(e)},h=i.flow(e(o,"mouseover",u,a),e(o,"touchstart",c,a,!0,!1));return{teardown:h}}})}),define("views/events/rollout",["require","lodash","views/events/eventHelper","views/helpers/collisionHelper","views/helpers/dom","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=e("views/helpers/collisionHelper"),r=e("views/helpers/dom"),s=e("helpers/utils"),o=e("polyfills/vendorOverrides"),a=40,l=o.mouseOver||function(){return"mouseenter"},u=function(e){var t=(e.getCurrentStateData&&e.getCurrentStateData()||{}).html5data,i=null!=t,n=i?t.width:e.get("width"),r=i?t.height:e.get("height");return{width:n,height:r}},c=function(e){return e.get("showcontrols")?a:0};i.registerEvent("rollout",function(e){return function(i,o,a){var h,p,d,f,m,g,v,y=a.props.model,b=function(){p=null,o({type:"rollout",node:i,target:i}),clearInterval(d)},w=function(e){v=null==y.getSlide?1:y.getSlide().calculateTotalScale(),f=u(y),m=f.width/v,g=(f.height+c(y))/v;var i,o,l=[[0,0],[m,g]],h=n.slideObjectMouseLoc(a),d=a.props.model.isZoomable(),w=!1;return d&&(i=document.elementFromPoint(r.mouseX,r.mouseY),w=r.hasClass(i,"zoom-image")),s.pointInRect(h.x,h.y,l)||w?void("rectHit"!==t.get(y,["collision","hitType"],"rectHit")&&(o=n.containsPoint(a,h.x*v,h.y*v),o?p="over":"over"===p&&b())):void b()};return h=a.isObscurable?t.flow(e(i,l(),function(e){a.isObscurable&&(clearInterval(d),d=setInterval(w,16))},t.noop),e(i,"touchend",null,o,!0,!1)):t.flow(e(i,"mouseleave",function(e){return!0},o),e(i,"touchend",null,o,!0,!1)),{teardown:h}}})}),define("views/events/clickoutsideobjects",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t,i=e("lodash"),n=e("views/events/eventHelper"),r=function(e){var r=n.parentNodesOf(e.target);t=i.compact(i.invoke(r,"getAttribute","data-model-id"))},s=function(e){return{data:t||[]}};n.registerEvent("clickoutsideobjects",function(e){return function(t,n){var o=e(t,"mousedown",r,i.noop,!0),a=e(t,"mouseup",s,n,!0);return[{teardown:o},{teardown:a}]}})}),define("views/events/clickoutside",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=function(e,t){return e.contains(t.target)?!1:{node:e,target:t.target}};i.registerEvent("clickoutside",function(e){return function(i,r){var s=t.flow(e(document.body,"click",t.partial(n,i),r),e(document.body,"touchstart",t.partial(n,i),r,!1,!1));return{teardown:s}}})}),define("views/events/releaseoutside",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper");i.registerEvent("releaseoutside",function(e){return function(i,n){var r,s,o=function(e,t){var i=document.elementFromPoint(t.pageX,t.pageY);return r&&r(),e.contains(i)?!1:{node:e}},a=function(e,i){return o(e,t.first(i.changedTouches))},l=function(){r=t.flow(e(document,"mouseup",t.partial(o,i),n),e(document,"touchend",t.partial(a,i),n,!0,!1))};return s=t.flow(e(i,"mousedown",l),e(i,"touchstart",l)),{teardown:function(){r&&r(),s()}}}})}),define("views/events/allEvents",["require","views/events/doubleclick","views/events/press","views/events/release","views/events/rightpress","views/events/rightrelease","views/events/rollover","views/events/rollout","views/events/clickoutsideobjects","views/events/clickoutside","views/events/releaseoutside"],function(e){"use strict";e("views/events/doubleclick"),e("views/events/press"),e("views/events/release"),e("views/events/rightpress"),e("views/events/rightrelease"),e("views/events/rollover"),e("views/events/rollout"),e("views/events/clickoutsideobjects"),e("views/events/clickoutside"),e("views/events/releaseoutside")}),define("models/presentation/SlideLink",["require","models/BaseModel"],function(e){"use strict";var t=e("models/BaseModel"),i=t.extend({});return i}),define("collections/presentation/SlideLinks",["require","collections/BaseCollection","models/presentation/SlideLink"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideLink"),n=t.extend({model:i});return n}),define("models/presentation/SlideRef",["require","models/BaseModel","collections/presentation/SlideLinks","helpers/assetManager","helpers/resolver"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/presentation/SlideLinks"),n=e("helpers/assetManager"),r=e("helpers/resolver"),s=t.extend({shorthand:["assetIds"],associations:{linksto:i},loadAssets:function(){return n.loadAssets(this.assetIds().slice())},getSlide:function(){return r.resolvePath(this.id)}});return s}),define("collections/presentation/SlideRefs",["require","collections/BaseCollection","models/presentation/SlideRef"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideRef"),n=t.extend({model:i});return n}),define("models/presentation/SlideMap",["require","lodash","models/BaseModel","collections/presentation/SlideRefs","helpers/utils","helpers/resolver","helpers/errorManager","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("models/BaseModel"),r=e("collections/presentation/SlideRefs"),s=e("helpers/utils"),o=e("helpers/resolver"),a=e("helpers/errorManager"),l=e("helpers/pubSub"),u=a.throwError("SlideMap"),c=function(e,t){return t.type===e},h=i.partial(c,"slidedraw"),p=i.partial(c,"slide"),d=i.partial(c,"slidebank"),f=n.extend({shorthand:["queueSize"],associations:{slideRefs:r},subscriptions:{"loader:silence":"onSilenceLoader"},initialize:function(){this.loaders=[],this.silenceLoader=!1},onSilenceLoader:function(){this.silenceLoader=!0},showLoader:function(){this.slideLoaded===!0||this.silenceLoader||l.trigger("loader:show"),this.silenceLoader=!1},setCurrent:function(e,i){var n;this.slideLoaded=null,this.showLoader(),t||(t=o.getPresentationContext()),this.queueCounter=0,this.stopCurrentLoaders(),n=o.resolvePath(e,t),n.isScene?e+="."+n.slides().first().id:null!=n.currView&&l.trigger("loader:hide"),i.done(function(){this.getNextSlide(s.stripPlayer(e)),this.slideLoaded=!0}.bind(this))},stopCurrentLoaders:function(){this.loaders.length>0&&this.loaders.forEach(function(e){e.dfds.forEach(function(e){e.reject()})}),this.loaders=[]},checkQueue:function(){return this.queueCounter<this.queueSize()},getFirstOfDraw:function(e){var i=o.resolvePath(e,t),n=i.getFirstSlide(),r=this.slideRefs().findWhere({id:n.id}),a=r.loadAssets();a.done(function(){this.getNextSlide(s.prefixWithPlayer(e))}.bind(this))},getNextSlideFromDraw:function(e){var n,r,s;this.checkQueue()&&(n=o.resolvePath(e,t),r=i.result(n,"getSlideDraw"),r&&(s=r.getNextSlideId(n),s&&this.preloadNextBankSlide(s)))},getNextSlide:function(e){var n,r,s;this.checkQueue()&&(n=this.slideRefs().findWhere({id:e}),n&&n.get("linksTo")?(r=n.get("linksTo"),i.isArray(r)||u("getNextSlide","`linksTo` must be an array"),this.preloadLink(r)):(s=o.resolvePath(e,t),s.isSlideDraw?this.preloadNextBankSlide(s.startingSlide()):this.getNextSlideFromDraw(e)))},preloadNextBankSlide:function(e){var t=i.last(e.split("."));this.preloadLink([{id:t,type:"slidebank",fullId:e}])},preloadLink:function(e){e.forEach(function(e){if("nextviewedslide"!==e.id){var t,i=this.slideRefs().findWhere({id:e.id});null!=i&&(h(e)?this.getFirstOfDraw(e.id):(t=i.loadAssets(),this.loaders.push(t),t.done(function(){this.queueCounter++,p(e)?this.getNextSlide(e.id):d(e)&&this.getNextSlideFromDraw(e.fullId)}.bind(this))))}}.bind(this))}});return f}),define("models/presentation/Window",["require","models/BaseModel"],function(e){"use strict";var t=e("models/BaseModel"),i=t.extend({});return i}),define("collections/presentation/Windows",["require","collections/BaseCollection","models/presentation/Window"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Window"),n=t.extend({model:i});return n}),define("models/presentation/Display",["require","models/BaseModel","collections/presentation/Windows"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/presentation/Windows"),n=t.extend({associations:{windows:i},shorthand:["width","height"]});return n}),define("models/presentation/Scoring",["require","lodash","helpers/pubSub","models/BaseModel","models/presentation/mixins/propertizable","helpers/constants","helpers/resolver","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/pubSub")),i=e("models/BaseModel"),n=e("models/presentation/mixins/propertizable"),r=e("helpers/constants"),s=e("helpers/resolver"),o=e("helpers/utils"),a=i.extend({mixins:[n],playerPropNames:{Score:0,PercentScore:0,Status:r.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:{"slide:viewed":"incrementViewed","player:reset":"reset"},initialize:function(){this.viewedSlideGroups={},this.viewedSlides=0,t.once("data:initialized",this.setupRefs.bind(this))},setupRefs:function(){this.scoreRef=null!=this.scoreRefs()&&this.scoreRefs().length>0&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(e){this.viewedSlideGroups[e.getViewGroupId()]||(this.viewedSlideGroups[e.getViewGroupId()]=!0,this.viewedSlides++,this.isPastViewThreshold()&&this.isView()&&(t.trigger("course:viewed",this),this.updateStatus(!1)))},getQuiz:function(e){return s.resolvePath(o.prefixWithPlayer(e),this)},isCourseComplete:function(){return this.isView()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){return this.viewedSlides>=this.get("viewThreshold");
},weightScore:function(e){return o.fix(e/this.get("weight"),2)},getStatus:function(){var e,t,i=r.statuses.INCOMPLETE;return this.isCourseComplete()&&(this.isView()?i=this.get("passStatus"):this.isType("survey")?i=this.get("passStatus"):this.isType("quiz")&&(e=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),i=this.get(e?"passStatus":"failStatus"),!this.scoreRef.mustpass&&e||(t=this.quiz.isPassed()?"passStatus":"failStatus",i=this.get(t)))),i},updateStatus:function(e){var i=!e,n=this.getStatus();this.prop("Status",n),i&&t.trigger("status:updated")},updateScore:function(e){var t=0,i=0;return this.quiz!==e?void this.quiz.updateScore():(this.quiz.maxPoints>0&&(t=this.quiz.prop("Score"),i=this.quiz.prop("PercentScore")),this.prop({Score:t,PercentScore:i}),void this.updateStatus())},setComplete:function(e){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){null!=this.quiz&&this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},isView:function(){return this.isType("view")},checkCourseComplete:function(){var e=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),e||this.isView()||t.trigger("course:completed",this,e))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return o.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}});return a}),define("models/presentation/mixins/resumables/slideResumable",["require","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/courseStateHelper"],function(e){"use strict";var t=e("models/presentation/helpers/utils"),i=e("helpers/resume/Chunk"),n=e("helpers/resume/courseStateHelper"),r=function(e){return i.create(i.toUnsignedString64(e))},s={getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(e){var t="";if(this.viewed)if(e||this.resume()){var n=this.getBaseLayer();t=[this.getInteractionResumeData(),n.timeline().getResumeData(),n.getObjectsResumeData(e),this.getSlideLayerResumeData(e),this.slideLayers().getActiveLayersResumeData(),n.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(i.create).join("")}else this.hasInteractions()&&(t=i.create(this.getInteractionResumeData()));this.setResumeData(t,!1)},getSlideLayerResumeData:function(e){return this.slideLayers().getNonBaseLayers().filter(t.getResumeableFilter(e)).reduce(function(e,t){var n=t.getResumeDataOrReturn("");return e+i.create(n)},"")},getInteractionResumeData:function(){var e="";return this.hasInteractions()&&(e=this.interactions().map(function(e){return e.getResumeData()}).map(i.create).join("")),e},updateInteractionData:function(){var e;return this.hasInteractions()&&(e=new i({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=i.create(this.getInteractionResumeData())+e),this},clearResumeData:function(){this.encodedResumeData="",this.hasResumeData=!1,this.slideLayers().forEach(function(e){e.clearResumeData()}),this.slideLayers().initialize()},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.interactionData=""},resetBeforeView:function(){return this.viewed&&(this.resetPropsExcept(["WindowId"]),this.variables().resetValues(),this.slideLayers().hideAllHideableLayers(),this.slideLayers().resetActiveLayers(),this.slideLayers().getBaseLayer().resetResume(),this.slideLayers().resetActiveLayers().forEach(function(e){e.resetResume()})),this.resume()||this.interactions().forEach(function(e){e.resetResume()}),this.resetCurrentTimeline(),this},setResumeData:function(e,t,n){return this.encodedResumeData=e,e.length>0?(this.interactionData=new i({fullString:e}),this.setInteractionResumeData(this.interactionData.encodedString()),(n||this.resume())&&(t!==!1&&this.setAsViewed(),this.hasResumeData=!0,this.timelineData=this.interactionData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},applyResumeData:function(){var e=!1,t=this.getBaseLayer(),i=n.getSlideStateData(this.absoluteId);return null!=i&&(e=!0,n.clearSlideStateData(this.absoluteId),this.setResumeData(i,!1,!0)),(e||this.resume())&&this.hasResumeData&&(this.hasResumeData=!1,t.timeline().setResumeData(this.timelineData.encodedString()),t.setObjectsResumeData(this.objectData.encodedString(),e),this.setSlideLayerResumeData(this.layerData,e),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString()),this.trigger("resume:applied")),this.trigger("resume:complete"),this},setInteractionResumeData:function(e){var t=new i({fullString:e});this.hasInteractions()&&this.interactions().forEach(function(e){e.resetResponses(),e.setResumeData(t.encodedString()),t=t.reChunk()})},setSlideLayerResumeData:function(e,n){var r=new i({fullString:e.encodedString()});this.slideLayers().getNonBaseLayers().filter(t.getResumeableFilter(n)).forEach(function(e){e.setResumeData(r.encodedString(),n),r=r.reChunk()})},onBeforeResumeBuilt:function(e){this.slideLayers().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){this.getSceneOrDraw().saveSlideData(this),e||this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var e,t,i=this.getSlideDraw();return i?(e="1",t=[this.index(),i.getScene().index(),i.index()]):(e="0",t=[this.index(),this.getScene().index()]),e+t.map(r).join("")}};return s}),define("models/presentation/mixins/resumables/slideLayerResumable",["require","lodash","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/helpers/utils"),n=e("helpers/resume/Chunk"),r=function(e){return!!e.isSlide},s={init:function(){this.getResumeDataOrReturn=t.partial(i.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(e){(e&&this.isOpen||this.resume())&&(this.encodedResumeData=this.shownInCurrentView?[this.timeline().getResumeData(),this.getObjectsResumeData(e),this.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(n.create).join(""):this.viewed?this.cachedResumeData:"")},getObjectsResumeData:function(e){return this.objectIndex.filter(i.getResumeableFilter(e)).reduce(function(t,i){return t+n.create(i.getResumeData(e))},"")},clearResumeData:function(){this.cachedResumeData="",this.isViewed=!1,this.baseLayerPauses=[]},resetResume:function(){this.encodedResumeData="",this.resetBeforeView()},resetBeforeView:function(){return this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),this.audiolib().resetBeforeView(),this.baseLayerPauses=[],t.invoke(this.objDecendants,"resetResume"),this},setResumeData:function(e,t){if(this.cachedResumeData=e,(t||this.shouldResume())&&e){this.wasForcedResumed=t;var i=new n({fullString:e}),r=i.reChunk(),s=r.reChunk(),o=s.reChunk();this.setAsViewed(),this.timeline().setResumeData(i.encodedString()),this.setObjectsResumeData(r.encodedString(),t),this.audiolib().setResumeData(s.encodedString(),t),this.variables().setResumeData(o.encodedString())}},applyResumeData:function(){return this.setResumeData(this.encodedResumeData),this},setObjectsResumeData:function(e,t){var r=new n({fullString:e});this.objectIndex.filter(i.getResumeableFilter(t)).forEach(function(e){e.setResumeData(r.encodedString()),r=r.reChunk()})},onBeforeResumeBuilt:function(e){this.objects().invoke("prepareResumeData",e)},shouldResume:function(){return this.resume()&&this.getClosestAncestor(r).resume()}};return s}),define("models/presentation/Audio",["require","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","helpers/assetManager"],function(e){"use strict";var t=e("models/BaseModel"),i=e("mixins/actionable"),n=e("models/presentation/mixins/propertizable"),r=e("models/presentation/mixins/eventable"),s=e("helpers/assetManager"),o=t.extend({shorthand:["assetId","events"],mixins:[i,r,n],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getUrl:function(){return s.getAssetUrl(this.assetId())},getResumeData:function(e){var t="",i=0;return(e||this.getSlide().resume())&&(i+=this.prop("isTimelineControlled")?1:0,i+=this.prop("isPlaying")?2:0,i+=this.prop("resumeOnTimelinePlay")?4:0,t=i.toString()),t},setResumeData:function(e,t){(t||this.getSlide().resume())&&(e=parseInt(e,10),this.prop({isTimelineControlled:!!(1&e),isPlaying:!!(2&e),resumeOnTimelinePlay:!!(4&e)}))},resetBeforeView:function(){this.resetProps()}});return o}),define("collections/presentation/AudioLib",["require","lodash","collections/BaseCollection","helpers/resume/Chunk","models/presentation/Audio"],function(e){"use strict";var t=(e("lodash"),e("collections/BaseCollection")),i=e("helpers/resume/Chunk"),n=e("models/presentation/Audio"),r=t.extend({model:n,getResumeData:function(e){return this.invoke("getResumeData",e).map(i.create).join("")},setResumeData:function(e,t){var n=new i({fullString:e});this.forEach(function(e){e.setResumeData(n.encodedString(),t),n=n.reChunk()})},resetBeforeView:function(){this.invoke("resetBeforeView")}});return r}),define("models/presentation/GroupingSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/utils"),r=n.createSuper(i),s=r("resolveables").concat(["objects"]),o=t.defaults({groupObjects:!0},r("abilities")),a=i.extend({resolveables:s,abilities:o,isGroupingSlideObject:!0,resolvers:{objects:function(e,t){return t.findNestedObject(e)}},getCorrectBounds:function(e,i){var n=e.getBounds(),r=e.prop("RawXPos"),s=e.prop("RawYPos");return t.extend({left:r,right:r+n.width,top:s,bottom:s+n.height,idx:i},t.pick(n,"height","width"))}});return a}),define("models/presentation/StateGroupSlideObject",["require","lodash","helpers/resolver","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("models/presentation/SlideObject"),r=e("models/presentation/GroupingSlideObject"),s=e("helpers/utils"),o=e("helpers/actionManager"),a=(s.createSuper(n),r.extend({shorthand:["actionstates"],isStateGroupSlideObject:!0,setState:function(e,n){var r=t.findWhere(this.actionstates(),{name:i.getRef(e.stateRef,n.context,n)});return r&&(this.prop("ObjectState",r.name),t.isEmpty(r.actions)||o.executeActions(r.actions,t.extend(n,{context:this}))),this},getIsSlideableParent:function(){return this.objects().some(function(e){return!!e.dragpath()})},getStateFromIndex:function(e){return this.actionstates()[e].name},getCurrentStateIndex:function(){return this.actionstates().indexOf(this.getStateFromVar())},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getStateFromVar:function(){var e=this.get("actionstates");return e&&t.findWhere(e,{name:this.prop("ObjectState")})},getStateFromName:function(e){var i=this.get("actionstates");return i&&t.findWhere(i,{name:e})},getClickDef:function(){var e=this.getStateFromVar();return e&&e.clickdef}}));return a}),define("models/presentation/ShuffledGroupingSlideObject",["require","lodash","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("models/presentation/GroupingSlideObject"),r=e("helpers/utils"),s=r.createSuper(i),o=function(e){return r.isTrue(e.get("shuffleLock"))},a=function(e,t){e.prop("ShuffleXPos",t),e.prop("RawXPos",t)},l=function(e,t){e.prop("ShuffleYPos",t),e.prop("RawYPos",t)},u=function(e,i,n){return t.sortBy(n,e).every(function(t,n,r){var s=r[n-1];return s?t[e]>=s[e]+.75*s[i]:!0})},c=t.partial(u,"top","height"),h=t.partial(u,"left","width"),p=function(e,i,n,r,s){var o=e[r],a=this.getCorrectBounds(o),l=e[r-1],u=l&&this.getCorrectBounds(l),c=t.partial(i.updateDefaultCoord,o),h=t.partial(i.updateAltCoord,o);if(0===r)c(n[i.origin]),h(s.length>1&&"endpoint"===s[1].altAlign?n[i.altEndpoint]-a[i.dimension]:n[i.altOrigin]);else switch(c(u[i.endpoint]+n.defaultSpacing),n.altAlign){case"origin":h(u[i.altOrigin]);break;case"endpoint":h(u[i.altEndpoint]-a[i.dimension]);break;case"oOffset":h(u[i.altOrigin]+n.altSpacing);break;case"eOffset":h(u[i.altEndpoint]+n.altSpacing)}},d=function(e,t,i){var n=e[i];a(n,t.left),l(n,t.top)},f=t.defaults({resolveAsParent:!1,groupObjects:!0},s("abilities")),m=n.extend({abilities:f,initialize:function(){s("initialize").apply(this,arguments),this.shouldShuffle=!0,this.listenTo(this.getSlide(),"resume:applied",this.markAsResumed),this.listenTo(this.getSlide(),"resume:complete",this.resumeComplete),this.get("shuffle")&&this.setShuffleBounds().determineSpacing().sortBoundsFromSpacing().shuffleAndLayout()},markAsReset:function(){this.shouldShuffle=!0},markAsResumed:function(){this.shouldShuffle=!1},resumeComplete:function(){this.shouldShuffle&&this.shuffleAndLayout()},shuffleAndLayout:function(){return this.get("shuffle")&&this.shuffleObjects().setSpacing().setShuffledPositions().setTabIndices(),this},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(e){return this.objects().at(e)}.bind(this))},shuffleObjects:function(){var e=t.shuffle(this.objects().slice());return this.repositionLockedItems(e),this.shuffledObjectIndices=e.map(function(e){return this.objects().indexOf(e)}.bind(this)),this},repositionLockedItems:function(e){this.objects().forEach(function(i,n){if(o(i)){var r=t.findIndex(this.originalBounds,{idx:n}),s=e[r],a=e.indexOf(i);e[r]=e[a],e[a]=s}}.bind(this))},determineSpacing:function(){return c(this.originalBounds)?this.spacing="vertical":h(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var e="vertical"===this.spacing?"top":"left";return this.originalBounds=t.sortBy(this.originalBounds,e),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=t.partial(d,this.getShuffledArray()),this;var e=this.originalBounds,i="vertical"===this.spacing,n=i?l:a,r=i?a:l,s=i?"top":"left",o=i?"left":"top",u=i?"bottom":"right",c=i?"right":"bottom",h=i?"height":"width";e.forEach(function(t,i){var n=e[i-1];n&&(t.defaultSpacing=t[s]-n[u],t[o]===n[o]?t.altAlign="origin":t[c]===n[c]?t.altAlign="endpoint":t[o]>n[c]?(t.altAlign="oOffset",t.altSpacing=t[o]-n[o]):(t.altAlign="eOffset",t.altSpacing=t[o]-n[c]))});var f={updateDefaultCoord:n,updateAltCoord:r,origin:s,altOrigin:o,endpoint:u,altEndpoint:c,dimension:h};return this.positionCallback=t.partial(p.bind(this),this.getShuffledArray(),f),this},setShuffledPositions:function(){return this.originalBounds.forEach(this.positionCallback),this},setTabIndices:function(){var e=this.originalBounds.map(function(e){return this.objects().at(e.idx).get("tabIndex")}.bind(this));return this.shuffledObjectIndices.forEach(function(t,i){this.objects().at(t).prop("tabIndex",e[i])}.bind(this)),this}});return m}),define("models/presentation/TextInputSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/constants")),i=(e("models/BaseModel"),e("models/presentation/SlideObject")),n=(e("helpers/utils"),i.extend({shorthand:["background"],variableProps:{Text:{type:t.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr}}));return n}),define("models/presentation/ScrollAreaSlideObject",["require","lodash","models/presentation/GroupingSlideObject","helpers/utils","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/GroupingSlideObject"),n=e("helpers/utils"),r=e("helpers/resolver"),s=n.createSuper(i),o=t.merge(s("shortEvents"),{self:{"action:updatescrollpos":"updateScrollPos","action:updatescrollheight":"updateScrollHeight"}}),a=i.extend({shorthand:["background","contentheight","contentwidth"],isGroupingContainer:!0,shortEvents:o,updateScrollPos:function(e,t){this.trigger("updateScrollPos",r.getRef(e.pos,t.context))},updateScrollHeight:function(e,t){this.contentheight(r.getRef(e.height,t.context)),this.trigger("updateScrollHeight")},getPathRef:function(){var e=this.background().vectorData;return e?e.pr:{}},getBounds:function(){var e=t(this.background().vectorData).pick("top","right","bottom","left").value(),i={xPos:e.left,yPos:e.top,right:e.right,bottom:e.bottom,fullX:e.left,fullY:e.top};return i.height=i.fullHeight=Math.abs(i.bottom-i.yPos),i.width=i.fullWidth=Math.abs(i.right-i.xPos),i}});return a}),define("models/presentation/ExpandingLabelSlideObject",["require","lodash","helpers/constants","models/presentation/GroupingSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("models/presentation/GroupingSlideObject"),r=e("helpers/utils"),s=n.extend({shorthand:["colors","background","borderColor"],isGroupingContainer:!0,initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:i.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var e=t(this.colors()),i=e.findWhere({name:"border"}),n=e.findWhere({name:"bg"});if(i){var s=t.first(i.fill.colors),o=r.toRgba(s.rgb,s.alpha);this.set("borderColor",o)}n&&this.set("background",n)}});return s}),define("models/presentation/DropListSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),r=e("helpers/utils"),s=r.createSuper(n),o=n.extend({variableProps:{SelectedItemIndex:{type:i.varTypes.NUM,value:-1}},initialize:function(){this.origItemsList=r.getPath(this,"data.itemlist").slice(),this.itemslist=this.origItemsList.slice(),this.createIdxHash(),this.shuffleItems()},createIdxHash:function(){this.itemsIdx=this.itemslist.reduce(function(e,t,i){return e[t.itemdata]=i,e},{})},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=t.shuffle(this.itemslist))},setResumeData:function(){s("setResumeData").apply(this,arguments);var e=this.prop("SelectedItemIndex");e>=0&&this.prop("SelectedItemData",this.origItemsList[e].itemdata)}});return o}),define("models/presentation/DropareaSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils","helpers/constants"],function(e){"use strict";var t=(e("lodash"),e("models/presentation/SlideObject")),i=(e("helpers/utils"),e("helpers/constants")),n=t.extend({variableProps:{SelectedItem:{type:i.varTypes.NUM,value:-1}}});return n}),define("models/presentation/DragitemSlideObject",["require","lodash","models/presentation/SlideObject","helpers/constants","helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=(e("lodash"),e("models/presentation/SlideObject")),i=e("helpers/constants"),n=e("helpers/utils"),r=e("helpers/resume/Chunk"),s=n.createSuper(t),o=4,a=512,l=function(e,t){return 0===(e&t)?e:e-t},u=t.extend({variableProps:{SelectedItem:{type:i.varTypes.NUM,value:-1}},buildResumeData:function(){var e,t;return t=s("buildResumeData").apply(this,arguments),"wordbank"===this.get("style")&&this.prop("SelectedItem")>=0&&(e=r.fromUnsignedString64(this.encodedResumeData.slice(0,3)),e=l(e,o),e=l(e,a),this.encodedResumeData=r.toUnsignedString64(e,3)+this.encodedResumeData.slice(3)),t}});return u}),define("models/presentation/SequenceCtrlSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),r=e("helpers/utils"),s=function(){return t.range(10).reduce(function(e,t){return e["_pos"+t]={type:i.varTypes.STRING,value:"",resume:!1},e},{})},o=t.extend(s(),{ItemOrder:{type:i.varTypes.STRING,value:""}}),a=n.extend({variableProps:o,initialize:function(){this.setupItemsList()},setupItemsList:function(){var e;this.itemsListOrder=r.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce(function(e,t,i){return e[t.itemdata]=i,e},{}),this.itemslist=t.shuffle(this.itemsListOrder),e=this.itemslist.reduce(function(e,t,i){return e+this.itemsIdx[this.itemslist[i].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",e)},getIndexByData:function(e){return this.itemsIdx[e]}});return a}),define("models/presentation/SlideFrameSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("models/presentation/SlideObject")),i=e("helpers/utils"),n=i.createSuper(t),r=t.extend({shorthand:["background"],initialize:function(){n("initialize").apply(this,arguments),this.getLayer().once("data:updated",this.onLayerDataUpdated.bind(this))},getPathRef:function(){return this.background().vectorData.pr},onLayerDataUpdated:function(){var e=this.getClosestParentRef();e.isGroupingSlideObject&&this.listenTo(e,"hide",this.onParentGroupHide.bind(this))},onParentGroupHide:function(){this.prop("OnStage",!1),this.trigger("hide")}});return r}),define("collections/presentation/SlideObjects",["require","lodash","collections/BaseCollection","models/presentation/SlideObject","models/presentation/GroupingSlideObject","models/presentation/StateGroupSlideObject","models/presentation/ShuffledGroupingSlideObject","models/presentation/TextInputSlideObject","models/presentation/ScrollAreaSlideObject","models/presentation/ExpandingLabelSlideObject","models/presentation/DropListSlideObject","models/presentation/DropareaSlideObject","models/presentation/DragitemSlideObject","models/presentation/SequenceCtrlSlideObject","models/presentation/SlideFrameSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/SlideObject"),r=e("models/presentation/GroupingSlideObject"),s=e("models/presentation/StateGroupSlideObject"),o=e("models/presentation/ShuffledGroupingSlideObject"),a=e("models/presentation/TextInputSlideObject"),l=e("models/presentation/ScrollAreaSlideObject"),u=e("models/presentation/ExpandingLabelSlideObject"),c=e("models/presentation/DropListSlideObject"),h=e("models/presentation/DropareaSlideObject"),p=e("models/presentation/DragitemSlideObject"),d=e("models/presentation/SequenceCtrlSlideObject"),f=e("models/presentation/SlideFrameSlideObject"),m=e("helpers/utils"),g=function(e){return e.abilities.groupObjects},v={objgroup:r,stategroup:s,shufflegroup:o,textinput:a,scrollarea:l,expandinglabel:u,droplist:c,droparea:h,dragitem:p,sequencectrl:d,slideframe:f},y=i.extend({model:function(e,t){var i=v[e.kind]||n;return m.buildDataStructure(i,t,e)},findNestedObject:function(e){var i;return t.find(this.filter(g),function(t){return i=t.objects().get(e),!!i}),i}});return[r,o,s,l,u].forEach(function(e){e.addAssociation("objects",y)}),y}),define("models/presentation/SlideLayer",["require","lodash","models/BaseModel","helpers/actionManager","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideLayerResumable","models/presentation/mixins/propertizable","helpers/assetManager","mixins/actionable","collections/presentation/AudioLib","collections/presentation/SlideObjects","collections/presentation/Variables","models/presentation/Timeline","collections/presentation/Animations","helpers/resolver","helpers/pubSub","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=(e("helpers/actionManager"),e("models/presentation/mixins/eventable")),r=e("mixins/varPropListenable"),s=e("models/presentation/mixins/resumables/slideLayerResumable"),o=e("models/presentation/mixins/propertizable"),a=e("helpers/assetManager"),l=e("mixins/actionable"),u=e("collections/presentation/AudioLib"),c=e("collections/presentation/SlideObjects"),h=e("collections/presentation/Variables"),p=e("models/presentation/Timeline"),d=e("collections/presentation/Animations"),f=e("helpers/resolver"),m=e("helpers/pubSub"),g=e("helpers/keyManager"),v="custom",y=i.extend({mixins:[n,l,s,o,r],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(e,t){return t.findNestedObject(e)}},shortEvents:{timeline:{complete:"onTimelineComplete"},self:{"action:show_slidelayer":"show","action:hide_slidelayer":"hide","action:setactivetimeline":"setActiveTimeline","action:pause_timeline":"onPauseTimeline","action:pause_animations":"pauseTimeline","action:resume_timeline":"resumeTimeline"}},abilities:function(){return{resolveAsThis:!this.isBaseLayer(),beEventTarget:!this.isBaseLayer(),resolveAsParent:!this.isBaseLayer()}},associations:{objects:c,audiolib:u,timeline:p,variables:h,animations:d},isSlideLayer:!0,initialize:function(){this.abilities=this.abilities(),this.isBaseLayer()&&(this.depth(0),this.baseLayerPauses=[]),this.createObjectIndex()},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return a.getAssetUrl(this.background().imagedata.assetId)},isPenetrable:function(){return!this.modal()},setAsTopMostLayer:function(e){return this.determineObjectVisibility(e),this.executePlayerEvent(e?"ontopmostlayer":"endtopmostlayer"),this},determineObjectVisibility:function(e){var t=this.get("hideobjectsondisplay")||[];return t.forEach(function(t){var i=f.resolvePath(t.value,this);i.setHiddenByLayer(!e,this.id)}.bind(this)),setTimeout(function(){m.trigger("slideLayer:resolvedObjectVisibility")}.bind(this),0),this},toggleVisibility:function(e,t,i){var n="show"===e,r=n?"shown":"hidden",s=null!=i&&i.transition===v,o=function(){i&&"oncomplete"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger(r,this),this.visibleState=n,n&&this.get("modal")&&g.setCurrentModal(this),this.executePlayerEvent("ontransitionincomplete")}.bind(this);if(n){if(this.setAsViewed(),this.shownInCurrentView=!0,i&&"onstart"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger("activated",this),this.isOpen)return this;this.resume()||this.wasForcedResumed||this.resetResume(),this.timeline().pause(),this.isOpen=!0}else{if(this.wasForcedResumed=!1,!this.isOpen)return this;this.isOpen=!1}if(this.cancelTransition(),s){var a=this.animations().get(i.animationId);this.trigger(e+v,i,this,a,o)}else o();return this},setActiveTimeline:function(e){var t=f.getRef(e.objRef,this),i=f.resolvePath(t,this),n=i.isSlide?i.slideLayers().getBaseLayer():i,r=n.timeline();return this.trigger("timeline:changed",r),m.trigger("layer:timelineActived",n),this},cancelTransition:function(){this.trigger("cancelTransition")},pauseTimeline:function(e){this.timeline().pause(e)},resumeTimeline:function(){(this.isOpen||this.isBaseLayer())&&(m.trigger("timeline:currentTimeline",this.timeline()),this.timeline().play())},getIsTimelinePaused:function(){var e=this.timeline();return e.hasStarted()&&!e.isPlaying()},pauseTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses.push(e),this.baseLayerPauses=t.unique(this.baseLayerPauses),1===this.baseLayerPauses.length&&(this.shouldPlayOnCloseLayer=!this.getIsTimelinePaused(),this.pauseTimeline()))},resumeTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses=t.without(this.baseLayerPauses,e),0===this.baseLayerPauses.length&&this.shouldPlayOnCloseLayer&&this.resumeTimeline())},isTimelineLayerPlayable:function(){return 0===this.baseLayerPauses.length},onTimelineComplete:function(){m.trigger("preview:notify",this.isBaseLayer()?"PREVIEW_SLIDE_COMPLETE":"PREVIEW_SLIDELAYER_COMPLETE"),this.getClosestThisRef().executePlayerEvent("ontimelinecomplete")},pauseVideos:function(e){e.each(function(e){e.isKind("video")?e.trigger("slideLayer:pauseTimeline"):e.isGroupingSlideObject&&this.pauseVideos(e.objects())}.bind(this))},onPauseTimeline:function(){this.pauseVideos(this.objects())},createObjectIndex:function(){var e=0;this.objectIndex=[],this.objDecendants=[];var t=function(i){i.forEach(function(i){var n=i.isKind("shufflegroup");n||(this.objectIndex.push(i),i.setSlideIndex(e++),this.objDecendants.push(i)),i.objects&&t(i.objects()),n&&this.objDecendants.push(i)}.bind(this))}.bind(this);return t(this.objects()),this},getObjectByIndex:function(e){return this.objectIndex[e]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(e){this.isBaseLayer()||e||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0}}),b=y.prototype;return b.show=t.partial(b.toggleVisibility,"show","ontopmostlayer"),b.hide=t.partial(b.toggleVisibility,"hide","endtopmostlayer"),y}),define("collections/presentation/SlideLayers",["require","lodash","collections/BaseCollection","models/presentation/SlideLayer","helpers/pubSub","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/SlideLayer"),r=(e("helpers/pubSub"),e("helpers/resume/Chunk")),s=function(e){return!e.isBaseLayer()&&!e.isShowable},o=i.extend({model:n,shortEvents:{self:{hidden:"onLayerHidden",hideOtherLayers:"onHideOtherLayers",activated:"onLayerActivated"}},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},onHideOtherLayers:function(e){var i=t.indexOf(this.activeLayers,e);return-1===i&&(i=this.activeLayers.length),t.invoke(t.take(this.activeLayers,i),"hide"),this},pauseBaseLayer:function(e){return this.getBaseLayer().pauseTimelineFromLayer(e),this},pauseAll:function(e){this.invoke("pauseTimeline",e),this.invoke("cancelTransition")},playBaseLayer:function(e){return this.getBaseLayer().resumeTimelineFromLayer(e),this},getSlide:function(){return this.getClosestAncestorWithAssoc(o)},hideAllHideableLayers:function(){t.invoke(this.filter(s),"hide")},onLayerActivated:function(e){var i=this.getTopMostLayer(),n=i===e;n||null==i||i.setAsTopMostLayer(!1),e.pauseParent()&&!t(this.activeLayers).contains(e)&&this.pauseBaseLayer(e),this.bringToFront(e),e.setAsTopMostLayer(!0)},getTopMostLayer:function(){return t(this.activeLayers).last()},onLayerHidden:function(e){var i=this.getTopMostLayer(),n=e===i;t(this.activeLayers).contains(e)&&(n&&e.setAsTopMostLayer(!1),this.removeLayerFromActive(e),i=this.getTopMostLayer(),n&&null!=i&&i.setAsTopMostLayer(!0),this.getSlide().currentTimeline()===e.timeline()&&this.trigger("timeline:changed",this.getBaseLayer().timeline()),e.pauseParent()&&this.playBaseLayer(e))},bringToFront:function(e){return this.activeLayers=t(this.activeLayers).without(e).push(e).value(),this.remapLayerDepths(),this},removeLayerFromActive:function(e){return this.activeLayers=t.without(this.activeLayers,e),this.remapLayerDepths(),this},remapLayerDepths:function(){this.activeLayers.forEach(function(e,t){e.depth(t+1)})},resetActiveLayers:function(){return t.forEach(this.activeLayers,function(e){e.isOpen=!1}),this.activeLayers=[],this},restoreActiveLayers:function(e){for(var t,i=new r({fullString:e});i.encodedString().length>0;)t=this.at(i.getUnsignedValue()+1),t.show().setAsShowable(),
i=i.reChunk();this.getBaseLayer().shouldPlayOnCloseLayer=!0},getActiveLayersResumeData:function(){return this.activeLayers.reduce(function(e,t){return e+r.create(r.toSignedString64(t.index()-1))},"")}});return o}),define("models/presentation/mixins/resumables/interactionResumable",["require","lodash","helpers/constants","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/resume/Chunk"),r=[i.statuses.CORRECT,i.statuses.INCOMPLETE,i.statuses.INCORRECT,i.statuses.NEUTRAL],s=function(e,t){return e>-1?"0"+n.toUnsignedString64(e,2):"1"+n.create(t)},o=function(e,t){return[e,t].join(".")},a=t.partial(o,"statements"),l=t.partial(o,"choices"),u={init:function(){t.bindAll(this,"responseToResumeData")},updateInitialAttemptCount:function(){this.initialAttemptCount=this.prop("AttemptCount"),this.responsesBuiltOnExit=!1},getResumeData:function(){var e=this.prop("AttemptCount"),t=n.toUnsignedString64(e,2);return this.initialAttemptCount!==e||this.responsesBuiltOnExit||this.buildResponses(),t+=[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,e>0?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getAttemptResumeData:function(){return[r.indexOf(this.prop("Status")),n.create(n.toSignedString64(this.prop("Score"))),n.create(n.toSignedString64(this.prop("LastScore"))),n.create(n.toSignedString64(this.prop("AnswerIndex")))].join("")},getNoAttemptResumeData:function(){var e=this.responses||[],t=n.toUnsignedString64(e.length,2);return t+e.map(this.responseToResumeData.bind(this)).join("")},responseToResumeData:function(e){var i,r,o,a=this.isValidResponse(e),l=this.isPairResponse(e),u=(a?2:0)+(l?1:0),c=n.toUnsignedString64(u,1);return a&&(r=l?e.choiceResponse:e,t.isString(r)||(r=r.value()),o=t.findIndex(this.choices(),{id:r.split(".")[1]}),c+=s(o,r),l&&(i=t.findIndex(this.statements(),{id:e.statementResponse.split(".")[1]}),c+=s(i,e.statementResponse))),n.create(c)},reset:function(){this.resetResume(!0)},resetResume:function(e){e===!0?this.resetProps():this.resetPropsExcept("LastScore"),this.resetResponses()},resetResponses:function(){this.responses=[],this.curAnswer=null},setResumeData:function(e){if(null!=e&&""!==e){var t=function(t){var i=e.slice(0,t);return e=e.slice(t),i};this.prop({AttemptCount:n.fromUnsignedString64(t(2)),Answered:"1"===t(1),Unanswered:"1"===t(1)}),this.prop("AttemptCount")>0?this.setAttemptResumeData(e):this.setNoAttemptResumeData(e)}},setAttemptResumeData:function(e){var t=function(t){var i=e.slice(0,t);return e=e.slice(t),i},i=parseInt(t(1)),s=new n({fullString:e}),o=s.reChunk(),a=o.reChunk(),l=a.getSignedValue();this.prop({Status:r[i],Score:s.getSignedValue(),LastScore:o.getSignedValue(),AnswerIndex:l}),this.curAnswer=this.answers()[l]},setNoAttemptResumeData:function(e){for(var t,i,r,s,o,u,c,h,p=function(t){var i=e.slice(0,t);return e=e.slice(t),i},d=function(){return"0"===p(1)},f=function(){var t=new n({fullString:e}),i=t.encodedString();return e=t.remainder(),i},m=n.fromUnsignedString64(p(2)),g=new n({fullString:e});m--;)e=g.encodedString(),g=g.reChunk(),t=n.fromUnsignedString64(p(1),10),i=1&t,r=2&t,r&&(d()?(o=n.fromUnsignedString64(p(2)),c=this.choices()[o].id,s=l(c)):s=f(),i&&(d()?(u=n.fromUnsignedString64(p(2)),h=a(this.statements()[u].id)):h=f(),s={choiceResponse:s,statementResponse:h}),this.responses=this.responses||[],this.responses.push(s))}};return u}),define("helpers/interactionHelper",["require","lodash","backbone","helpers/utils","helpers/errorManager","helpers/conditioner","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=(e("backbone"),e("helpers/utils"),e("helpers/errorManager")),n=e("helpers/conditioner"),r=(e("helpers/actionManager"),i.warn("interactionHelper")),s=function(e,t){return t.length===e.length},o=function(e,t){var i=e.getClosestAncestorByKind("slide");return n.evaluateStatement(t,i)},a={};a.multiplechoice=a.truefalse=a.hotspot=a.wordbank=a.multipleresponse=[s,function(e,t,i){return o(i,{kind:"and",statements:e.map(function(e){return{kind:"compare",operator:e.ignorecase?"ichas":"has",valuea:t,valueb:e.choiceid,typea:"object",typeb:"string"}})})}],a.sequence=a.matching=[function(e,i,n){var r=t.zip(e,i).map(function(e){return t.extend.apply(t,e)});return o(n,{kind:"and",statements:r})}],a.numeric=[function(e,t,i){return o(i,{kind:"and",statements:e.map(function(e){return e.statement})})}],a.fillin=[function(e,t,i){var n=i.prop("Value")[0];return o(i,{kind:"or",statements:e.map(function(e,t){return{kind:"compare",operator:e.ignorecase?"iceq":"eq",valuea:n,valueb:i.getChoiceById(e.choiceid).lmstext,typea:"string",typeb:"string"}})})}];var l={setCurrInteraction:function(e){return this.interaction=e,this},getChosenAnswer:function(e){return t.find(this.interaction.answers(),function(t){return this.evaluateResponses(e,t)}.bind(this))},evaluateAnswers:function(e){if(!this.interaction)return void r("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.");var t=this.getChosenAnswer(e);return t||r("evaluateAnswers","no answer found."),t},evaluateResponses:function(e,t){return this.performEvaluation(e,t)},isOther:function(e){var i=t.first(e.evaluate.statements);return!!i&&"other"===i.kind},getEvalFns:function(){return a[this.interaction.type()]},performEvaluation:function(e,i){var n=this.interaction,r=this.getEvalFns();return this.isOther(i)||!t.isEmpty(r)&&r.every(function(t){return t(i.evaluate.statements,e,n)}.bind(this))}};return l}),define("models/presentation/interactions/Interaction",["require","lodash","models/BaseModel","helpers/constants","helpers/conditioner","helpers/resume/resumer","views/helpers/dom","models/presentation/mixins/resumables/interactionResumable","helpers/interactionHelper","models/presentation/mixins/propertizable","mixins/actionable","helpers/actionManager","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/constants"),r=e("helpers/conditioner"),s=e("helpers/resume/resumer"),o=e("views/helpers/dom"),a=e("models/presentation/mixins/resumables/interactionResumable"),l=e("helpers/interactionHelper"),u=e("models/presentation/mixins/propertizable"),c=e("mixins/actionable"),h=e("helpers/actionManager"),p=e("helpers/utils"),d=function(e){return/^choices/.test(e)},f={};f.essay=f.numeric=f.fillin=function(e){return[o.writeNode("answer"),e,o.writeCloseNode("answer")].join("")},f.likert=f.sequence=f.matching=function(e){var t=this.getChoiceById(e.choiceResponse),i=this.getStatementById(e.statementResponse);return o.writeNode("answer",{statementid:i.lmstext,choiceid:t.lmstext},!0)},f.multiplechoice=f.truefalse=f.hotspot=f.wordbank=f.multipleresponse=function(e){var t=this.getChoiceById(e);return null!=t?o.writeNode("answer",{choiceid:t.lmstext},!0):void 0};var m={numeric:function(e,t,i){return e.push(r.statementToString(t.statement,this)),e},matching:function(e,t,i){return e.push({choice:this.getChoiceById(t.choiceid),statement:this.getStatementById(t.statementid)}),e},"default":function(e,t,i){return e.push(this.getChoiceById(t.choiceid)),e}};m.sequence=m.matching;var g=function(e,i,n){return t.findWhere(e.get(i),{id:n.replace(i+".","")})},v=i.extend({mixins:[c,u,a],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],subscriptions:{"player:reset":"reset"},shortEvents:{self:{"action:eval_interaction":"onEvalInteraction","action:addchoiceresponse":"onAddChoiceResponse","action:addpairresponse":"onAddPairResponse"}},playerPropNames:{AttemptCount:0,Status:n.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=t.partial(g,this,"choices"),this.getStatementById=t.partial(g,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var e=this.prop("AttemptCount")+1;return this.prop("AttemptCount",e),this},appendAttempts:function(){return this.attempts.push(t.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:s.getCourseTime()})),this},setAsViewed:function(e){this.prop("Viewed",e)},setStatusFromCurAnswer:function(){var e;return e=null!=this.curAnswer?this.curAnswer.status:this.get("issurvey")?n.statuses.NEUTRAL:n.statuses.INCORRECT,this.prop("Status",e),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.curAnswer.points,Score:this.curAnswer.points}),this},evaluate:function(e){return this.attempt().updateCurAnswer().setScore().setStatusFromCurAnswer().appendAttempts().trigger("interaction:evaluated",this).executeAnswerActions(e),this},updateUserResponse:function(){return this.buildResponses(),this.hasValidResponses()&&this.updateCurAnswer(),this},updateCurAnswer:function(){var e=this.isType("numeric")?parseFloat:t.identity;return this.curAnswer=l.setCurrInteraction(this).evaluateAnswers(this.responses.map(e)),this.setAsAnswered().setAnswerIndex(),this},executeAnswerActions:function(e){var t=this.curAnswer;null!=e&&t&&h.executeActions(t.actions,{context:this.getClosestAncestorByKind("slide")})},buildResponses:function(){var e=this.responseDefinition().actions;return this.responses=[],null!=e&&(h.executeActions(e,{context:this.getClosestAncestorByKind("slide")}),this.updateValue()),this},updateValue:function(){var e=this.isType("numeric"),i=e?"first":"identity",n=e?parseFloat:t.identity;return this.prop("Value",t[i](this.responses.map(n))),this},addResponse:function(e){return this.responses.push(e),this},onEvalInteraction:function(e){this.buildResponses().evaluate(e)},onAddChoiceResponse:function(e){var i={string:t.identity,"var":function(e){return this.resolvePath(e).value()}},n=i[e.type]||this.resolvePath;this.addResponse(n.call(this,e.value))},onAddPairResponse:function(e){var t=e.valuea,i=e.valueb;this.addResponse({statementResponse:t,choiceResponse:d(i)?i:this.resolvePath(i)})},getCorrectAnswer:function(){return t.find(this.answers(),{status:n.statuses.CORRECT})},getCorrectResponse:function(){var e=this.getCorrectAnswer(),i=m[this.type()]||m["default"];return t.reduce(e?e.evaluate.statements:[],i.bind(this),[])},evaluateUnanswered:function(){if(!this.hasValidResponses())return this.attempt(),this.setStatusFromCurAnswer(),this.prop("Answered",!0),void this.trigger("interaction:evaluated",this);var e=this.prop("AnswerIndex");this.prop("Score");e>-1&&(this.curAnswer=this.answers()[e],this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:this.curAnswer.points,Unanswered:!1,Answered:!0})),this.evaluate()},isPairResponse:function(e){return null!=e&&(null!=e.statementResponse||null!=e.choiceResponse)},isValidResponse:function(e){return null!=e&&(this.isPairResponse(e)?""!==e.statementResponse&&null!=e.statementResponse&&""!==e.choiceResponse&&null!=e.choiceResponse:""!==e)},hasResponses:function(){return null!=this.responses&&this.responses.length>0},hasValidResponses:function(){return this.hasResponses()&&this.responses.every(this.isValidResponse.bind(this))},isPassing:function(){return this.prop("Status")===n.statuses.CORRECT},markAttempts:function(){this.attempts.forEach(function(e){e.Sent=!0})},getAoSoapXml:function(){return 0===this.prop("AttemptCount")||0===this.attempts.length?"":[o.writeNode("interaction",{idRef:p.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),o.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(e,t,i,n){var r=i===n.length-1,s=f[this.type()].bind(this),a=[o.writeNode("attempt",{time:t.Latency,"final":r.toString(),pointsAwarded:t.Score,result:t.Status,sent:t.Sent})];return t.responses.map(s).forEach(function(e){a.push(e)}),a.push(o.writeCloseNode("attempt")),e.push(a.join("")),e}.bind(this),[]).join("")},getCorrectValues:function(){return this.prop("CorrectResponse")},getResponseValues:function(e){return(this.responses||[]).map(function(e){return t.isPlainObject(e)?{statement:this.getStatementById(e.statementResponse||e.statement),choice:this.getChoiceById(e.choiceResponse||e.choice)}:this.isType("numeric")||this.isType("fillin")||this.isType("essay")||this.isType("likert")?e.toString():this.getChoiceById(e.toString())}.bind(this))}}),y=v.prototype;return y.getLastScore=t.partial(y.prop,"LastScore"),v}),define("collections/presentation/interactions/Interactions",["require","collections/BaseCollection","models/presentation/interactions/Interaction"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Interaction"),n=t.extend({model:i});return n}),define("helpers/audioPlaylistManager",["require","helpers/utils"],function(e){"use strict";var t,i=e("helpers/utils"),n=function(e){t=e},r=function(e){return t.load(i.stripPlayer(e.absoluteId))};return{initialize:n,load:r}}),define("models/presentation/Slide",["require","lodash","models/BaseModel","helpers/pubSub","models/presentation/mixins/eventable","mixins/actionable","mixins/varPropListenable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/slideResumable","collections/presentation/SlideLayers","collections/presentation/Variables","collections/presentation/interactions/Interactions","helpers/constants","helpers/assetManager","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/utils","helpers/scaler","helpers/vow","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/pubSub"),r=e("models/presentation/mixins/eventable"),s=e("mixins/actionable"),o=e("mixins/varPropListenable"),a=e("models/presentation/mixins/propertizable"),l=e("models/presentation/mixins/resumables/slideResumable"),u=e("collections/presentation/SlideLayers"),c=e("collections/presentation/Variables"),h=e("collections/presentation/interactions/Interactions"),p=e("helpers/constants"),d=e("helpers/assetManager"),f=e("helpers/audioPlaylistManager"),m=e("helpers/globalAudioManager"),g=(e("helpers/utils"),e("helpers/scaler")),v=e("helpers/vow"),y=(e("helpers/resolver"),{});y[p.statuses.INCOMPLETE]=1,y[p.statuses.INCORRECT]=2,y[p.statuses.CORRECT]=3,y[p.statuses.NEUTRAL]=4;var b=function(e,t){return y[e]-y[t]},w=i.extend({isSlide:!0,mixins:[r,s,l,a,o],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background"],playerPropNames:{Viewed:!1,WindowId:null,LastKeyCodeString:null,LastKeyCode:-1,LastKeyValue:null,LastKeyCtrl:!1,LastKeyShift:!1,LastKeyAlt:!1},resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(e,t){var i=t.getBaseLayer();return i.objects().get(e)||i.audiolib().get(e)||i.objects().findNestedObject(e)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:u,variables:c,interactions:h},shortEvents:{self:{"action:zoompan":"zoomPan","action:seek_timeline":"onSeekTimeline"},slideLayers:{"timeline:changed":"onTimelineChanged"},interactions:{"interaction:evaluated":"onInteractionEvaluated"}},subscriptions:{"slide:pauseTimeline":"onPauseTimeline","slide:playTimeline":"onPlayTimeline"},initialize:function(){this.viewed=!1,this.quizzes=[],this.loadedDfd=new v.Deferred,this.fullId([this.parent.id,this.id].join(p.PATH_DELIMITER)),this.onResetCurrentTimelineDelegate=this.onResetCurrentTimeline.bind(this)},resetCurrentTimeline:function(){return this.setCurrentTimeline(this.getBaseLayer().timeline()),this},url:function(){return this.get("html5url")},backgroundImageUrl:function(){return d.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return v.isResolved(this.loadedDfd)},load:function(e){var t=this.loadedDfd,i=t.resolve.bind(t,this),n=f.load(this),r=m.load(this.get("globalAudioId"));return this.isLoaded()?(t=new v.Deferred,v.when(e.loadAssets(),n,r).then(t.resolve.bind(t,this))):this.getScene().isMessageScene()?i():v.when(this.fetch(),e.loadAssets(),n,r).then(i),t.promise()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor(function(e){return e.isScene})},getSlideDraw:function(){return this.getClosestAncestor(function(e){return e.isSlideDraw})},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var e=this.get("viewGroupId");return e.length>0?e:this.id},getTransitionAnimation:function(){return this.get("showAnimationId")?this.getBaseLayer().animations().findWhere({id:this.get("showAnimationId")}):void 0},zoomPan:function(e,t){this.trigger("zoompan",{action:e,event:t})},triggerAction:function(e){return s.triggerAction.apply(this,arguments),s.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(e){this.setCurrentTimeline(e)},setAsViewed:function(){var e=this.viewed;return this.viewed=!0,this.prop("Viewed",!0),e||this.interactions().forEach(function(e){e.setAsViewed(!0)}),this.get("trackViews")&&n.trigger("slide:viewed",this),this},hasInteractions:function(){return this.interactions().length>0},setQuiz:function(e){this.quizzes.push(e)},onInteractionEvaluated:function(){this.updateInteractionData()},storeInteractionResults:function(){return this.interactions().forEach(function(e){e.initialAttemptCount===e.prop("AttemptCount")&&(e.responsesBuiltOnExit=!0,e.updateUserResponse())}),this},getInteractionAttempted:function(){var e=!1,t=this.interactions&&this.interactions();return t&&t.length>0&&(e=t.reduce(function(e,t){return e&&t.prop("AttemptCount")>0},!0)),e},getInteractionStatus:function(){var e,t,i=this.interactions&&this.interactions();return i&&i.length>0&&(t=i.reduce(function(e,t){return e[t.prop("Status")]=!0,e},{}),e=Object.keys(t).sort(b)[0]),e},getVariableChangeSubscriptions:function(){null==this.varAndPropSubscriptions&&(this.varAndPropSubscriptions=null==this.events()?[]:this.setVarAndPropListeners(),this.slideLayers().forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners()),e.objectIndex.forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners())}.bind(this))}.bind(this)))},removeVariableChangeSubscriptions:function(){null!=this.varAndPropSubscriptions&&(this.varAndPropSubscriptions.forEach(function(e){e.listener.stopListening(e.obj,e.event,e.callback)}),this.varAndPropSubscriptions=null)},calculateTotalScale:function(){var e,i=this.parentTransform?this.parentTransform.scale:1,n=g.getScale()||1,r=t.get(this,"currView.props.slideContainer.props.scale");return null!=this.parentTransform||null!=g.getScale()||null!=r?(e=i*n,this.pinchZoomScale&&(e*=this.pinchZoomScale),null!=r&&(e*=r),1/e):1},setCurrentTimeline:function(e){var t=this.currentTimeline();return null!=t&&t.off("reset",this.onResetCurrentTimelineDelegate),this.currentTimeline(e),e.on("reset",this.onResetCurrentTimelineDelegate),this.trigger("slide:currentTimeline"),this},onSeekTimeline:function(e){this.currentTimeline().seek(e.position)},onPauseTimeline:function(){this.wasPlaying=[],this.slideLayers().forEach(function(e){e.getIsTimelinePaused()||this.wasPlaying.push(e)}.bind(this)),this.slideLayers().pauseAll(!0)},onPlayTimeline:function(){this.wasPlaying&&this.wasPlaying.forEach(function(e){e.timeline().play()})},onResetCurrentTimeline:function(){var e=this.getBaseLayer().timeline(),t=this.currentTimeline();e===t?this.restart():(this.slideLayers().find(function(e){return e.timeline()===t}).prepareResumeData().resetBeforeView().applyResumeData(),t.play())},restart:function(){return this.prepareResumeData().resetBeforeView().applyResumeData(),this.beginPlayback()},reset:function(){return this.resetBeforeView(),this.beginPlayback()},beginPlayback:function(){return this.executePlayerEvent("onbeforeslidein"),this.currentTimeline().play(),this.executePlayerEvent("onslidestart"),this}});return w}),define("collections/presentation/Slides",["require","collections/BaseCollection","models/presentation/Slide"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Slide"),n=t.extend({model:i});return n}),define("models/presentation/mixins/resumables/sceneOrDrawResumable",["require","lodash","helpers/vow","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/resumer"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=(e("models/presentation/helpers/utils"),e("helpers/resume/Chunk")),r=e("helpers/resume/resumer"),s="slides",o="slidedraws",a={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},l=function(e){return e.isSlideDraw||e.resume()||e.hasInteractions()},u={postInit:function(){var e;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(e=this.slidedraws().invoke("getSlidePromise"),i.after.apply(i,e).done(this.createDrawResumeArray.bind(this))))},getResumableArray:function(e){return this[e]().filter(l)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(l).reduce(function(e,t){return this.slidesResumeMap.push(t.index()),e.push(n.EMPTY_CHUNK),e}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(e,t){return t.createSlideResumeArray(),this.slidedrawsResumeMap.push(t.index()),e.push(n.create(t.getResumeData())),e}.bind(this),[])},createOrderArray:function(e){this.resumeOrder=e.map(function(e){return n.toUnsignedString64(this.sliderefs().indexOf(e),2)}.bind(this)).join("")},getMapIndexOf:function(e,t){return this[e].indexOf(t.index())},saveData:function(e,t){if(l(t)){var i=a.indexGetters[e],s=a.arrays[e],o=this[i](t);this[s][o]=n.create(t.getResumeData())}this.isScene?r.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){var e=this.isSlideDraw?"getDrawResume":"getSceneResume";return this[e]()},getDrawResume:function(){var e=this.variables();return[n.create(this.resumeOrder),this.slidesResume.join(""),e.length?n.create(e.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){var e=this.variables();return[e.length?n.create(e.getResumeDataOrReturn("")):"",this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},clearResumeData:function(){this.createSlideResumeArray()},setResumeData:function(e){if(""!==e&&null!=e){var t=this.isSlideDraw?"setDrawResume":"setSceneResume";this[t](e)}},setSceneResume:function(e){var t,i=new n({fullString:e}),r=i,s=this.variables();s.length&&(s.setResumeData(i.encodedString()),r=i.reChunk()),t=this.setSlideResumeData(r),this.setDrawsResumeData(t)},setDrawResume:function(e){var t,i=new n({fullString:e}),r=i.reChunk(),s=this.variables();this.setSlidesInResumeOrder(i.encodedString()),t=this.setSlideResumeData(r),s.length&&s.setResumeData(t.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(e){var t,i;for(this.resumeOrder=[];e.length>0;)t=e.slice(0,2),this.resumeOrder.push(n.fromUnsignedString64(t)),e=e.slice(2);i=this.resumeOrder.map(function(e){return this.sliderefs()[e]}.bind(this)),this.generateSlides(i)},setSlidesOrDrawsResumeData:function(e,t){var i,r=a.arrGetters[e],s=this[r](),o=this[a.arrays[e]];return s.forEach(function(e,r){i=t.encodedString(),o[r]=n.create(i),e.setResumeData(i),t=t.reChunk()}),t}};return u.saveSlideData=t.partial(u.saveData,s),u.saveDrawData=t.partial(u.saveData,o),u.getSlideMapIndexOf=t.partial(u.getMapIndexOf,a.maps[s]),u.getDrawMapIndexOf=t.partial(u.getMapIndexOf,a.maps[o]),u.getResumableSlidesArray=t.partial(u.getResumableArray,s),u.getResumableDrawsArray=t.partial(u.getResumableArray,o),u.setSlideResumeData=t.partial(u.setSlidesOrDrawsResumeData,s),u.setDrawsResumeData=t.partial(u.setSlidesOrDrawsResumeData,o),u}),define("models/presentation/SlideDraw",["require","lodash","helpers/pubSub","helpers/utils","helpers/vow","helpers/resolver","helpers/constants","collections/presentation/Slides","collections/presentation/Variables","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/sceneOrDrawResumable","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/utils"),r=e("helpers/vow"),s=e("helpers/resolver"),o=e("helpers/constants"),a=e("collections/presentation/Slides"),l=e("collections/presentation/Variables"),u=e("models/BaseModel"),c=e("mixins/actionable"),h=e("models/presentation/mixins/propertizable"),p=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),d=e("helpers/actionManager"),f=function(e,i,n){var r=t.partial(t.findWhere,i);return n.filter(function(t){return null!=r({id:t.id})===e})},m=u.extend({isSlideDraw:!0,mixins:[p,c,h],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups"],shortEvents:{self:{"action:setdrawreview":"onSetDrawReview"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:l},subscriptions:{"player:reset":"generateDraw"},initialize:function(){this.slideDfd=new r.Deferred,i.once("data:initialized",this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var e=[this.parent.id,this.id].join(o.PATH_DELIMITER);this.slides().forEach(function(t){t.fullId(e)})},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return t.first(this.sliderefs())},getBottomSlide:function(){return t.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return n.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(e){var t=e.nextSibling();return t&&t.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){this.trigger("slidedraw:exit"),d.executeAction(this.exitaction(),{context:this})},getTop:function(){var e,i=this.sliderefs(),n=0,r=[];if(this.hasLockedTopSlide())for(r.push(this.getTopSlide());r.length&&t.last(r).linknext&&(e=i[n+1]);)r.push(i[++n]);return r},getBottom:function(){var e,i=this.sliderefs(),n=i.length-1,r=[];if(this.hasLockedBottomSlide())for(r.push(this.getBottomSlide());t.first(r).linkprev&&(e=i[n-1]);)r.unshift(i[--n]);return r},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(e){for(;e.length&&e[0].linkprev;)e.shift();for(;e.length&&t.last(e).linknext;)e.pop();return e},getMiddle:function(e,i){if(0>=i)return[];var n,r,s,o=this.shuffle(),a=[],l=this.getScene().getRefs(),u=t.partial(f,!1,l),c=t.partial(f,!0,l),h=u(e),p=function(e){return o?Math.floor(Math.random()*e):0};if(h.length<i)for(s=c(e);h.length<i;)h.push.apply(h,s.splice(p(s.len),1));for(;a.length<i&&h.length;){for(r=p(h.length),n=h[r];n.linkprev;)n=h[--r];for(;n;)a.push.apply(a,h.splice(r,1)),n=n.linknext&&h[r]}return a},getIncludedSlides:function(e){return e.filter(function(e){return e.shuffleinclude})},generateDraw:function(){var e,i,n,r=this.getTop(),s=this.getBottom(),o=this.getTrimmedSlides(),a=this.getIncludedSlides(o);return o=t.xor(o,a),i=(this.get("shuffle")?this.shufflecount():this.sliderefs().length)-(r.length+s.length+a.length),e=this.getMiddle(o,i),n=r.concat(a,e,s),this.generateSlides(n),this},generateSlides:function(e){this.trigger("draw:reset",this);var t=this.resolveSlides(e);return this.set("slides",new a(t,{parent:this})),e.forEach(function(e){this.getScene().addRef(e)}.bind(this)),this.createOrderArray(e),this.trigger("draw:resetcomplete",this),this},resolveSlides:function(e){return e.map(function(e){var i=n.prefixWithPlayer(e.id),r=t.cloneDeep(s.resolvePath(i,this));return r}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(e){this.isInReview=e.review}});return m}),define("collections/presentation/SlideDraws",["require","collections/BaseCollection","models/presentation/SlideDraw"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideDraw"),n=t.extend({model:i});return n}),define("models/presentation/Scene",["require","models/BaseModel","helpers/vow","lodash","collections/presentation/Slides","collections/presentation/SlideDraws","collections/presentation/Variables","models/presentation/mixins/resumables/sceneOrDrawResumable","models/presentation/mixins/propertizable"],function(e){"use strict";var t=e("models/BaseModel"),i=e("helpers/vow"),n=e("lodash"),r=e("collections/presentation/Slides"),s=e("collections/presentation/SlideDraws"),o=e("collections/presentation/Variables"),a=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),l=e("models/presentation/mixins/propertizable"),u=t.extend({isScene:!0,mixins:[a,l],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:r,slidedraws:s,variables:o},resolveables:["slides","slidedraws","variables","actionGroups"],shorthand:["startingSlide","isMessageScene"],initialize:function(){this.usedRefs=[]},addRef:function(e){this.usedRefs.push(e)},getRefs:function(){return this.usedRefs},hasDraws:function(){return this.slidedraws().length>0},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var e=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=new i.Deferred,i.after.apply(i,e).done(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var e=this.hasDraws()?n(this.slidedraws().pluck("slides")).invoke("slice").flatten().value():[];return this.slides().slice().concat(e)}});return u}),define("collections/presentation/Scenes",["require","collections/BaseCollection","models/presentation/Scene"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Scene"),n=t.extend({model:i,getNonMessageScenes:function(){return this.reject(function(e){return e.isMessageScene()})}});return n}),define("collections/presentation/SlideBank",["require","collections/BaseCollection"],function(e){"use strict";var t=e("collections/BaseCollection"),i=t.extend({});return i}),define("helpers/VideoLoader",["require","helpers/MediaLoader","helpers/utils","helpers/videoManager"],function(e){"use strict";var t=e("helpers/MediaLoader"),i=e("helpers/utils"),n=e("helpers/videoManager"),r=(i.createSuper(t),t.extend({createElement:function(){return this.setElement(n.getVideoElement(this.url)),this},teardown:function(){this.el.pause(),this.remove()}}));return r}),define("models/presentation/Asset",["require","lodash","helpers/AudioLoader","models/BaseModel","polyfills/detection","helpers/MediaLoader","helpers/utils","helpers/VideoLoader","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AudioLoader"),n=e("models/BaseModel"),r=e("polyfills/detection"),s=e("helpers/MediaLoader"),o=e("helpers/utils"),a=e("helpers/VideoLoader"),l=e("helpers/vow"),u={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi".split(" "),audio:"mp3".split(" ")},c={audio:i,video:a},h=n.extend({shorthand:["url","type","width","height","mobiledx","mobiledy","captions"],initialize:function(){this.url(o.resolveAssetUrl(this.url())),this.inferType()},ext:function(){return t.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var e=this.ext();return this.type(t.reduce(u,function(i,n,r){return t.contains(n,e)?r:i},null)),this},load:function(){var e,t,i=this.type(),n="audio"===i;if(!this.isValid()||this.isLoaded&&(!n||!r.hasAudioApi()))return e=new l.Deferred,t=e.resolve().promise(),
t.dfd=e,t;var o=c[i]||s,a=new o({type:this.type(),url:this.url(),autoload:!0});return a.promise.then(function(){this.isLoaded=!0}.bind(this)).always(a.teardown.bind(a)),a.promise.dfd=a.dfd,a.promise}});return h}),define("collections/presentation/Assets",["require","collections/BaseCollection","models/presentation/Asset"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Asset"),n=t.extend({model:i});return n}),define("collections/presentation/interactions/Quizzes",["require","collections/BaseCollection","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/resume/Chunk"),n=t.extend({getResumeData:function(){return this.invoke("getResumeData").map(i.create).join("")||i.create("")},setResumeData:function(e){return this.forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e}});return n}),define("models/presentation/interactions/Quiz",["require","lodash","helpers/utils","helpers/constants","views/helpers/dom","helpers/resolver","helpers/external/tinCan","models/BaseModel","collections/presentation/interactions/Quizzes","collections/presentation/SlideRefs","mixins/actionable","helpers/resume/resumer","models/presentation/mixins/propertizable","helpers/pubSub","helpers/vow","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),r=e("views/helpers/dom"),s=e("helpers/resolver"),o=(e("helpers/external/tinCan"),e("models/BaseModel")),a=e("collections/presentation/interactions/Quizzes"),l=e("collections/presentation/SlideRefs"),u=e("mixins/actionable"),c=e("helpers/resume/resumer"),h=e("models/presentation/mixins/propertizable"),p=e("helpers/pubSub"),d=e("helpers/vow"),f=e("helpers/windowManager"),m=function(e){return!e.prop("Answered")},g=function(e){return 0===e.prop("AttemptCount")},v=function(e){return e.prop("Viewed")===!0},y=function(e){return v(e)&&m(e)},b=function(e){return v(e)&&g(e)},w=function(e){return e.get("istracked")===!0},S=function(e){return e.skipenabled()},x=function(e){return e.isSlide||T(e)},T=function(e){return e.isSlideDraw},C=function(e){return Math.floor(100*e)/100},P=o.extend({mixins:[h,u],shorthand:["issurvey","passPercent","submitunanswered","scoretype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:l},playerPropNames:{mustPass:!0,QuizComplete:!1,AllQuestionsSubmitted:!1,AllQuestionsAnswered:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:{"action:eval_all_unanswered":"evalAllUnanswered","action:setquizcomplete":"setQuizComplete","action:nextviewedslide":"onNextReviewedSlide","action:resetquiz":"onResetQuiz"}},subscriptions:{"data:initialized":"onDataInitialized","slide:hasChanged":"onSlideHasChanged","player:reset":"onResetQuiz"},maxPoints:0,attempts:0,initialize:function(){this.referencesBuilt=new d.Deferred,this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences(),this.referencesBuilt.then(this.updateInteractionRefs.bind(this))},updateInteractionRefs:function(){this.updateMaxPoints(),this.updatePassScore(),this.listenForEvaluations(),this.listenForAnswered()},disconnectReferences:function(){null!=this.flatInteractions&&this.flatInteractions.forEach(function(e){this.stopListening(e)}.bind(this))},buildReferences:function(){return this.buildQuizzes(),this.slides=t(this.sliderefs().invoke("getSlide")).filter(x).value(),this.draws=this.slides.filter(T),this.waitForDraws(),d.after.apply(d,this.quizzes.map(t.property("referencesBuilt"))).then(this.referencesBuilt.resolve),this},waitForDraws:function(){var e=this.slides.filter(T),t=!0;e.forEach(function(e){var i=this.onDrawReceived.bind(this,e);this.listenTo(e,"change:slides",i),this.listenTo(e,"draw:reset",this.onDrawReset.bind(this)),this.listenTo(e,"draw:resetcomplete",this.onAfterDrawReset.bind(this)),null==e.slides()?t=!1:i()}.bind(this)),0===e.length&&this.afterDrawReceived()},onDrawReset:function(e){this.disconnectReferences(),e.slides().forEach(function(e){t.remove(this.slides,e)}.bind(this))},onAfterDrawReset:function(e){this.updateInteractionRefs()},onDrawReceived:function(e){var t=e.spliceIdx||this.slides.indexOf(e),i=e.spliceNum||1;e.spliceIdx=t,e.spliceNum=e.slides().length,this.slides.splice.apply(this.slides,[t,i].concat(e.slides().slice())),this.afterDrawReceived()},afterDrawReceived:function(){var e;return this.interactions=t(this.slides).invoke("interactions").compact().value(),this.flatInteractions=t(this.interactions).invoke("slice").flattenDeep().filter(w).value(),this.slides.forEach(function(e){null!=e.setQuiz&&e.setQuiz(this)}.bind(this)),this.flatInteractions.forEach(function(e,t){e.prop("QuestionIndex",t)}),e=0===this.flatInteractions.length,this.prop({AllQuestionsSubmitted:this.prop("AllQuestionsSubmitted")||e,AllQuestionsAnswered:this.prop("AllQuestionsAnswered")||e}),this},onSlideHasChanged:function(e){this.currentPlayerSlideId=e},getCurrentSlideIndex:function(){return t.findIndex(this.slides,function(e){return i.stripPlayer(e.absoluteId)===this.currentPlayerSlideId}.bind(this))},onNextReviewedSlide:function(e,i){var n,r=this.getCurrentSlideIndex()+1;r===this.slides.length?p.trigger("nextSlide:requesting",e.completed_slide_ref.value):(n=t.find(this.slides.slice(r),function(e){return t.contains(c.totalViewedSlides,e)}),null!=n&&p.trigger("nextSlide:requesting",n.absoluteId))},onResetQuiz:function(){this.resetProps(),this.completed=!1,t.invoke(this.flatInteractions,"resetResume",!0),this.slides.forEach(function(e){e.resetResume(),e.updateInteractionData().onAfterResumeBuilt()}),t.invoke(this.draws,"generateDraw"),this.updatePassScore().updateScore(),this.hasScoring()&&this.getScoring().prop("Completed",!1),c.savePresentationData(),this.attempts++},listenForEvaluations:function(){this.interactions.forEach(function(e){this.listenTo(e,"interaction:evaluated",this.onInteractionEvaluated)}.bind(this))},listenForAnswered:function(){this.flatInteractions.forEach(function(e){this.listenTo(e.getPlayerProps(),"change:Answered",this.onInteractionAnswered)}.bind(this))},buildQuizzes:function(){var e=(this.getClosestParentRef(),this.get("quizrefs")||[]);this.quizzes=e.map(function(e){var t=s.resolvePath(i.prefixWithPlayer(e.id),this);return t.prop({mustPass:e.mustpass,weight:e.weight}),t}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(e){e.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every(function(e){return e.prop("mustPass")&&e.isPassed()})},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return t.reduce(this.flatInteractions,function(e,i){return e+t.result(i,"getLastScore",0)},0)},calcChildScores:function(){return this.reduceQuizzes(function(e,t){return e+t.calcScore()},0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this.prop("Passed",this.isPassed()),this},calcPassScore:function(){return C(i.pctToDec(this.prop("PassPercent"))*this.maxPoints)},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return C(i.decToPct(this.prop("Score")/this.maxPoints))},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return t(this.flatInteractions).invoke("maxpoints").reduce(i.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes(function(e,t){return e+t.calcMaxPoints()},0)},reduceQuizzes:function(e,t){return 0===this.quizzes.length?t:this.quizzes.reduce(e.bind(this),t)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},onInteractionEvaluated:function(e){this.updateScore().updateAllQuestionsSubmitted(),p.trigger("interaction:evaluated",this,e)},onInteractionAnswered:function(e){this.prop("AllQuestionsAnswered",this.getUnansweredInteractions().every(S))},onChangeScoreProp:function(){this.updatePercentScore()},updateAllQuestionsSubmitted:function(){return this.prop("AllQuestionsSubmitted",this.getUnsubmittedInteractions().every(S)),this},getUnsubmittedInteractions:function(){var e="viewed"===this.submitunanswered()?b:g;return this.flatInteractions.filter(e)},getUnansweredInteractions:function(){var e="viewed"===this.submitunanswered()?y:m;return this.flatInteractions.filter(e)},attempted:function(){return this.flatInteractions.length!==this.getUnansweredInteractions().length},evalAllUnanswered:function(){var e=f.getCurrentWindowSlide();return null!=e&&e.storeInteractionResults(),this.prop("Evaluated")||(this.getUnsubmittedInteractions().forEach(function(e){e.evaluateUnanswered()}),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.prop("Evaluated",!0)),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.updateScore(),this.setResumeInMotion(),this.timeComplete=this.timeComplete||new Date,this},setQuizComplete:function(){var e=this.completed;this.completed=!0,this.prop("QuizComplete",this.quizzes.every(function(e){return e.getIsComplete()})),this.updateScore(),e||p.trigger("quiz:completed",this),this.hasScoring()&&this.getScoring().checkCourseComplete(),this.timeComplete=new Date},getIsComplete:function(){return this.prop("QuizComplete")===!0},setResumeInMotion:function(){this.slides.forEach(function(e){e.updateInteractionData().onAfterResumeBuilt()})},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("QuizComplete"))].join("")},setResumeData:function(e){this.prop({Evaluated:"1"===e.charAt(0),QuizComplete:"1"===e.charAt(1)}),this.updateScore(),this.hasScoring()&&this.getScoring().updateStatus(),this.updateAllQuestionsSubmitted()},setScoring:function(e){this.scoring=e},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach(function(e){e.markAttempts()}),this.quizzes.forEach(function(e){e.markAttemptsSent()})},getAoSoapXml:function(){var e=[r.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?e.push(this.getQuizzesXml()):(e.push(r.writeNode("interactions")),this.flatInteractions.forEach(function(t){e.push(t.getAoSoapXml())}),e.push(r.writeCloseNode("interactions"))),e.push(r.writeCloseNode("quiz")),e.join("")},getQuizAttributes:function(){var e=this.isType("survey"),t=this.getIsComplete()?n.statuses.COMPLETE:n.statuses.INCOMPLETE,i=this.isPassed()?n.statuses.PASSING:n.statuses.FAILING,r=e?t:i,s={idRef:this.id,duration:0,status:r};return e||(s.score=Math.floor(100*this.prop("Score"))/100,s.possibleScore=this.maxPoints),s},getQuizzesXml:function(){var e=[r.writeNode("quizzes")];return this.quizzes.forEach(function(t){e.push(t.getAoSoapXml())}),e.push(r.writeCloseNode("quizzes")),e.join("")}});return a.prototype.model=P,P}),define("models/presentation/interactions/Timer",["require","lodash","models/BaseModel","mixins/actionable","mixins/subscribable","models/presentation/mixins/eventable","helpers/resume/Chunk","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("models/BaseModel")),i=e("mixins/actionable"),n=e("mixins/subscribable"),r=e("models/presentation/mixins/eventable"),s=e("helpers/resume/Chunk"),o=e("helpers/utils"),a=t.extend({mixins:[i,r,n],shorthand:["events"],shortEvents:{self:{"action:showtimer":"onShowTimer","action:hidetimer":"onHideTimer","action:starttimer":"onStartTimer","action:pausetimer":"onPauseTimer","action:resettimer":"onResetTimer"}},onShowTimer:function(){this.trigger("show")},onHideTimer:function(){this.trigger("hide")},onStartTimer:function(){this.trigger("start")},onPauseTimer:function(){this.trigger("pause")},onResetTimer:function(){this.trigger("reset")},setResumeData:function(e){var t,i=this.currView;"1"===e.charAt(0)&&(null!=i?(this.trigger("show"),this.trigger("start"),t=s.fromSignedString64(e.substr(1)),i.elapsed(o.toSeconds(t),!0),this.deferredResumeData=""):this.deferredResumeData=e)},performDeferredResume:function(){null!=this.deferredResumeData&&this.setResumeData(this.deferredResumeData)},getResumeData:function(){var e=this.currView;return[e.started||e.resumeOnSlideReady?"1":"0",s.toSignedString64(o.toMilliseconds(e.elapsed()),3)].join("")}});return a}),define("collections/presentation/interactions/Timers",["require","collections/BaseCollection","models/presentation/interactions/Timer","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Timer"),n=e("helpers/resume/Chunk"),r=t.extend({model:i,getResumeData:function(){return this.invoke("getResumeData").map(n.create).join("")||n.create("")},setResumeData:function(e){return this.forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e}});return r}),define("models/presentation/AudioPlaylist",["require","lodash","helpers/appState","helpers/AudioLoader","helpers/audio/audioManager","models/BaseModel","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/appState"),n=e("helpers/AudioLoader"),r=e("helpers/audio/audioManager"),s=e("models/BaseModel"),o=e("helpers/vow"),a=function(e){return["presentation_content",e].join("/")},l=(new o.Deferred).resolve().promise(),u=(new o.Deferred).reject().promise(),c=s.extend({initialize:function(){this.clips={},this.onClipEndedDelegate=this.onClipEnded.bind(this),this.listenTo(i,"change:currentVolume",this.onVolumeChanged)},isPlaying:function(){return null!=this.currentlyPlayingIdx},getRelativeVolume:function(e){return this.get("volume")*e/100},play:function(){return this.get("filenames").length>0&&this.playIdx(0),this},playIdx:function(e){var t=this.get("filenames")[e],n=r.loadUrl(a(t));return n.on("audioClip:ended",this.onClipEndedDelegate),n.setVolume(this.getRelativeVolume(i.currentVolume())),n.play(),this.clips[e]=n,this.currentlyPlayingIdx=e,this.preloadNext(),this},stop:function(){return Object.keys(this.clips).forEach(this.stopIdx.bind(this)),delete this.currentlyPlayingIdx,this},stopIdx:function(e){var t=this.clips[e];return t.off("audioClip:ended",this.onClipEndedDelegate),t.destroy(),delete this.clips[e],this},pause:function(){return this.isPlaying()&&!this.isPaused&&(this.clips[this.currentlyPlayingIdx].pause(),this.isPaused=!0),this},resume:function(){return this.isPlaying()&&this.isPaused&&(this.clips[this.currentlyPlayingIdx].play(),this.isPaused=!1),this},load:function(){return this.get("filenames").length>0?this.loadIdx(0):l},loadIdx:function(e){var t=a(this.get("filenames")[e]),i=new n({type:"audio",url:t,autoload:!0});return i.promise.always(i.teardown.bind(i))},preloadNext:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return u;e=0}return e===this.currentlyPlayingIdx?u:this.loadIdx(e)},onClipEnded:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return void this.stopIdx(this.currentlyPlayingIdx);e=0}this.currentlyPlayingIdx!==e?(this.stopIdx(this.currentlyPlayingIdx),this.playIdx(e)):this.clips[this.currentlyPlayingIdx].seek(0).play()},onVolumeChanged:function(e,i){t.invoke(this.clips,"setVolume",this.getRelativeVolume(i))}});return c}),define("collections/presentation/AudioPlaylists",["require","lodash","models/presentation/AudioPlaylist","collections/BaseCollection","helpers/resolver","helpers/utils","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/AudioPlaylist"),n=e("collections/BaseCollection"),r=e("helpers/resolver"),s=e("helpers/utils"),o=e("helpers/vow"),a=(new o.Deferred).resolve().promise(),l=t.memoize(function(e){return r.resolvePath(s.prefixWithPlayer(e),null,{optional:!0})}),u=n.extend({model:i,subscriptions:{"slide:started":"onSlideStarted"},initialize:function(){this.onTimelinePlayingDelegate=this.onTimelinePlaying.bind(this),this.onTimelinePausedDelegate=this.onTimelinePaused.bind(this),this.onTimelineSeekStartDelegate=this.onTimelineSeekStart.bind(this),this.onTimelineSeekEndDelegate=this.onTimelineSeekEnd.bind(this)},findPlaylist:function(e){return this.find(function(t){return t.get("slideids").indexOf(e)>=0})},load:function(e){var t=this.findPlaylist(e);return null==t||t.isPlaying()?(null!=this.timeline&&(this.timeline.off("playing",this.onTimelinePlayingDelegate),this.timeline.off("paused",this.onTimelinePausedDelegate),this.timeline.off("seekStart",this.onTimelineSeekStartDelegate),this.timeline.off("seekEnd",this.onTimelineSeekEndDelegate),delete this.timeline),a):t.load()},onSlideStarted:function(e){var t=this.currentlyPlaying,i=this.findPlaylist(e);t!==i&&(null!=t&&t.stop(),null!=i&&i.play()),null!=i&&(this.timeline=l(e).getBaseLayer().timeline(),this.timeline.on("playing",this.onTimelinePlayingDelegate),this.timeline.on("paused",this.onTimelinePausedDelegate),this.timeline.on("seekStart",this.onTimelineSeekStartDelegate),this.timeline.on("seekEnd",this.onTimelineSeekEndDelegate)),this.currentlyPlaying=i},onTimelinePlaying:function(){this.seeking||this.currentlyPlaying.resume()},onTimelinePaused:function(){this.seeking||this.currentlyPlaying.pause()},onTimelineSeekStart:function(){this.seeking=!0},onTimelineSeekEnd:function(){this.seeking=!1}});return u}),define("models/presentation/Presentation",["require","lodash","helpers/vow","models/BaseModel","models/presentation/SlideMap","models/presentation/Display","models/presentation/Scoring","collections/presentation/Variables","collections/presentation/Scenes","collections/presentation/SlideBank","collections/presentation/Assets","models/presentation/interactions/Quiz","collections/presentation/interactions/Quizzes","collections/presentation/interactions/Timers","models/presentation/mixins/eventable","models/presentation/mixins/propertizable","collections/presentation/AudioPlaylists","collections/presentation/AudioLib","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/windowManager","helpers/pubSub","helpers/constants","mixins/actionable","mixins/varPropListenable"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=e("models/BaseModel"),r=e("models/presentation/SlideMap"),s=e("models/presentation/Display"),o=e("models/presentation/Scoring"),a=e("collections/presentation/Variables"),l=e("collections/presentation/Scenes"),u=(e("collections/presentation/SlideBank"),e("collections/presentation/Assets")),c=(e("models/presentation/interactions/Quiz"),e("collections/presentation/interactions/Quizzes")),h=e("collections/presentation/interactions/Timers"),p=e("models/presentation/mixins/eventable"),d=e("models/presentation/mixins/propertizable"),f=e("collections/presentation/AudioPlaylists"),m=e("collections/presentation/AudioLib"),g=e("helpers/utils"),v=e("helpers/actionManager"),y=e("helpers/errorManager"),b=(e("helpers/windowManager"),e("helpers/pubSub")),w=(e("helpers/constants"),e("mixins/actionable")),S=e("mixins/varPropListenable"),x=y.throwError("Presentation"),T=function(e){return!e.isMessageScene()},C=n.extend({mixins:[w,p,S],resolveables:["variables"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:a}}),P=n.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[p,d],subscriptions:{"customlink:event":"onCustomlink","actionlink:event":"onActionlink","presentation:onobjectevent":"onObjectAction","error:interface":"onInterfaceError","slide:hasChanged":"onSlideChanged","data:initialized":"onDataInitialized"},url:function(){return g.resolveDataUrl("data")},associations:{slideMap:r,display:s,scoring:o,variables:a,scenes:l,assetLib:u,globalaudiolib:m,quizzes:c,timers:h,audioplaylists:f},resolveables:["scenes","variables","actionGroups","quizzes","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups","playerVars"],playerPropNames:{CurrentSlideId:null,LastErrorFeature:null},resolvers:{slideBank:function(e,i){return t.findWhere(i.slides,{id:e})}},getPlayerVarDefaultValues:function(){var e=this.get("playervars"),t={};return e.forEach(function(e){t[e.name]=e.value}),t},createPlayerVars:function(){var e=this.getPlayerVarDefaultValues(),t={displayCaptions:"boolean"},i=new C({variables:[{kind:"variable",name:"displayCaptions",type:t.displayCaptions||"boolean",value:e.displayCaptions||!1,resume:!1}]});this.playerVars(i)},onDataInitialized:function(){var e=t(this.scenes().models).invoke("slidedraws").map(function(e){return e.models}).flatten();e.some()?e.forEach(function(e){this.listenTo(e,"draw:resetcomplete",this.prepareToCreateSlideIndices.bind(this))}.bind(this)).commit():this.prepareToCreateSlideIndices(),null!=this.get("playervars")&&this.createPlayerVars()},getDrawPromise:function(){return null==this.drawPromise&&(this.drawPromise=i.after.apply(i,t.invoke(this.scenes().filter(T),"getDrawPromise"))),this.drawPromise},prepareToCreateSlideIndices:function(){this.getDrawPromise().done(this.createSlideIndices.bind(this))},getFlatSlides:function(e){var i=null!=e?T:Boolean;return t(this.scenes().filter(i)).invoke("getAllSlides").flatten().value()},getUniqueSlides:function(){var e=this.getFlatSlides(!0),t={};return e.reduce(function(e,i){var n=i.getViewGroupId(),r=i.get("trackViews");return r&&null==t[n]&&(t[n]=!0,e.push(i)),e},[])},createSlideIndices:function(){var e=0;this.scenes().forEach(function(i){i.slides().forEach(function(t){t.prop("Index",e++)}),i.slidedraws().forEach(function(i){var n=i.sliderefs();i.slides().forEach(function(i){i.prop("Index",e+t.findIndex(n,{id:i.id}))}),e+=n.length})})},onCustomlink:function(e){this.executePlayerEvent(e)},onActionlink:function(e){var i=t.get(t.find(this.get("actionlinks"),{id:e}),"actions");null==i?x("onActionLink","No action link with id",y.backtick(e)):v.executeActions(i,{context:this})},eventByName:function(e){return t.findWhere(this.events(),{eventname:e})},onObjectAction:function(e){var t=this.eventByName(e);null!=t&&v.executeActions(t.actions,{context:this})},onInterfaceError:function(e){var t=this.get("errorMsgs").external_interface;this.prop("LastErrorFeature",e),b.trigger("nextSlide:requesting",t.slideId,t.window)},onSlideChanged:function(e,t){t||this.prop("CurrentSlideId",e)},isPreview:t.memoize(function(){return!!g.getPath(this,"preview.enabled")})});return P}),define("models/player/Link",["require","lodash","models/BaseModel","helpers/utils","collections/player/Links"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),r=e("collections/player/Links"),s=i.extend({associations:{links:r},shorthand:["slideid"],isLink:!0,initialize:function(){this.isActionLink=this.isType("action"),this.isKind("slidedrawref")?this.collection.prepareDrawSlides(this,this.get("drawid")):this.isActionLink||t.isEmpty(this.slideid())||this.slideid(n.prefixWithPlayer(this.slideid()))},findDeep:function(e){return this.slideid()===e?this:this.links().findDeep(e)},isOrHasChild:function(e){return!!this.findDeep(e)},hasChild:function(e){return this.links().hasChildSlide(e)}});return r.prototype.model=s,s}),define("models/player/NavData",["require","models/BaseModel","models/player/Link","collections/player/Links"],function(e){"use strict";var t=e("models/BaseModel"),i=(e("models/player/Link"),e("collections/player/Links")),n=t.extend({associations:{links:i}}),r=t.extend({associations:{outline:n}});return r}),define("models/player/ResourceData",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection"),n=t.extend({shorthand:["description"],associations:{resources:i}});return n}),define("models/player/Player",["require","lodash","models/BaseModel","collections/BaseCollection","models/player/NavData","models/player/ResourceData","helpers/utils","helpers/constants","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("collections/BaseCollection"),r=e("models/player/NavData"),s=e("models/player/ResourceData"),o=e("helpers/utils"),a=e("helpers/constants"),l=e("helpers/pubSub"),u=i.extend({associations:{sidebarOptions:i.extend({associations:{tabs:i}}),bottomBarOptions:i,menuOptions:i,controls:i},subscriptions:{"controllayout:changed":"onChangeControls"},onChangeControls:function(e){this.controls().set(e)}}),c=i.extend({associations:{navData:r,glossaryData:n,resourceData:s,notesData:n,controlOptions:u,layouts:i,controlLayouts:i,stringTables:i},url:function(){return o.resolveDataUrl("frame")},initialize:function(){this.on("sync",this.onDataSynced)},getTab:function(e){return this.controlOptions().sidebarOptions().tabs().get(e)||[]},getLayout:function(e){return this.layouts().get(e)},onDataSynced:function(){var e=this.getLayout(this.get("default_layout")),t=this.controlLayouts().get(e.controllayout);l.trigger("controllayout:changed",t),l.trigger("scheme:changed",e.colorscheme),l.trigger("player:menuOptions",this.controlOptions().menuOptions()),a.player.OUTPUT_TYPE=this.get("outputtype")}}),h=c.prototype;return h.getSidebar=t.partial(h.getTab,"sidebar"),h.getLinkLeft=t.partial(h.getTab,"linkLeft"),h.getLinkRight=t.partial(h.getTab,"linkRight"),c}),define("views/App",["require","lodash","helpers/utils","helpers/pubSub","react","views/mixins/baseView","polyfills/detection","helpers/scaler","helpers/appState","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/pubSub"),r=e("react"),s=e("views/mixins/baseView"),o=e("polyfills/detection"),a=e("helpers/scaler"),l=e("helpers/appState"),u=e("polyfills/vendorOverrides");(u.detectVisibilityChange||function(){window.addEventListener("visibilitychange",function(){n.trigger(["detection:visibility",document.hidden?"hidden":"shown"].join(""))})})();var c=r.createClass({displayName:"App",mixins:[s],subscriptions:{"loader:show":"onLoaderShow","loader:mute":"onLoaderMute","loader:unmute":"onLoaderUnmute","loader:hide":"onLoaderHide","loader:removeTitle":"onRemoveLoaderTitle","window:scale":"onWindowScale","detection:orientationChange":"onOrientationChange","detection:visibilityhidden":"onVisibilityHidden","detection:visibilityshown":"onVisibilityShown","keyManager:frameControlKey":"onFrameControlKey"},shortEvents:{player:{"change:orientations":"refreshOrientations"}},getInitialState:function(){return t.extend({},this.getIsTooBig(),{hasError:!1,scale:a.getScale()})},isRtl:function(e){return"rtl"===e.toLowerCase()},componentWillMount:function(){n.once("player:error",function(){this.setState({hasError:!0})}.bind(this)),this.sidebarOpts=this.getPath("props.player.controlOptions.sidebarOptions"),this.bottomBarOpts=this.getPath("props.player.controlOptions.bottomBarOptions"),this.setDeviceClasses().refreshOrientations()},widthChange:function(e){this.setState({isTooWide:!e.matches})},heightChange:function(e){this.setState({isTooTall:!e.matches})},refreshOrientations:function(){return this.setState({orientations:this.props.player.get("orientations")}),this},componentDidMount:function(){var e,t,i=this.props.presentation.display().get("width"),r=this.props.presentation.display().get("height");this.killMainLoader(),this.state.isTooTall&&document.body.classList.add("is-too-tall"),this.state.isTooWide&&document.body.classList.add("is-too-wide"),window.matchMedia&&(e=window.matchMedia(["(min-width: ",i,"px)"].join("")),e.addListener(this.widthChange),t=window.matchMedia(["(min-height: ",r,"px)"].join("")),t.addListener(this.heightChange)),n.trigger("app:complete")},componentDidUpdate:function(e,t){var i=this.state.isTooTall,n=this.state.isTooWide,r=t.isTooTall,s=t.isTooWide;r!==i&&document.body.classList[i?"add":"remove"]("is-too-tall"),s!==n&&document.body.classList[n?"add":"remove"]("is-too-wide")},onLoaderHide:function(){clearTimeout(this.loaderTimeout),this.setState({showLoader:!1})},onLoaderMute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)},onLoaderUnmute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)},showLoaderDelayed:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)},onLoaderShow:function(e){e>0?this.showLoaderDelayed(e):this.setState({showLoader:!0})},getSpinLoader:function(){return document.querySelector("body > .slide-loader")},killMainLoader:function(){var e=this.getSpinLoader();null!=e&&(o.isMobile?this.onLoaderMute():e.parentNode.removeChild(e))},onRemoveLoaderTitle:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)},setDeviceClasses:function(){return o.isMobile?(document.body.classList.add("is-mobile"),document.getElementById("preso").setAttribute("class","")):document.body.classList.add("is-desktop"),this.isRtl(this.props.player.get("textdirection"))&&document.documentElement.classList.add("text-direction-rtl"),(o.isWebObject||o.hideFrame)&&document.body.classList.add("hide-frame"),this},hasLeftLink:function(){return i.getPath(this.sidebarOpts,"tabs.linkLeft")},hasRightLink:function(){return i.getPath(this.sidebarOpts,"tabs.linkRight")},hasTopBar:function(){return this.sidebarOpts.get("titleEnabled")||this.hasRightLink()||this.hasLeftLink()||this.getPath("props.player.controlOptions.controls.elapsedandtotaltime")||this.props.presentation.timers().length>0},hasSidebar:function(){return this.sidebarOpts.get("sidebarEnabled")},hasBottomBar:function(){return this.bottomBarOpts.get("bottomBarEnabled")},hasMobileUi:function(){var e=this.hasRightLink()||this.hasLeftLink();return e&&document.body.classList.add("has-custom-links"),!!(this.hasSidebar()||this.hasBottomBar()||e||o.is360)},sidebarPos:function(){return this.sidebarOpts.get("sidebarPos")},getErr:function(){return this.state.hasError?"shown":"hidden"},onWindowScale:function(){this.setState(t.extend({},this.getIsTooBig(),{scale:a.getScale()})),this.forceUpdate()},onOrientationChange:function(){this.setState(this.getIsTooBig())},onVisibilityHiddenMobile:function(){this.lastVolume=l.currentVolume(),n.trigger("volume:changed",0)},onVisibilityShownMobile:function(){null!=this.lastVolume&&(n.trigger("volume:changed",this.lastVolume),delete this.lastVolume)},getIsTooBig:function(){var e=this.props.presentation.display().get("width"),t=this.props.presentation.display().get("height"),i=a.getWindowDimensions(),n=a.getScale(),r=null!=n;return{isTooTall:r?!1:t>i.height,isTooWide:r?!1:e>i.width}},initKeyboardShortcuts:function(){n.trigger("player:enableKeyboardShortcuts",this.getPath("props.player.controlOptions.controls.enableKeyboardShortcuts"))},onFrameControlKey:function(e){var t=this.props.presentation;e.HOME?t.executePlayerEvent("first_slide_triggered"):e.END?t.executePlayerEvent("last_slide_triggered"):e.M&&n.trigger("volume:toggle")}}),h=c.prototype;return t.extend(h,{onVisibilityShown:o.isMobile?h.onVisibilityShownMobile:t.noop,onVisibilityHidden:o.isMobile?h.onVisibilityHiddenMobile:t.noop}),c}),define("helpers/authorApi",["require","lodash","helpers/automation","helpers/actionManager","helpers/resolver","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/automation"),r=e("helpers/actionManager"),s=e("helpers/resolver"),o=e("helpers/utils"),a=function(e){t=e,window.GetPlayer=h},l=function(e){var i=s.resolvePath(o.prefixWithPlayer(e),t);return i},u=function(e){var t=l(e);return null!=t?t.value():null},c=function(e,i){var n,s=l(e);null!=s&&(n={kind:"adjustvar",variable:s.absoluteId,operator:"set",value:{type:s.type(),value:i}},r.executeAction(n,{context:t}))},h=function(){var e=n.getPlayer&&n.getPlayer()||{};return i.extend(p,e)},p={GetVar:u,SetVar:c},d={initialize:a};return d}),define("helpers/previewHelper",["lodash","helpers/actionManager","helpers/errorManager","helpers/pubSub","helpers/resolver","helpers/utils"],function(e,t,i,n,r,s){
"use strict";var o,a,l,u=i.throwError("previewHelper"),c={kind:"adjustvar",operator:"set"},h={kind:"reset_player"},p=function(e){var t=r.resolvePath(s.prefixWithPlayer(e),{context:l,optional:!0});if(null==t)throw new Error(["No object exists at path ",s.doubleQuote(e)].join(""));return t},d=function(e){var t=p(e);return t.isVar?t.value():t},f=function(i,n){var r=p(i);if(!r.isVar)throw new Error(["Object at",s.doubleQuote(i),"is not a variable"].join(" "));t.executeAction(e.defaults({variable:r.absoluteId,value:{type:r.type(),value:n}},c),{context:l})},m=function(e){n.trigger("nextSlide:requesting",s.prefixWithPlayer(e))},g=function(i){t.executeAction(e.defaults({startslideid:s.prefixWithPlayer(i)},h),{context:l})},v=function(e){var t=p(e);if(!t.isSlide)throw new Error(["Object at",s.doubleQuote(e),"is not a slide"].join(" "));t.reset()},y=function(e){a.set("orientations",e)},b={getValue:d,gotoSlide:m,overrideOrientations:y,resetPlayer:g,resetSlide:v,setVariable:f},w=function(e){o.postMessage(JSON.stringify(e),"*")},S=function(e,t){w({jsonrpc:"2.0",id:e,result:t})},x=function(e,t){w({jsonrpc:"2.0",id:e,error:{code:-1,message:t}})},T=function(e,t){w({jsonrpc:"2.0",method:e,params:t})},C=function(){T("notifyPreview",e.toArray(arguments))},P=function(e){var t=JSON.parse(e.data);try{S(t.id,b[t.method].apply(this,t.params))}catch(i){x(t.id,i.message)}},E=function(e,t){if(t.isPreview()){if(null==window.parent||window.parent===window)return void u("initialize","Cannot load parent window");a=e,l=t,o=window.parent,window.addEventListener("message",P),n.on("preview:notify",C),C("PREVIEW_FRAME_READY")}},_={initialize:E};return _}),define("helpers/svg/reactSvg",["require","react"],function(e){"use strict";var t=e("react"),i=t.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return t.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:i,accumulate:i,alignmentBaseline:i,alphabetic:i,amplitude:i,animate:i,arabicForm:i,ascent:i,attributeType:i,azimuth:i,baseFrequency:i,baselineShift:i,bbox:i,bias:i,by:i,calcMode:i,capHeight:i,clip:i,clipPathUnits:i,clipRule:i,colorInterpolation:i,colorInterpolationFilters:i,colorProfile:i,colorRendering:i,contentScriptType:i,contentStyleType:i,cursor:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,dominantBaseline:i,dur:i,edgeMode:i,elevation:i,enableBackground:i,end:i,exponent:i,externalResourcesRequired:i,feColorMatrix:i,feComposite:i,feGaussianBlur:i,feMorphology:i,feTile:i,fillRule:i,filter:i,filterRes:i,filterUnits:i,floodColor:i,floodOpacity:i,fontSizeAdjust:i,fontStretch:i,fontStyle:i,fontVariant:i,fontWeight:i,format:i,from:i,g1:i,g2:i,glyphName:i,glyphOrientationHorizontal:i,glyphOrientationVertical:i,glyphRef:i,hanging:i,horizAdvX:i,horizOriginX:i,horizOriginY:i,ideographic:i,imageRendering:i,in2:i,"in":i,intercept:i,k1:i,k2:i,k3:i,k4:i,k:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lengthAdjust:i,letterSpacing:i,lightingColor:i,limitingConeAngle:i,local:i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,mode:i,numOctaves:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlinePosition:i,overlineThickness:i,panose1:i,path:i,pathLength:i,patternTransform:i,pointerEvents:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,primitiveUnits:i,radius:i,refX:i,refY:i,renderingIntent:i,repeatCount:i,repeatDur:i,requiredExtensions:i,restart:i,result:i,rotate:i,scale:i,seed:i,shapeRendering:i,slope:i,spacing:i,specularConstant:i,specularExponent:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,strikethroughPosition:i,strikethroughThickness:i,strokeDashoffset:i,strokeLinejoin:i,strokeMiterlimit:i,surfaceScale:i,systemLanguage:i,tableValues:i,targetX:i,targetY:i,textDecoration:i,textLength:i,textRendering:i,to:i,u1:i,u2:i,underlinePosition:i,underlineThickness:i,unicode:i,unicodeBidi:i,unicodeRange:i,unitsPerEm:i,vAlphabetic:i,vHanging:i,vIdeographic:i,vMathematical:i,values:i,vertAdvY:i,vertOriginX:i,vertOriginY:i,viewTarget:i,visibility:i,widths:i,wordSpacing:i,writingMode:i,xChannelSelector:i,xHeight:i,xmlns:i,yChannelSelector:i,z:i,zoomAndPan:i},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}),require([],function(){require(["features/featuresHelper"],function(e){null!=e.initialize&&e.initialize()}),require(["lodash","react","react-dom","helpers/jqueryHelpers","helpers/backboneSync","helpers/extend","helpers/templateManager","views/events/allEvents"],function(e,t,i){require(["models/presentation/Presentation","models/player/Player","helpers/resolver","helpers/slidesController","helpers/windowManager","helpers/windowOpen","helpers/assetManager","helpers/actionator","views/App","helpers/debug","helpers/pubSub","helpers/appState","helpers/vow","helpers/errorManager","helpers/svg/svgManager","helpers/stringTabler","helpers/automation","helpers/resume/resumer","helpers/keyManager","helpers/scaler","helpers/audio/audioManager","helpers/videoManager","helpers/authorApi","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/captionsManager","helpers/webObjectHelper","helpers/previewHelper","helpers/printer","helpers/GsapTweenLite","helpers/svg/reactSvg"],function(e,n,r,s,o,a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T,C,P,E,_,k,A,R){var M,I=new e,O=new n,L=function(){var e;r.initialize(I),s.initialize(I),e=b.initialize(I),y.initialize(s,I),o.initialize(I.display()),w.initialize(o),a.initialize(I),l.initialize(I.assetLib()),P.initialize(I.audioplaylists()),E.initialize(I.globalaudiolib()),u.initialize(O,I),v.initialize(O),C.initialize(I),k.initialize(I),R.initialize(I),p.trigger("data:initialized"),_.initialize(I.assetLib(),O,o,null!=I.playerVars()?I.playerVars().variables().get("displayCaptions"):null),M=i.render(t.createElement(c,{presentation:I,player:O,state:d}),document.body.querySelector("#preso")),S.initialize(),h.initialize(I,O,M),A.initialize(O,I),e.always(function(){M.initKeyboardShortcuts(),p.trigger("loader:removeTitle"),x.prepare(),T.prepare(I),f.isRejected(this)&&p.trigger("nextSlide:requesting"),b.courseStarted(f.isResolved(this))})},D=function(){m.throwError("init","initialization","Could not load presentation data")};f.when(I.fetch(),O.fetch(),g.fetch()).done(L).fail(D)})})}),define("main",function(){}),function(){"use strict";require.config({paths:{almond:"../../bower_components/almond/almond",lodash:"../../bower_components/lodash/lodash",backbone:"../../bower_components/backbone/backbone",shorthand:"../../bower_components/backbone.shorthand/src/backbone.shorthand",react:"../../bower_components/react/react-with-addons-dark-spider-patched","react-dom":"../../bower_components/react/react-dom",jquery:"../../bower_components/jquery/jquery","prefix-free":"../../bower_components/prefix-free/prefixfree.min","tween-lite":"../../bower_components/gsap/src/minified/TweenLite.min","timeline-lite":"../../bower_components/gsap/src/minified/TimelineLite.min","ease-pack":"../../bower_components/gsap/src/minified/easing/EasePack.min","css-plugin":"../../bower_components/gsap/src/minified/plugins/CSSPlugin.min","bezier-plugin":"../../bower_components/gsap/src/minified/plugins/BezierPlugin.min",tincan:"../../bower_components/tincan/build/tincan","slim-canvg":"../../bower_components/slim-canvg/slim-canvg",pathseg:"../../bower_components/pathseg/pathseg",captionator:"../../bower_components/captionator/js/captionator-min"},map:{"*":{underscore:"lodash",react:"helpers/ReactOverride"},"helpers/ReactOverride":{react:"react"}},shim:{shorthand:{deps:["backbone"]},react:{exports:"React"},"prefix-free":{exports:"PrefixFree"},"tween-lite":{exports:"TweenLite"},"timeline-lite":{exports:"TimelineLite",deps:["tween-lite"]},"ease-pack":{exports:"EasePack"},"css-plugin":{exports:"CSSPlugin"},"bezier-plugin":{exports:"BezierPlugin"},"slim-canvg":{exports:"slimCanvg"},captionator:{exports:"captionator"}}}),require(["./main"])}(),define("init.generated",function(){});